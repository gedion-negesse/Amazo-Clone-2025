function sV(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function FE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hv={exports:{}},$h={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WA;function aV(){if(WA)return $h;WA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:u,ref:i!==void 0?i:null,props:o}}return $h.Fragment=e,$h.jsx=t,$h.jsxs=t,$h}var QA;function oV(){return QA||(QA=1,Hv.exports=aV()),Hv.exports}var N=oV(),$v={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA;function lV(){if(YA)return Le;YA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,R={};function x(q,ae,be){this.props=q,this.context=ae,this.refs=R,this.updater=be||T}x.prototype.isReactComponent={},x.prototype.setState=function(q,ae){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ae,"setState")},x.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function U(){}U.prototype=x.prototype;function L(q,ae,be){this.props=q,this.context=ae,this.refs=R,this.updater=be||T}var j=L.prototype=new U;j.constructor=L,w(j,x.prototype),j.isPureReactComponent=!0;var $=Array.isArray,z={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function M(q,ae,be,ve,ye,Oe){return be=Oe.ref,{$$typeof:n,type:q,key:ae,ref:be!==void 0?be:null,props:Oe}}function C(q,ae){return M(q.type,ae,void 0,void 0,void 0,q.props)}function I(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function b(q){var ae={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(be){return ae[be]})}var P=/\/+/g;function O(q,ae){return typeof q=="object"&&q!==null&&q.key!=null?b(""+q.key):ae.toString(36)}function D(){}function te(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(D,D):(q.status="pending",q.then(function(ae){q.status==="pending"&&(q.status="fulfilled",q.value=ae)},function(ae){q.status==="pending"&&(q.status="rejected",q.reason=ae)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function F(q,ae,be,ve,ye){var Oe=typeof q;(Oe==="undefined"||Oe==="boolean")&&(q=null);var De=!1;if(q===null)De=!0;else switch(Oe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(q.$$typeof){case n:case e:De=!0;break;case g:return De=q._init,F(De(q._payload),ae,be,ve,ye)}}if(De)return ye=ye(q),De=ve===""?"."+O(q,0):ve,$(ye)?(be="",De!=null&&(be=De.replace(P,"$&/")+"/"),F(ye,ae,be,"",function(_t){return _t})):ye!=null&&(I(ye)&&(ye=C(ye,be+(ye.key==null||q&&q.key===ye.key?"":(""+ye.key).replace(P,"$&/")+"/")+De)),ae.push(ye)),1;De=0;var Ct=ve===""?".":ve+":";if($(q))for(var ze=0;ze<q.length;ze++)ve=q[ze],Oe=Ct+O(ve,ze),De+=F(ve,ae,be,Oe,ye);else if(ze=v(q),typeof ze=="function")for(q=ze.call(q),ze=0;!(ve=q.next()).done;)ve=ve.value,Oe=Ct+O(ve,ze++),De+=F(ve,ae,be,Oe,ye);else if(Oe==="object"){if(typeof q.then=="function")return F(te(q),ae,be,ve,ye);throw ae=String(q),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return De}function ee(q,ae,be){if(q==null)return q;var ve=[],ye=0;return F(q,ve,"","",function(Oe){return ae.call(be,Oe,ye++)}),ve}function ie(q){if(q._status===-1){var ae=q._result;ae=ae(),ae.then(function(be){(q._status===0||q._status===-1)&&(q._status=1,q._result=be)},function(be){(q._status===0||q._status===-1)&&(q._status=2,q._result=be)}),q._status===-1&&(q._status=0,q._result=ae)}if(q._status===1)return q._result.default;throw q._result}var ue=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function Te(){}return Le.Children={map:ee,forEach:function(q,ae,be){ee(q,function(){ae.apply(this,arguments)},be)},count:function(q){var ae=0;return ee(q,function(){ae++}),ae},toArray:function(q){return ee(q,function(ae){return ae})||[]},only:function(q){if(!I(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Le.Component=x,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=L,Le.StrictMode=r,Le.Suspense=d,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Le.act=function(){throw Error("act(...) is not supported in production builds of React.")},Le.cache=function(q){return function(){return q.apply(null,arguments)}},Le.cloneElement=function(q,ae,be){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ve=w({},q.props),ye=q.key,Oe=void 0;if(ae!=null)for(De in ae.ref!==void 0&&(Oe=void 0),ae.key!==void 0&&(ye=""+ae.key),ae)!H.call(ae,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ae.ref===void 0||(ve[De]=ae[De]);var De=arguments.length-2;if(De===1)ve.children=be;else if(1<De){for(var Ct=Array(De),ze=0;ze<De;ze++)Ct[ze]=arguments[ze+2];ve.children=Ct}return M(q.type,ye,void 0,void 0,Oe,ve)},Le.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},Le.createElement=function(q,ae,be){var ve,ye={},Oe=null;if(ae!=null)for(ve in ae.key!==void 0&&(Oe=""+ae.key),ae)H.call(ae,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(ye[ve]=ae[ve]);var De=arguments.length-2;if(De===1)ye.children=be;else if(1<De){for(var Ct=Array(De),ze=0;ze<De;ze++)Ct[ze]=arguments[ze+2];ye.children=Ct}if(q&&q.defaultProps)for(ve in De=q.defaultProps,De)ye[ve]===void 0&&(ye[ve]=De[ve]);return M(q,Oe,void 0,void 0,null,ye)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(q){return{$$typeof:h,render:q}},Le.isValidElement=I,Le.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:ie}},Le.memo=function(q,ae){return{$$typeof:f,type:q,compare:ae===void 0?null:ae}},Le.startTransition=function(q){var ae=z.T,be={};z.T=be;try{var ve=q(),ye=z.S;ye!==null&&ye(be,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(Te,ue)}catch(Oe){ue(Oe)}finally{z.T=ae}},Le.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Le.use=function(q){return z.H.use(q)},Le.useActionState=function(q,ae,be){return z.H.useActionState(q,ae,be)},Le.useCallback=function(q,ae){return z.H.useCallback(q,ae)},Le.useContext=function(q){return z.H.useContext(q)},Le.useDebugValue=function(){},Le.useDeferredValue=function(q,ae){return z.H.useDeferredValue(q,ae)},Le.useEffect=function(q,ae){return z.H.useEffect(q,ae)},Le.useId=function(){return z.H.useId()},Le.useImperativeHandle=function(q,ae,be){return z.H.useImperativeHandle(q,ae,be)},Le.useInsertionEffect=function(q,ae){return z.H.useInsertionEffect(q,ae)},Le.useLayoutEffect=function(q,ae){return z.H.useLayoutEffect(q,ae)},Le.useMemo=function(q,ae){return z.H.useMemo(q,ae)},Le.useOptimistic=function(q,ae){return z.H.useOptimistic(q,ae)},Le.useReducer=function(q,ae,be){return z.H.useReducer(q,ae,be)},Le.useRef=function(q){return z.H.useRef(q)},Le.useState=function(q){return z.H.useState(q)},Le.useSyncExternalStore=function(q,ae,be){return z.H.useSyncExternalStore(q,ae,be)},Le.useTransition=function(){return z.H.useTransition()},Le.version="19.0.0",Le}var XA;function so(){return XA||(XA=1,$v.exports=lV()),$v.exports}var W=so();const Ke=FE(W),D0=sV({__proto__:null,default:Ke},[W]);var Gv={exports:{}},Gh={},Kv={exports:{}},Wv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA;function uV(){return JA||(JA=1,function(n){function e(ee,ie){var ue=ee.length;ee.push(ie);e:for(;0<ue;){var Te=ue-1>>>1,q=ee[Te];if(0<i(q,ie))ee[Te]=ie,ee[ue]=q,ue=Te;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ie=ee[0],ue=ee.pop();if(ue!==ie){ee[0]=ue;e:for(var Te=0,q=ee.length,ae=q>>>1;Te<ae;){var be=2*(Te+1)-1,ve=ee[be],ye=be+1,Oe=ee[ye];if(0>i(ve,ue))ye<q&&0>i(Oe,ve)?(ee[Te]=Oe,ee[ye]=ue,Te=ye):(ee[Te]=ve,ee[be]=ue,Te=be);else if(ye<q&&0>i(Oe,ue))ee[Te]=Oe,ee[ye]=ue,Te=ye;else break e}}return ie}function i(ee,ie){var ue=ee.sortIndex-ie.sortIndex;return ue!==0?ue:ee.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],f=[],g=1,_=null,v=3,T=!1,w=!1,R=!1,x=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function j(ee){for(var ie=t(f);ie!==null;){if(ie.callback===null)r(f);else if(ie.startTime<=ee)r(f),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=t(f)}}function $(ee){if(R=!1,j(ee),!w)if(t(d)!==null)w=!0,te();else{var ie=t(f);ie!==null&&F($,ie.startTime-ee)}}var z=!1,H=-1,M=5,C=-1;function I(){return!(n.unstable_now()-C<M)}function b(){if(z){var ee=n.unstable_now();C=ee;var ie=!0;try{e:{w=!1,R&&(R=!1,U(H),H=-1),T=!0;var ue=v;try{t:{for(j(ee),_=t(d);_!==null&&!(_.expirationTime>ee&&I());){var Te=_.callback;if(typeof Te=="function"){_.callback=null,v=_.priorityLevel;var q=Te(_.expirationTime<=ee);if(ee=n.unstable_now(),typeof q=="function"){_.callback=q,j(ee),ie=!0;break t}_===t(d)&&r(d),j(ee)}else r(d);_=t(d)}if(_!==null)ie=!0;else{var ae=t(f);ae!==null&&F($,ae.startTime-ee),ie=!1}}break e}finally{_=null,v=ue,T=!1}ie=void 0}}finally{ie?P():z=!1}}}var P;if(typeof L=="function")P=function(){L(b)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,D=O.port2;O.port1.onmessage=b,P=function(){D.postMessage(null)}}else P=function(){x(b,0)};function te(){z||(z=!0,P())}function F(ee,ie){H=x(function(){ee(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){w||T||(w=!0,te())},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ee){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var ue=v;v=ie;try{return ee()}finally{v=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,ie){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ue=v;v=ee;try{return ie()}finally{v=ue}},n.unstable_scheduleCallback=function(ee,ie,ue){var Te=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Te+ue:Te):ue=Te,ee){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ue+q,ee={id:g++,callback:ie,priorityLevel:ee,startTime:ue,expirationTime:q,sortIndex:-1},ue>Te?(ee.sortIndex=ue,e(f,ee),t(d)===null&&ee===t(f)&&(R?(U(H),H=-1):R=!0,F($,ue-Te))):(ee.sortIndex=q,e(d,ee),w||T||(w=!0,te())),ee},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(ee){var ie=v;return function(){var ue=v;v=ie;try{return ee.apply(this,arguments)}finally{v=ue}}}}(Wv)),Wv}var ZA;function cV(){return ZA||(ZA=1,Kv.exports=uV()),Kv.exports}var Qv={exports:{}},jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eR;function hV(){if(eR)return jn;eR=1;var n=so();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:d,containerInfo:f,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,jn.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,g)},jn.flushSync=function(d){var f=u.T,g=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=f,r.p=g,r.d.f()}},jn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},jn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},jn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,_=h(g,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,T=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:T}):g==="script"&&r.d.X(d,{crossOrigin:_,integrity:v,fetchPriority:T,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},jn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=h(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},jn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,_=h(g,f.crossOrigin);r.d.L(d,g,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},jn.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=h(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},jn.requestFormReset=function(d){r.d.r(d)},jn.unstable_batchedUpdates=function(d,f){return d(f)},jn.useFormState=function(d,f,g){return u.H.useFormState(d,f,g)},jn.useFormStatus=function(){return u.H.useHostTransitionStatus()},jn.version="19.0.0",jn}var tR;function dV(){if(tR)return Qv.exports;tR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qv.exports=hV(),Qv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nR;function fV(){if(nR)return Gh;nR=1;var n=cV(),e=so(),t=dV();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),T=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),$=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function C(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case d:return"Fragment";case h:return"Portal";case g:return"Profiler";case f:return"StrictMode";case R:return"Suspense";case x:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case T:return(s.displayName||"Context")+".Provider";case v:return(s._context.displayName||"Context")+".Consumer";case w:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case U:return a=s.displayName||null,a!==null?a:C(s.type)||"Memo";case L:a=s._payload,s=s._init;try{return C(s(a))}catch{}}return null}var I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,b=Object.assign,P,O;function D(s){if(P===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);P=a&&a[1]||"",O=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+s+O}var te=!1;function F(s,a){if(!s||te)return"";te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(le){var Z=le}Reflect.construct(s,[],fe)}else{try{fe.call()}catch(le){Z=le}s.call(fe.prototype)}}else{try{throw Error()}catch(le){Z=le}(fe=s())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(le){if(le&&Z&&typeof le.stack=="string")return[le.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),A=y[0],k=y[1];if(A&&k){var B=A.split(`
`),K=k.split(`
`);for(m=c=0;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(c===B.length||m===K.length)for(c=B.length-1,m=K.length-1;1<=c&&0<=m&&B[c]!==K[m];)m--;for(;1<=c&&0<=m;c--,m--)if(B[c]!==K[m]){if(c!==1||m!==1)do if(c--,m--,0>m||B[c]!==K[m]){var ce=`
`+B[c].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=c&&0<=m);break}}}finally{te=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?D(l):""}function ee(s){switch(s.tag){case 26:case 27:case 5:return D(s.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return s=F(s.type,!1),s;case 11:return s=F(s.type.render,!1),s;case 1:return s=F(s.type,!0),s;default:return""}}function ie(s){try{var a="";do a+=ee(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ue(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function Te(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function q(s){if(ue(s)!==s)throw Error(r(188))}function ae(s){var a=s.alternate;if(!a){if(a=ue(s),a===null)throw Error(r(188));return a!==s?null:s}for(var l=s,c=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return q(m),s;if(y===c)return q(m),a;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=y;else{for(var A=!1,k=m.child;k;){if(k===l){A=!0,l=m,c=y;break}if(k===c){A=!0,c=m,l=y;break}k=k.sibling}if(!A){for(k=y.child;k;){if(k===l){A=!0,l=y,c=m;break}if(k===c){A=!0,c=y,l=m;break}k=k.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:a}function be(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=be(s),a!==null)return a;s=s.sibling}return null}var ve=Array.isArray,ye=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe={pending:!1,data:null,method:null,action:null},De=[],Ct=-1;function ze(s){return{current:s}}function _t(s){0>Ct||(s.current=De[Ct],De[Ct]=null,Ct--)}function $e(s,a){Ct++,De[Ct]=s.current,s.current=a}var Et=ze(null),Je=ze(null),at=ze(null),Jt=ze(null);function dr(s,a){switch($e(at,a),$e(Je,s),$e(Et,null),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?TA(a):0;break;default:if(s=s===8?a.parentNode:a,a=s.tagName,s=s.namespaceURI)s=TA(s),a=SA(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}_t(Et),$e(Et,a)}function Vn(){_t(Et),_t(Je),_t(at)}function Or(s){s.memoizedState!==null&&$e(Jt,s);var a=Et.current,l=SA(a,s.type);a!==l&&($e(Je,s),$e(Et,l))}function Mn(s){Je.current===s&&(_t(Et),_t(Je)),Jt.current===s&&(_t(Jt),Fh._currentValue=Oe)}var nr=Object.prototype.hasOwnProperty,ei=n.unstable_scheduleCallback,Pl=n.unstable_cancelCallback,Gy=n.unstable_shouldYield,Bc=n.unstable_requestPaint,rr=n.unstable_now,Hf=n.unstable_getCurrentPriorityLevel,ln=n.unstable_ImmediatePriority,gn=n.unstable_UserBlockingPriority,Zi=n.unstable_NormalPriority,$f=n.unstable_LowPriority,zc=n.unstable_IdlePriority,Ky=n.log,mo=n.unstable_setDisableYieldValue,Ks=null,Ln=null;function qc(s){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Ks,s,void 0,(s.current.flags&128)===128)}catch{}}function fi(s){if(typeof Ky=="function"&&mo(s),Ln&&typeof Ln.setStrictMode=="function")try{Ln.setStrictMode(Ks,s)}catch{}}var Gn=Math.clz32?Math.clz32:Kf,Hc=Math.log,Gf=Math.LN2;function Kf(s){return s>>>=0,s===0?32:31-(Hc(s)/Gf|0)|0}var pi=128,Ws=4194304;function ti(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Dr(s,a){var l=s.pendingLanes;if(l===0)return 0;var c=0,m=s.suspendedLanes,y=s.pingedLanes,A=s.warmLanes;s=s.finishedLanes!==0;var k=l&134217727;return k!==0?(l=k&~m,l!==0?c=ti(l):(y&=k,y!==0?c=ti(y):s||(A=k&~A,A!==0&&(c=ti(A))))):(k=l&~m,k!==0?c=ti(k):y!==0?c=ti(y):s||(A=l&~A,A!==0&&(c=ti(A)))),c===0?0:a!==0&&a!==c&&!(a&m)&&(m=c&-c,A=a&-a,m>=A||m===32&&(A&4194176)!==0)?a:c}function Qs(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Ol(s,a){switch(s){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $c(){var s=pi;return pi<<=1,!(pi&4194176)&&(pi=128),s}function Ys(){var s=Ws;return Ws<<=1,!(Ws&62914560)&&(Ws=4194304),s}function Dl(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Gt(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Wf(s,a,l,c,m,y){var A=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var k=s.entanglements,B=s.expirationTimes,K=s.hiddenUpdates;for(l=A&~l;0<l;){var ce=31-Gn(l),fe=1<<ce;k[ce]=0,B[ce]=-1;var Z=K[ce];if(Z!==null)for(K[ce]=null,ce=0;ce<Z.length;ce++){var le=Z[ce];le!==null&&(le.lane&=-536870913)}l&=~fe}c!==0&&Xs(s,c,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(A&~a))}function Xs(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-Gn(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194218}function Js(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-Gn(l),m=1<<c;m&a|s[c]&a&&(s[c]|=a),l&=~m}}function Qf(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function Yf(){var s=ye.p;return s!==0?s:(s=window.event,s===void 0?32:zA(s.type))}function Zs(s,a){var l=ye.p;try{return ye.p=s,a()}finally{ye.p=l}}var mi=Math.random().toString(36).slice(2),yn="__reactFiber$"+mi,un="__reactProps$"+mi,es="__reactContainer$"+mi,go="__reactEvents$"+mi,Nl="__reactListeners$"+mi,gi="__reactHandles$"+mi,Gc="__reactResources$"+mi,ea="__reactMarker$"+mi;function yo(s){delete s[yn],delete s[un],delete s[go],delete s[Nl],delete s[gi]}function ni(s){var a=s[yn];if(a)return a;for(var l=s.parentNode;l;){if(a=l[es]||l[yn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=IA(s);s!==null;){if(l=s[yn])return l;s=IA(s)}return a}s=l,l=s.parentNode}return null}function ts(s){if(s=s[yn]||s[es]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function ta(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function na(s){var a=s[Gc];return a||(a=s[Gc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function xt(s){s[ea]=!0}var Kc=new Set,kl={};function fr(s,a){ir(s,a),ir(s+"Capture",a)}function ir(s,a){for(kl[s]=a,s=0;s<a.length;s++)Kc.add(a[s])}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wc={},Qc={};function Xf(s){return nr.call(Qc,s)?!0:nr.call(Wc,s)?!1:Wy.test(s)?Qc[s]=!0:(Wc[s]=!0,!1)}function ra(s,a,l){if(Xf(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function ia(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Nr(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}function Kn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Jf(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Qy(s){var a=Jf(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(A){c=""+A,y.call(this,A)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function _o(s){s._valueTracker||(s._valueTracker=Qy(s))}function Yc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=Jf(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function Vl(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ns=/[\n"\\]/g;function Lt(s){return s.replace(ns,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function sa(s,a,l,c,m,y,A,k){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),a!=null?A==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Kn(a)):s.value!==""+Kn(a)&&(s.value=""+Kn(a)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),a!=null?Ml(s,A,Kn(a)):l!=null?Ml(s,A,Kn(l)):c!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+Kn(k):s.removeAttribute("name")}function vo(s,a,l,c,m,y,A,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Kn(l):"",a=a!=null?""+Kn(a):l,k||a===s.value||(s.value=a),s.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=k?s.checked:!!c,s.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A)}function Ml(s,a,l){a==="number"&&Vl(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Ze(s,a,l,c){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Kn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function Eo(s,a,l){if(a!=null&&(a=""+Kn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Kn(l):""}function aa(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(ve(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Kn(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function kr(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Yy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xc(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||Yy.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Zf(s,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&Xc(s,m,c)}else for(var y in a)a.hasOwnProperty(y)&&Xc(s,y,a[y])}function Jc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yi(s){return Jy.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Vr=null;function Ll(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var rs=null,is=null;function ss(s){var a=ts(s);if(a&&(s=a.stateNode)){var l=s[un]||null;e:switch(s=a.stateNode,a.type){case"input":if(sa(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Lt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var m=c[un]||null;if(!m)throw Error(r(90));sa(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&Yc(c)}break e;case"textarea":Eo(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ze(s,!!l.multiple,a,!1)}}}var Zc=!1;function ep(s,a,l){if(Zc)return s(a,l);Zc=!0;try{var c=s(a);return c}finally{if(Zc=!1,(rs!==null||is!==null)&&($p(),rs&&(a=rs,s=is,is=rs=null,ss(a),s)))for(a=0;a<s.length;a++)ss(s[a])}}function bo(s,a){var l=s.stateNode;if(l===null)return null;var c=l[un]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Mr=!1;if(pr)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{Mr=!1}var _i=null,oa=null,as=null;function eh(){if(as)return as;var s,a=oa,l=a.length,c,m="value"in _i?_i.value:_i.textContent,y=m.length;for(s=0;s<l&&a[s]===m[s];s++);var A=l-s;for(c=1;c<=A&&a[l-c]===m[y-c];c++);return as=m.slice(s,1<c?1-c:void 0)}function vi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ei(){return!0}function th(){return!1}function _n(s){function a(l,c,m,y,A){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(l=s[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ei:th,this.isPropagationStopped=th,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),a}var st={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ul=_n(st),To=b({},st,{view:0,detail:0}),tp=_n(To),jl,Fl,bi,So=b({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Io,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==bi&&(bi&&s.type==="mousemove"?(jl=s.screenX-bi.screenX,Fl=s.screenY-bi.screenY):Fl=jl=0,bi=s),jl)},movementY:function(s){return"movementY"in s?s.movementY:Fl}}),Lr=_n(So),np=b({},So,{dataTransfer:0}),Zy=_n(np),Ao=b({},To,{relatedTarget:0}),Bl=_n(Ao),nh=b({},st,{animationName:0,elapsedTime:0,pseudoElement:0}),zl=_n(nh),rp=b({},st,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ql=_n(rp),e_=b({},st,{data:0}),rh=_n(e_),Ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ih(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=sp[s])?!!a[s]:!1}function Io(){return ih}var ap=b({},To,{key:function(s){if(s.key){var a=Ro[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=vi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ip[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Io,charCode:function(s){return s.type==="keypress"?vi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?vi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Hl=_n(ap),op=b({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sh=_n(op),os=b({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Io}),lp=_n(os),up=b({},st,{propertyName:0,elapsedTime:0,pseudoElement:0}),cp=_n(up),hp=b({},So,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$l=_n(hp),Wn=b({},st,{newState:0,oldState:0}),dp=_n(Wn),fp=[9,13,27,32],wi=pr&&"CompositionEvent"in window,p=null;pr&&"documentMode"in document&&(p=document.documentMode);var E=pr&&"TextEvent"in window&&!p,S=pr&&(!wi||p&&8<p&&11>=p),V=" ",Y=!1;function re(s,a){switch(s){case"keyup":return fp.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var We=!1;function cn(s,a){switch(s){case"compositionend":return ge(a);case"keypress":return a.which!==32?null:(Y=!0,V);case"textInput":return s=a.data,s===V&&Y?null:s;default:return null}}function Qe(s,a){if(We)return s==="compositionend"||!wi&&re(s,a)?(s=eh(),as=oa=_i=null,We=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!vn[s.type]:a==="textarea"}function ls(s,a,l,c){rs?is?is.push(c):is=[c]:rs=c,a=Yp(a,"onChange"),0<a.length&&(l=new Ul("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var In=null,Ti=null;function ah(s){_A(s,0)}function pp(s){var a=ta(s);if(Yc(a))return s}function Kw(s,a){if(s==="change")return a}var Ww=!1;if(pr){var t_;if(pr){var n_="oninput"in document;if(!n_){var Qw=document.createElement("div");Qw.setAttribute("oninput","return;"),n_=typeof Qw.oninput=="function"}t_=n_}else t_=!1;Ww=t_&&(!document.documentMode||9<document.documentMode)}function Yw(){In&&(In.detachEvent("onpropertychange",Xw),Ti=In=null)}function Xw(s){if(s.propertyName==="value"&&pp(Ti)){var a=[];ls(a,Ti,s,Ll(s)),ep(ah,a)}}function Vk(s,a,l){s==="focusin"?(Yw(),In=a,Ti=l,In.attachEvent("onpropertychange",Xw)):s==="focusout"&&Yw()}function Mk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pp(Ti)}function Lk(s,a){if(s==="click")return pp(a)}function Uk(s,a){if(s==="input"||s==="change")return pp(a)}function jk(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var mr=typeof Object.is=="function"?Object.is:jk;function oh(s,a){if(mr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!nr.call(a,m)||!mr(s[m],a[m]))return!1}return!0}function Jw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Zw(s,a){var l=Jw(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jw(l)}}function eT(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?eT(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function tT(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Vl(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Vl(s.document)}return a}function r_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Fk(s,a){var l=tT(a);a=s.focusedElem;var c=s.selectionRange;if(l!==a&&a&&a.ownerDocument&&eT(a.ownerDocument.documentElement,a)){if(c!==null&&r_(a)){if(s=c.start,l=c.end,l===void 0&&(l=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(l,a.value.length);else if(l=(s=a.ownerDocument||document)&&s.defaultView||window,l.getSelection){l=l.getSelection();var m=a.textContent.length,y=Math.min(c.start,m);c=c.end===void 0?y:Math.min(c.end,m),!l.extend&&y>c&&(m=c,c=y,y=m),m=Zw(a,y);var A=Zw(a,c);m&&A&&(l.rangeCount!==1||l.anchorNode!==m.node||l.anchorOffset!==m.offset||l.focusNode!==A.node||l.focusOffset!==A.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),l.removeAllRanges(),y>c?(l.addRange(s),l.extend(A.node,A.offset)):(s.setEnd(A.node,A.offset),l.addRange(s)))}}for(s=[],l=a;l=l.parentNode;)l.nodeType===1&&s.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)l=s[a],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var Bk=pr&&"documentMode"in document&&11>=document.documentMode,Gl=null,i_=null,lh=null,s_=!1;function nT(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;s_||Gl==null||Gl!==Vl(c)||(c=Gl,"selectionStart"in c&&r_(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),lh&&oh(lh,c)||(lh=c,c=Yp(i_,"onSelect"),0<c.length&&(a=new Ul("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=Gl)))}function Co(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Kl={animationend:Co("Animation","AnimationEnd"),animationiteration:Co("Animation","AnimationIteration"),animationstart:Co("Animation","AnimationStart"),transitionrun:Co("Transition","TransitionRun"),transitionstart:Co("Transition","TransitionStart"),transitioncancel:Co("Transition","TransitionCancel"),transitionend:Co("Transition","TransitionEnd")},a_={},rT={};pr&&(rT=document.createElement("div").style,"AnimationEvent"in window||(delete Kl.animationend.animation,delete Kl.animationiteration.animation,delete Kl.animationstart.animation),"TransitionEvent"in window||delete Kl.transitionend.transition);function xo(s){if(a_[s])return a_[s];if(!Kl[s])return s;var a=Kl[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in rT)return a_[s]=a[l];return s}var iT=xo("animationend"),sT=xo("animationiteration"),aT=xo("animationstart"),zk=xo("transitionrun"),qk=xo("transitionstart"),Hk=xo("transitioncancel"),oT=xo("transitionend"),lT=new Map,uT="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ri(s,a){lT.set(s,a),fr(a,[s])}var Ur=[],Wl=0,o_=0;function mp(){for(var s=Wl,a=o_=Wl=0;a<s;){var l=Ur[a];Ur[a++]=null;var c=Ur[a];Ur[a++]=null;var m=Ur[a];Ur[a++]=null;var y=Ur[a];if(Ur[a++]=null,c!==null&&m!==null){var A=c.pending;A===null?m.next=m:(m.next=A.next,A.next=m),c.pending=m}y!==0&&cT(l,m,y)}}function gp(s,a,l,c){Ur[Wl++]=s,Ur[Wl++]=a,Ur[Wl++]=l,Ur[Wl++]=c,o_|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function l_(s,a,l,c){return gp(s,a,l,c),yp(s)}function la(s,a){return gp(s,null,null,a),yp(s)}function cT(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;m&&a!==null&&s.tag===3&&(y=s.stateNode,m=31-Gn(l),y=y.hiddenUpdates,s=y[m],s===null?y[m]=[a]:s.push(a),a.lane=l|536870912)}function yp(s){if(50<Nh)throw Nh=0,pv=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Ql={},hT=new WeakMap;function jr(s,a){if(typeof s=="object"&&s!==null){var l=hT.get(s);return l!==void 0?l:(a={value:s,source:a,stack:ie(a)},hT.set(s,a),a)}return{value:s,source:a,stack:ie(a)}}var Yl=[],Xl=0,_p=null,vp=0,Fr=[],Br=0,Po=null,us=1,cs="";function Oo(s,a){Yl[Xl++]=vp,Yl[Xl++]=_p,_p=s,vp=a}function dT(s,a,l){Fr[Br++]=us,Fr[Br++]=cs,Fr[Br++]=Po,Po=s;var c=us;s=cs;var m=32-Gn(c)-1;c&=~(1<<m),l+=1;var y=32-Gn(a)+m;if(30<y){var A=m-m%5;y=(c&(1<<A)-1).toString(32),c>>=A,m-=A,us=1<<32-Gn(a)+m|l<<m|c,cs=y+s}else us=1<<y|l<<m|c,cs=s}function u_(s){s.return!==null&&(Oo(s,1),dT(s,1,0))}function c_(s){for(;s===_p;)_p=Yl[--Xl],Yl[Xl]=null,vp=Yl[--Xl],Yl[Xl]=null;for(;s===Po;)Po=Fr[--Br],Fr[Br]=null,cs=Fr[--Br],Fr[Br]=null,us=Fr[--Br],Fr[Br]=null}var Qn=null,Cn=null,et=!1,ii=null,Si=!1,h_=Error(r(519));function Do(s){var a=Error(r(418,""));throw hh(jr(a,s)),h_}function fT(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[yn]=s,a[un]=c,l){case"dialog":Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":case"embed":Ge("load",a);break;case"video":case"audio":for(l=0;l<Vh.length;l++)Ge(Vh[l],a);break;case"source":Ge("error",a);break;case"img":case"image":case"link":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"input":Ge("invalid",a),vo(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),_o(a);break;case"select":Ge("invalid",a);break;case"textarea":Ge("invalid",a),aa(a,c.value,c.defaultValue,c.children),_o(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||wA(a.textContent,l)?(c.popover!=null&&(Ge("beforetoggle",a),Ge("toggle",a)),c.onScroll!=null&&Ge("scroll",a),c.onScrollEnd!=null&&Ge("scrollend",a),c.onClick!=null&&(a.onclick=Xp),a=!0):a=!1,a||Do(s)}function pT(s){for(Qn=s.return;Qn;)switch(Qn.tag){case 3:case 27:Si=!0;return;case 5:case 13:Si=!1;return;default:Qn=Qn.return}}function uh(s){if(s!==Qn)return!1;if(!et)return pT(s),et=!0,!1;var a=!1,l;if((l=s.tag!==3&&s.tag!==27)&&((l=s.tag===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Ov(s.type,s.memoizedProps)),l=!l),l&&(a=!0),a&&Cn&&Do(s),pT(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Cn=ai(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Cn=null}}else Cn=Qn?ai(s.stateNode.nextSibling):null;return!0}function ch(){Cn=Qn=null,et=!1}function hh(s){ii===null?ii=[s]:ii.push(s)}var dh=Error(r(460)),mT=Error(r(474)),d_={then:function(){}};function gT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ep(){}function yT(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Ep,Ep),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===dh?Error(r(483)):s;default:if(typeof a.status=="string")a.then(Ep,Ep);else{if(s=mt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===dh?Error(r(483)):s}throw fh=a,dh}}var fh=null;function _T(){if(fh===null)throw Error(r(459));var s=fh;return fh=null,s}var Jl=null,ph=0;function bp(s){var a=ph;return ph+=1,Jl===null&&(Jl=[]),yT(Jl,s,a)}function mh(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function wp(s,a){throw a.$$typeof===o?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function vT(s){var a=s._init;return a(s._payload)}function ET(s){function a(Q,G){if(s){var J=Q.deletions;J===null?(Q.deletions=[G],Q.flags|=16):J.push(G)}}function l(Q,G){if(!s)return null;for(;G!==null;)a(Q,G),G=G.sibling;return null}function c(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function m(Q,G){return Q=Ea(Q,G),Q.index=0,Q.sibling=null,Q}function y(Q,G,J){return Q.index=J,s?(J=Q.alternate,J!==null?(J=J.index,J<G?(Q.flags|=33554434,G):J):(Q.flags|=33554434,G)):(Q.flags|=1048576,G)}function A(Q){return s&&Q.alternate===null&&(Q.flags|=33554434),Q}function k(Q,G,J,he){return G===null||G.tag!==6?(G=av(J,Q.mode,he),G.return=Q,G):(G=m(G,J),G.return=Q,G)}function B(Q,G,J,he){var Se=J.type;return Se===d?ce(Q,G,J.props.children,he,J.key):G!==null&&(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===L&&vT(Se)===G.type)?(G=m(G,J.props),mh(G,J),G.return=Q,G):(G=Fp(J.type,J.key,J.props,null,Q.mode,he),mh(G,J),G.return=Q,G)}function K(Q,G,J,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=ov(J,Q.mode,he),G.return=Q,G):(G=m(G,J.children||[]),G.return=Q,G)}function ce(Q,G,J,he,Se){return G===null||G.tag!==7?(G=zo(J,Q.mode,he,Se),G.return=Q,G):(G=m(G,J),G.return=Q,G)}function fe(Q,G,J){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=av(""+G,Q.mode,J),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case u:return J=Fp(G.type,G.key,G.props,null,Q.mode,J),mh(J,G),J.return=Q,J;case h:return G=ov(G,Q.mode,J),G.return=Q,G;case L:var he=G._init;return G=he(G._payload),fe(Q,G,J)}if(ve(G)||H(G))return G=zo(G,Q.mode,J,null),G.return=Q,G;if(typeof G.then=="function")return fe(Q,bp(G),J);if(G.$$typeof===T)return fe(Q,Lp(Q,G),J);wp(Q,G)}return null}function Z(Q,G,J,he){var Se=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Se!==null?null:k(Q,G,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case u:return J.key===Se?B(Q,G,J,he):null;case h:return J.key===Se?K(Q,G,J,he):null;case L:return Se=J._init,J=Se(J._payload),Z(Q,G,J,he)}if(ve(J)||H(J))return Se!==null?null:ce(Q,G,J,he,null);if(typeof J.then=="function")return Z(Q,G,bp(J),he);if(J.$$typeof===T)return Z(Q,G,Lp(Q,J),he);wp(Q,J)}return null}function le(Q,G,J,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(J)||null,k(G,Q,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case u:return Q=Q.get(he.key===null?J:he.key)||null,B(G,Q,he,Se);case h:return Q=Q.get(he.key===null?J:he.key)||null,K(G,Q,he,Se);case L:var je=he._init;return he=je(he._payload),le(Q,G,J,he,Se)}if(ve(he)||H(he))return Q=Q.get(J)||null,ce(G,Q,he,Se,null);if(typeof he.then=="function")return le(Q,G,J,bp(he),Se);if(he.$$typeof===T)return le(Q,G,J,Lp(G,he),Se);wp(G,he)}return null}function Re(Q,G,J,he){for(var Se=null,je=null,Ce=G,Pe=G=0,wn=null;Ce!==null&&Pe<J.length;Pe++){Ce.index>Pe?(wn=Ce,Ce=null):wn=Ce.sibling;var tt=Z(Q,Ce,J[Pe],he);if(tt===null){Ce===null&&(Ce=wn);break}s&&Ce&&tt.alternate===null&&a(Q,Ce),G=y(tt,G,Pe),je===null?Se=tt:je.sibling=tt,je=tt,Ce=wn}if(Pe===J.length)return l(Q,Ce),et&&Oo(Q,Pe),Se;if(Ce===null){for(;Pe<J.length;Pe++)Ce=fe(Q,J[Pe],he),Ce!==null&&(G=y(Ce,G,Pe),je===null?Se=Ce:je.sibling=Ce,je=Ce);return et&&Oo(Q,Pe),Se}for(Ce=c(Ce);Pe<J.length;Pe++)wn=le(Ce,Q,Pe,J[Pe],he),wn!==null&&(s&&wn.alternate!==null&&Ce.delete(wn.key===null?Pe:wn.key),G=y(wn,G,Pe),je===null?Se=wn:je.sibling=wn,je=wn);return s&&Ce.forEach(function(Ia){return a(Q,Ia)}),et&&Oo(Q,Pe),Se}function ke(Q,G,J,he){if(J==null)throw Error(r(151));for(var Se=null,je=null,Ce=G,Pe=G=0,wn=null,tt=J.next();Ce!==null&&!tt.done;Pe++,tt=J.next()){Ce.index>Pe?(wn=Ce,Ce=null):wn=Ce.sibling;var Ia=Z(Q,Ce,tt.value,he);if(Ia===null){Ce===null&&(Ce=wn);break}s&&Ce&&Ia.alternate===null&&a(Q,Ce),G=y(Ia,G,Pe),je===null?Se=Ia:je.sibling=Ia,je=Ia,Ce=wn}if(tt.done)return l(Q,Ce),et&&Oo(Q,Pe),Se;if(Ce===null){for(;!tt.done;Pe++,tt=J.next())tt=fe(Q,tt.value,he),tt!==null&&(G=y(tt,G,Pe),je===null?Se=tt:je.sibling=tt,je=tt);return et&&Oo(Q,Pe),Se}for(Ce=c(Ce);!tt.done;Pe++,tt=J.next())tt=le(Ce,Q,Pe,tt.value,he),tt!==null&&(s&&tt.alternate!==null&&Ce.delete(tt.key===null?Pe:tt.key),G=y(tt,G,Pe),je===null?Se=tt:je.sibling=tt,je=tt);return s&&Ce.forEach(function(iV){return a(Q,iV)}),et&&Oo(Q,Pe),Se}function Ft(Q,G,J,he){if(typeof J=="object"&&J!==null&&J.type===d&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case u:e:{for(var Se=J.key;G!==null;){if(G.key===Se){if(Se=J.type,Se===d){if(G.tag===7){l(Q,G.sibling),he=m(G,J.props.children),he.return=Q,Q=he;break e}}else if(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===L&&vT(Se)===G.type){l(Q,G.sibling),he=m(G,J.props),mh(he,J),he.return=Q,Q=he;break e}l(Q,G);break}else a(Q,G);G=G.sibling}J.type===d?(he=zo(J.props.children,Q.mode,he,J.key),he.return=Q,Q=he):(he=Fp(J.type,J.key,J.props,null,Q.mode,he),mh(he,J),he.return=Q,Q=he)}return A(Q);case h:e:{for(Se=J.key;G!==null;){if(G.key===Se)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){l(Q,G.sibling),he=m(G,J.children||[]),he.return=Q,Q=he;break e}else{l(Q,G);break}else a(Q,G);G=G.sibling}he=ov(J,Q.mode,he),he.return=Q,Q=he}return A(Q);case L:return Se=J._init,J=Se(J._payload),Ft(Q,G,J,he)}if(ve(J))return Re(Q,G,J,he);if(H(J)){if(Se=H(J),typeof Se!="function")throw Error(r(150));return J=Se.call(J),ke(Q,G,J,he)}if(typeof J.then=="function")return Ft(Q,G,bp(J),he);if(J.$$typeof===T)return Ft(Q,G,Lp(Q,J),he);wp(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,G!==null&&G.tag===6?(l(Q,G.sibling),he=m(G,J),he.return=Q,Q=he):(l(Q,G),he=av(J,Q.mode,he),he.return=Q,Q=he),A(Q)):l(Q,G)}return function(Q,G,J,he){try{ph=0;var Se=Ft(Q,G,J,he);return Jl=null,Se}catch(Ce){if(Ce===dh)throw Ce;var je=$r(29,Ce,null,Q.mode);return je.lanes=he,je.return=Q,je}finally{}}}var No=ET(!0),bT=ET(!1),Zl=ze(null),Tp=ze(0);function wT(s,a){s=bs,$e(Tp,s),$e(Zl,a),bs=s|a.baseLanes}function f_(){$e(Tp,bs),$e(Zl,Zl.current)}function p_(){bs=Tp.current,_t(Zl),_t(Tp)}var zr=ze(null),Ai=null;function ua(s){var a=s.alternate;$e(dn,dn.current&1),$e(zr,s),Ai===null&&(a===null||Zl.current!==null||a.memoizedState!==null)&&(Ai=s)}function TT(s){if(s.tag===22){if($e(dn,dn.current),$e(zr,s),Ai===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Ai=s)}}else ca()}function ca(){$e(dn,dn.current),$e(zr,zr.current)}function hs(s){_t(zr),Ai===s&&(Ai=null),_t(dn)}var dn=ze(0);function Sp(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var $k=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},Gk=n.unstable_scheduleCallback,Kk=n.unstable_NormalPriority,fn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function m_(){return{controller:new $k,data:new Map,refCount:0}}function gh(s){s.refCount--,s.refCount===0&&Gk(Kk,function(){s.controller.abort()})}var yh=null,g_=0,eu=0,tu=null;function Wk(s,a){if(yh===null){var l=yh=[];g_=0,eu=wv(),tu={status:"pending",value:void 0,then:function(c){l.push(c)}}}return g_++,a.then(ST,ST),a}function ST(){if(--g_===0&&yh!==null){tu!==null&&(tu.status="fulfilled");var s=yh;yh=null,eu=0,tu=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function Qk(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var AT=I.S;I.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Wk(s,a),AT!==null&&AT(s,a)};var ko=ze(null);function y_(){var s=ko.current;return s!==null?s:mt.pooledCache}function Ap(s,a){a===null?$e(ko,ko.current):$e(ko,a.pool)}function RT(){var s=y_();return s===null?null:{parent:fn._currentValue,pool:s}}var ha=0,Ue=null,ut=null,Zt=null,Rp=!1,nu=!1,Vo=!1,Ip=0,_h=0,ru=null,Yk=0;function Kt(){throw Error(r(321))}function __(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!mr(s[l],a[l]))return!1;return!0}function v_(s,a,l,c,m,y){return ha=y,Ue=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,I.H=s===null||s.memoizedState===null?Mo:da,Vo=!1,y=l(c,m),Vo=!1,nu&&(y=CT(a,l,c,m)),IT(s),y}function IT(s){I.H=Ri;var a=ut!==null&&ut.next!==null;if(ha=0,Zt=ut=Ue=null,Rp=!1,_h=0,ru=null,a)throw Error(r(300));s===null||En||(s=s.dependencies,s!==null&&Mp(s)&&(En=!0))}function CT(s,a,l,c){Ue=s;var m=0;do{if(nu&&(ru=null),_h=0,nu=!1,25<=m)throw Error(r(301));if(m+=1,Zt=ut=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}I.H=Lo,y=a(l,c)}while(nu);return y}function Xk(){var s=I.H,a=s.useState()[0];return a=typeof a.then=="function"?vh(a):a,s=s.useState()[0],(ut!==null?ut.memoizedState:null)!==s&&(Ue.flags|=1024),a}function E_(){var s=Ip!==0;return Ip=0,s}function b_(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function w_(s){if(Rp){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Rp=!1}ha=0,Zt=ut=Ue=null,nu=!1,_h=Ip=0,ru=null}function sr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Ue.memoizedState=Zt=s:Zt=Zt.next=s,Zt}function en(){if(ut===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=ut.next;var a=Zt===null?Ue.memoizedState:Zt.next;if(a!==null)Zt=a,ut=s;else{if(s===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));ut=s,s={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Zt===null?Ue.memoizedState=Zt=s:Zt=Zt.next=s}return Zt}var Cp;Cp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function vh(s){var a=_h;return _h+=1,ru===null&&(ru=[]),s=yT(ru,s,a),a=Ue,(Zt===null?a.memoizedState:Zt.next)===null&&(a=a.alternate,I.H=a===null||a.memoizedState===null?Mo:da),s}function xp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return vh(s);if(s.$$typeof===T)return Un(s)}throw Error(r(438,String(s)))}function T_(s){var a=null,l=Ue.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ue.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Cp(),Ue.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=$;return a.index++,l}function ds(s,a){return typeof a=="function"?a(s):a}function Pp(s){var a=en();return S_(a,ut,s)}function S_(s,a,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=s.baseQueue,y=c.pending;if(y!==null){if(m!==null){var A=m.next;m.next=y.next,y.next=A}a.baseQueue=m=y,c.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{a=m.next;var k=A=null,B=null,K=a,ce=!1;do{var fe=K.lane&-536870913;if(fe!==K.lane?(Ye&fe)===fe:(ha&fe)===fe){var Z=K.revertLane;if(Z===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),fe===eu&&(ce=!0);else if((ha&Z)===Z){K=K.next,Z===eu&&(ce=!0);continue}else fe={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(k=B=fe,A=y):B=B.next=fe,Ue.lanes|=Z,ba|=Z;fe=K.action,Vo&&l(y,fe),y=K.hasEagerState?K.eagerState:l(y,fe)}else Z={lane:fe,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(k=B=Z,A=y):B=B.next=Z,Ue.lanes|=fe,ba|=fe;K=K.next}while(K!==null&&K!==a);if(B===null?A=y:B.next=k,!mr(y,s.memoizedState)&&(En=!0,ce&&(l=tu,l!==null)))throw l;s.memoizedState=y,s.baseState=A,s.baseQueue=B,c.lastRenderedState=y}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function A_(s){var a=en(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var A=m=m.next;do y=s(y,A.action),A=A.next;while(A!==m);mr(y,a.memoizedState)||(En=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function xT(s,a,l){var c=Ue,m=en(),y=et;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var A=!mr((ut||m).memoizedState,l);if(A&&(m.memoizedState=l,En=!0),m=m.queue,C_(DT.bind(null,c,m,s),[s]),m.getSnapshot!==a||A||Zt!==null&&Zt.memoizedState.tag&1){if(c.flags|=2048,iu(9,OT.bind(null,c,m,l,a),{destroy:void 0},null),mt===null)throw Error(r(349));y||ha&60||PT(c,a,l)}return l}function PT(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Ue.updateQueue,a===null?(a=Cp(),Ue.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function OT(s,a,l,c){a.value=l,a.getSnapshot=c,NT(a)&&kT(s)}function DT(s,a,l){return l(function(){NT(a)&&kT(s)})}function NT(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!mr(s,l)}catch{return!0}}function kT(s){var a=la(s,2);a!==null&&Yn(a,s,2)}function R_(s){var a=sr();if(typeof s=="function"){var l=s;if(s=l(),Vo){fi(!0);try{l()}finally{fi(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:s},a}function VT(s,a,l,c){return s.baseState=l,S_(s,ut,typeof c=="function"?c:ds)}function Jk(s,a,l,c,m){if(Np(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};I.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,MT(a,y)):(y.next=l.next,a.pending=l.next=y)}}function MT(s,a){var l=a.action,c=a.payload,m=s.state;if(a.isTransition){var y=I.T,A={};I.T=A;try{var k=l(m,c),B=I.S;B!==null&&B(A,k),LT(s,a,k)}catch(K){I_(s,a,K)}finally{I.T=y}}else try{y=l(m,c),LT(s,a,y)}catch(K){I_(s,a,K)}}function LT(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){UT(s,a,c)},function(c){return I_(s,a,c)}):UT(s,a,l)}function UT(s,a,l){a.status="fulfilled",a.value=l,jT(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,MT(s,l)))}function I_(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,jT(a),a=a.next;while(a!==c)}s.action=null}function jT(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function FT(s,a){return a}function BT(s,a){if(et){var l=mt.formState;if(l!==null){e:{var c=Ue;if(et){if(Cn){t:{for(var m=Cn,y=Si;m.nodeType!==8;){if(!y){m=null;break t}if(m=ai(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Cn=ai(m.nextSibling),c=m.data==="F!";break e}}Do(c)}c=!1}c&&(a=l[0])}}return l=sr(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:FT,lastRenderedState:a},l.queue=c,l=sS.bind(null,Ue,c),c.dispatch=l,c=R_(!1),y=N_.bind(null,Ue,!1,c.queue),c=sr(),m={state:a,dispatch:null,action:s,pending:null},c.queue=m,l=Jk.bind(null,Ue,m,y,l),m.dispatch=l,c.memoizedState=s,[a,l,!1]}function zT(s){var a=en();return qT(a,ut,s)}function qT(s,a,l){a=S_(s,a,FT)[0],s=Pp(ds)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?vh(a):a;var c=en(),m=c.queue,y=m.dispatch;return l!==c.memoizedState&&(Ue.flags|=2048,iu(9,Zk.bind(null,m,l),{destroy:void 0},null)),[a,y,s]}function Zk(s,a){s.action=a}function HT(s){var a=en(),l=ut;if(l!==null)return qT(a,l,s);en(),a=a.memoizedState,l=en();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function iu(s,a,l,c){return s={tag:s,create:a,inst:l,deps:c,next:null},a=Ue.updateQueue,a===null&&(a=Cp(),Ue.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function $T(){return en().memoizedState}function Op(s,a,l,c){var m=sr();Ue.flags|=s,m.memoizedState=iu(1|a,l,{destroy:void 0},c===void 0?null:c)}function Dp(s,a,l,c){var m=en();c=c===void 0?null:c;var y=m.memoizedState.inst;ut!==null&&c!==null&&__(c,ut.memoizedState.deps)?m.memoizedState=iu(a,l,y,c):(Ue.flags|=s,m.memoizedState=iu(1|a,l,y,c))}function GT(s,a){Op(8390656,8,s,a)}function C_(s,a){Dp(2048,8,s,a)}function KT(s,a){return Dp(4,2,s,a)}function WT(s,a){return Dp(4,4,s,a)}function QT(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function YT(s,a,l){l=l!=null?l.concat([s]):null,Dp(4,4,QT.bind(null,a,s),l)}function x_(){}function XT(s,a){var l=en();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&__(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function JT(s,a){var l=en();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&__(a,c[1]))return c[0];if(c=s(),Vo){fi(!0);try{s()}finally{fi(!1)}}return l.memoizedState=[c,a],c}function P_(s,a,l){return l===void 0||ha&1073741824?s.memoizedState=a:(s.memoizedState=l,s=eA(),Ue.lanes|=s,ba|=s,l)}function ZT(s,a,l,c){return mr(l,a)?l:Zl.current!==null?(s=P_(s,l,c),mr(s,a)||(En=!0),s):ha&42?(s=eA(),Ue.lanes|=s,ba|=s,a):(En=!0,s.memoizedState=l)}function eS(s,a,l,c,m){var y=ye.p;ye.p=y!==0&&8>y?y:8;var A=I.T,k={};I.T=k,N_(s,!1,a,l);try{var B=m(),K=I.S;if(K!==null&&K(k,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ce=Qk(B,c);Eh(s,a,ce,vr(s))}else Eh(s,a,c,vr(s))}catch(fe){Eh(s,a,{then:function(){},status:"rejected",reason:fe},vr())}finally{ye.p=y,I.T=A}}function e2(){}function O_(s,a,l,c){if(s.tag!==5)throw Error(r(476));var m=tS(s).queue;eS(s,m,a,Oe,l===null?e2:function(){return nS(s),l(c)})}function tS(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:Oe,baseState:Oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:Oe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function nS(s){var a=tS(s).next.queue;Eh(s,a,{},vr())}function D_(){return Un(Fh)}function rS(){return en().memoizedState}function iS(){return en().memoizedState}function t2(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=vr();s=ma(l);var c=ga(a,s,l);c!==null&&(Yn(c,a,l),Th(c,a,l)),a={cache:m_()},s.payload=a;return}a=a.return}}function n2(s,a,l){var c=vr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Np(s)?aS(a,l):(l=l_(s,a,l,c),l!==null&&(Yn(l,s,c),oS(l,a,c)))}function sS(s,a,l){var c=vr();Eh(s,a,l,c)}function Eh(s,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Np(s))aS(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var A=a.lastRenderedState,k=y(A,l);if(m.hasEagerState=!0,m.eagerState=k,mr(k,A))return gp(s,a,m,0),mt===null&&mp(),!1}catch{}finally{}if(l=l_(s,a,m,c),l!==null)return Yn(l,s,c),oS(l,a,c),!0}return!1}function N_(s,a,l,c){if(c={lane:2,revertLane:wv(),action:c,hasEagerState:!1,eagerState:null,next:null},Np(s)){if(a)throw Error(r(479))}else a=l_(s,l,c,2),a!==null&&Yn(a,s,2)}function Np(s){var a=s.alternate;return s===Ue||a!==null&&a===Ue}function aS(s,a){nu=Rp=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function oS(s,a,l){if(l&4194176){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,Js(s,l)}}var Ri={readContext:Un,use:xp,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt};Ri.useCacheRefresh=Kt,Ri.useMemoCache=Kt,Ri.useHostTransitionStatus=Kt,Ri.useFormState=Kt,Ri.useActionState=Kt,Ri.useOptimistic=Kt;var Mo={readContext:Un,use:xp,useCallback:function(s,a){return sr().memoizedState=[s,a===void 0?null:a],s},useContext:Un,useEffect:GT,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Op(4194308,4,QT.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Op(4194308,4,s,a)},useInsertionEffect:function(s,a){Op(4,2,s,a)},useMemo:function(s,a){var l=sr();a=a===void 0?null:a;var c=s();if(Vo){fi(!0);try{s()}finally{fi(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=sr();if(l!==void 0){var m=l(a);if(Vo){fi(!0);try{l(a)}finally{fi(!1)}}}else m=a;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=n2.bind(null,Ue,s),[c.memoizedState,s]},useRef:function(s){var a=sr();return s={current:s},a.memoizedState=s},useState:function(s){s=R_(s);var a=s.queue,l=sS.bind(null,Ue,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:x_,useDeferredValue:function(s,a){var l=sr();return P_(l,s,a)},useTransition:function(){var s=R_(!1);return s=eS.bind(null,Ue,s.queue,!0,!1),sr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=Ue,m=sr();if(et){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),mt===null)throw Error(r(349));Ye&60||PT(c,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,GT(DT.bind(null,c,y,s),[s]),c.flags|=2048,iu(9,OT.bind(null,c,y,l,a),{destroy:void 0},null),l},useId:function(){var s=sr(),a=mt.identifierPrefix;if(et){var l=cs,c=us;l=(c&~(1<<32-Gn(c)-1)).toString(32)+l,a=":"+a+"R"+l,l=Ip++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=Yk++,a=":"+a+"r"+l.toString(32)+":";return s.memoizedState=a},useCacheRefresh:function(){return sr().memoizedState=t2.bind(null,Ue)}};Mo.useMemoCache=T_,Mo.useHostTransitionStatus=D_,Mo.useFormState=BT,Mo.useActionState=BT,Mo.useOptimistic=function(s){var a=sr();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=N_.bind(null,Ue,!0,l),l.dispatch=a,[s,a]};var da={readContext:Un,use:xp,useCallback:XT,useContext:Un,useEffect:C_,useImperativeHandle:YT,useInsertionEffect:KT,useLayoutEffect:WT,useMemo:JT,useReducer:Pp,useRef:$T,useState:function(){return Pp(ds)},useDebugValue:x_,useDeferredValue:function(s,a){var l=en();return ZT(l,ut.memoizedState,s,a)},useTransition:function(){var s=Pp(ds)[0],a=en().memoizedState;return[typeof s=="boolean"?s:vh(s),a]},useSyncExternalStore:xT,useId:rS};da.useCacheRefresh=iS,da.useMemoCache=T_,da.useHostTransitionStatus=D_,da.useFormState=zT,da.useActionState=zT,da.useOptimistic=function(s,a){var l=en();return VT(l,ut,s,a)};var Lo={readContext:Un,use:xp,useCallback:XT,useContext:Un,useEffect:C_,useImperativeHandle:YT,useInsertionEffect:KT,useLayoutEffect:WT,useMemo:JT,useReducer:A_,useRef:$T,useState:function(){return A_(ds)},useDebugValue:x_,useDeferredValue:function(s,a){var l=en();return ut===null?P_(l,s,a):ZT(l,ut.memoizedState,s,a)},useTransition:function(){var s=A_(ds)[0],a=en().memoizedState;return[typeof s=="boolean"?s:vh(s),a]},useSyncExternalStore:xT,useId:rS};Lo.useCacheRefresh=iS,Lo.useMemoCache=T_,Lo.useHostTransitionStatus=D_,Lo.useFormState=HT,Lo.useActionState=HT,Lo.useOptimistic=function(s,a){var l=en();return ut!==null?VT(l,ut,s,a):(l.baseState=s,[s,l.queue.dispatch])};function k_(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:b({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var V_={isMounted:function(s){return(s=s._reactInternals)?ue(s)===s:!1},enqueueSetState:function(s,a,l){s=s._reactInternals;var c=vr(),m=ma(c);m.payload=a,l!=null&&(m.callback=l),a=ga(s,m,c),a!==null&&(Yn(a,s,c),Th(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=vr(),m=ma(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=ga(s,m,c),a!==null&&(Yn(a,s,c),Th(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=vr(),c=ma(l);c.tag=2,a!=null&&(c.callback=a),a=ga(s,c,l),a!==null&&(Yn(a,s,l),Th(a,s,l))}};function lS(s,a,l,c,m,y,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,A):a.prototype&&a.prototype.isPureReactComponent?!oh(l,c)||!oh(m,y):!0}function uS(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&V_.enqueueReplaceState(a,a.state,null)}function Uo(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=b({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var kp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function cS(s){kp(s)}function hS(s){console.error(s)}function dS(s){kp(s)}function Vp(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function fS(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function M_(s,a,l){return l=ma(l),l.tag=3,l.payload={element:null},l.callback=function(){Vp(s,a)},l}function pS(s){return s=ma(s),s.tag=3,s}function mS(s,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;s.payload=function(){return m(y)},s.callback=function(){fS(a,l,c)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){fS(a,l,c),typeof m!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var k=c.stack;this.componentDidCatch(c.value,{componentStack:k!==null?k:""})})}function r2(s,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&wh(a,l,m,!0),l=zr.current,l!==null){switch(l.tag){case 13:return Ai===null?yv():l.alternate===null&&jt===0&&(jt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===d_?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),vv(s,c,m)),!1;case 22:return l.flags|=65536,c===d_?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),vv(s,c,m)),!1}throw Error(r(435,l.tag))}return vv(s,c,m),yv(),!1}if(et)return a=zr.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==h_&&(s=Error(r(422),{cause:c}),hh(jr(s,l)))):(c!==h_&&(a=Error(r(423),{cause:c}),hh(jr(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=jr(c,l),m=M_(s.stateNode,c,m),X_(s,m),jt!==4&&(jt=2)),!1;var y=Error(r(520),{cause:c});if(y=jr(y,l),Oh===null?Oh=[y]:Oh.push(y),jt!==4&&(jt=2),a===null)return!0;c=jr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=M_(l.stateNode,c,s),X_(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(wa===null||!wa.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=pS(m),mS(m,s,l,c),X_(l,m),!1}l=l.return}while(l!==null);return!1}var gS=Error(r(461)),En=!1;function xn(s,a,l,c){a.child=s===null?bT(a,null,l,c):No(a,s.child,l,c)}function yS(s,a,l,c,m){l=l.render;var y=a.ref;if("ref"in c){var A={};for(var k in c)k!=="ref"&&(A[k]=c[k])}else A=c;return Fo(a),c=v_(s,a,l,A,y,m),k=E_(),s!==null&&!En?(b_(s,a,m),fs(s,a,m)):(et&&k&&u_(a),a.flags|=1,xn(s,a,c,m),a.child)}function _S(s,a,l,c,m){if(s===null){var y=l.type;return typeof y=="function"&&!sv(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,vS(s,a,y,c,m)):(s=Fp(l.type,null,c,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!$_(s,m)){var A=y.memoizedProps;if(l=l.compare,l=l!==null?l:oh,l(A,c)&&s.ref===a.ref)return fs(s,a,m)}return a.flags|=1,s=Ea(y,c),s.ref=a.ref,s.return=a,a.child=s}function vS(s,a,l,c,m){if(s!==null){var y=s.memoizedProps;if(oh(y,c)&&s.ref===a.ref)if(En=!1,a.pendingProps=c=y,$_(s,m))s.flags&131072&&(En=!0);else return a.lanes=s.lanes,fs(s,a,m)}return L_(s,a,l,c,m)}function ES(s,a,l){var c=a.pendingProps,m=c.children,y=(a.stateNode._pendingVisibility&2)!==0,A=s!==null?s.memoizedState:null;if(bh(s,a),c.mode==="hidden"||y){if(a.flags&128){if(c=A!==null?A.baseLanes|l:l,s!==null){for(m=a.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return bS(s,a,c,l)}if(l&536870912)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ap(a,A!==null?A.cachePool:null),A!==null?wT(a,A):f_(),TT(a);else return a.lanes=a.childLanes=536870912,bS(s,a,A!==null?A.baseLanes|l:l,l)}else A!==null?(Ap(a,A.cachePool),wT(a,A),ca(),a.memoizedState=null):(s!==null&&Ap(a,null),f_(),ca());return xn(s,a,m,l),a.child}function bS(s,a,l,c){var m=y_();return m=m===null?null:{parent:fn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&Ap(a,null),f_(),TT(a),s!==null&&wh(s,a,c,!0),null}function bh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(a.flags|=2097664)}}function L_(s,a,l,c,m){return Fo(a),l=v_(s,a,l,c,void 0,m),c=E_(),s!==null&&!En?(b_(s,a,m),fs(s,a,m)):(et&&c&&u_(a),a.flags|=1,xn(s,a,l,m),a.child)}function wS(s,a,l,c,m,y){return Fo(a),a.updateQueue=null,l=CT(a,c,l,m),IT(s),c=E_(),s!==null&&!En?(b_(s,a,y),fs(s,a,y)):(et&&c&&u_(a),a.flags|=1,xn(s,a,l,y),a.child)}function TS(s,a,l,c,m){if(Fo(a),a.stateNode===null){var y=Ql,A=l.contextType;typeof A=="object"&&A!==null&&(y=Un(A)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=V_,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},Q_(a),A=l.contextType,y.context=typeof A=="object"&&A!==null?Un(A):Ql,y.state=a.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(k_(a,l,A,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&V_.enqueueReplaceState(y,y.state,null),Ah(a,c,y,m),Sh(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){y=a.stateNode;var k=a.memoizedProps,B=Uo(l,k);y.props=B;var K=y.context,ce=l.contextType;A=Ql,typeof ce=="object"&&ce!==null&&(A=Un(ce));var fe=l.getDerivedStateFromProps;ce=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=a.pendingProps!==k,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||K!==A)&&uS(a,y,c,A),pa=!1;var Z=a.memoizedState;y.state=Z,Ah(a,c,y,m),Sh(),K=a.memoizedState,k||Z!==K||pa?(typeof fe=="function"&&(k_(a,l,fe,c),K=a.memoizedState),(B=pa||lS(a,l,B,c,Z,K,A))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=K),y.props=c,y.state=K,y.context=A,c=B):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,Y_(s,a),A=a.memoizedProps,ce=Uo(l,A),y.props=ce,fe=a.pendingProps,Z=y.context,K=l.contextType,B=Ql,typeof K=="object"&&K!==null&&(B=Un(K)),k=l.getDerivedStateFromProps,(K=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==fe||Z!==B)&&uS(a,y,c,B),pa=!1,Z=a.memoizedState,y.state=Z,Ah(a,c,y,m),Sh();var le=a.memoizedState;A!==fe||Z!==le||pa||s!==null&&s.dependencies!==null&&Mp(s.dependencies)?(typeof k=="function"&&(k_(a,l,k,c),le=a.memoizedState),(ce=pa||lS(a,l,ce,c,Z,le,B)||s!==null&&s.dependencies!==null&&Mp(s.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,le,B),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,le,B)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=le),y.props=c,y.state=le,y.context=B,c=ce):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=1024),c=!1)}return y=c,bh(s,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&c?(a.child=No(a,s.child,null,m),a.child=No(a,null,l,m)):xn(s,a,l,m),a.memoizedState=y.state,s=a.child):s=fs(s,a,m),s}function SS(s,a,l,c){return ch(),a.flags|=256,xn(s,a,l,c),a.child}var U_={dehydrated:null,treeContext:null,retryLane:0};function j_(s){return{baseLanes:s,cachePool:RT()}}function F_(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Gr),s}function AS(s,a,l){var c=a.pendingProps,m=!1,y=(a.flags&128)!==0,A;if((A=y)||(A=s!==null&&s.memoizedState===null?!1:(dn.current&2)!==0),A&&(m=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,s===null){if(et){if(m?ua(a):ca(),et){var k=Cn,B;if(B=k){e:{for(B=k,k=Si;B.nodeType!==8;){if(!k){k=null;break e}if(B=ai(B.nextSibling),B===null){k=null;break e}}k=B}k!==null?(a.memoizedState={dehydrated:k,treeContext:Po!==null?{id:us,overflow:cs}:null,retryLane:536870912},B=$r(18,null,null,0),B.stateNode=k,B.return=a,a.child=B,Qn=a,Cn=null,B=!0):B=!1}B||Do(a)}if(k=a.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return k.data==="$!"?a.lanes=16:a.lanes=536870912,null;hs(a)}return k=c.children,c=c.fallback,m?(ca(),m=a.mode,k=z_({mode:"hidden",children:k},m),c=zo(c,m,l,null),k.return=a,c.return=a,k.sibling=c,a.child=k,m=a.child,m.memoizedState=j_(l),m.childLanes=F_(s,A,l),a.memoizedState=U_,c):(ua(a),B_(a,k))}if(B=s.memoizedState,B!==null&&(k=B.dehydrated,k!==null)){if(y)a.flags&256?(ua(a),a.flags&=-257,a=q_(s,a,l)):a.memoizedState!==null?(ca(),a.child=s.child,a.flags|=128,a=null):(ca(),m=c.fallback,k=a.mode,c=z_({mode:"visible",children:c.children},k),m=zo(m,k,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,No(a,s.child,null,l),c=a.child,c.memoizedState=j_(l),c.childLanes=F_(s,A,l),a.memoizedState=U_,a=m);else if(ua(a),k.data==="$!"){if(A=k.nextSibling&&k.nextSibling.dataset,A)var K=A.dgst;A=K,c=Error(r(419)),c.stack="",c.digest=A,hh({value:c,source:null,stack:null}),a=q_(s,a,l)}else if(En||wh(s,a,l,!1),A=(l&s.childLanes)!==0,En||A){if(A=mt,A!==null){if(c=l&-l,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(A.suspendedLanes|l)?0:c,c!==0&&c!==B.retryLane)throw B.retryLane=c,la(s,c),Yn(A,s,c),gS}k.data==="$?"||yv(),a=q_(s,a,l)}else k.data==="$?"?(a.flags|=128,a.child=s.child,a=_2.bind(null,s),k._reactRetry=a,a=null):(s=B.treeContext,Cn=ai(k.nextSibling),Qn=a,et=!0,ii=null,Si=!1,s!==null&&(Fr[Br++]=us,Fr[Br++]=cs,Fr[Br++]=Po,us=s.id,cs=s.overflow,Po=a),a=B_(a,c.children),a.flags|=4096);return a}return m?(ca(),m=c.fallback,k=a.mode,B=s.child,K=B.sibling,c=Ea(B,{mode:"hidden",children:c.children}),c.subtreeFlags=B.subtreeFlags&31457280,K!==null?m=Ea(K,m):(m=zo(m,k,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,k=s.child.memoizedState,k===null?k=j_(l):(B=k.cachePool,B!==null?(K=fn._currentValue,B=B.parent!==K?{parent:K,pool:K}:B):B=RT(),k={baseLanes:k.baseLanes|l,cachePool:B}),m.memoizedState=k,m.childLanes=F_(s,A,l),a.memoizedState=U_,c):(ua(a),l=s.child,s=l.sibling,l=Ea(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(A=a.deletions,A===null?(a.deletions=[s],a.flags|=16):A.push(s)),a.child=l,a.memoizedState=null,l)}function B_(s,a){return a=z_({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function z_(s,a){return XS(s,a,0,null)}function q_(s,a,l){return No(a,s.child,null,l),s=B_(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function RS(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),K_(s.return,a,l)}function H_(s,a,l,c,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function IS(s,a,l){var c=a.pendingProps,m=c.revealOrder,y=c.tail;if(xn(s,a,c.children,l),c=dn.current,c&2)c=c&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&RS(s,l,a);else if(s.tag===19)RS(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch($e(dn,c),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&Sp(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),H_(a,!1,m,l,y);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Sp(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}H_(a,!0,l,null,y);break;case"together":H_(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function fs(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),ba|=a.lanes,!(l&a.childLanes))if(s!==null){if(wh(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,l=Ea(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Ea(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function $_(s,a){return s.lanes&a?!0:(s=s.dependencies,!!(s!==null&&Mp(s)))}function i2(s,a,l){switch(a.tag){case 3:dr(a,a.stateNode.containerInfo),fa(a,fn,s.memoizedState.cache),ch();break;case 27:case 5:Or(a);break;case 4:dr(a,a.stateNode.containerInfo);break;case 10:fa(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ua(a),a.flags|=128,null):l&a.child.childLanes?AS(s,a,l):(ua(a),s=fs(s,a,l),s!==null?s.sibling:null);ua(a);break;case 19:var m=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(wh(s,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return IS(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),$e(dn,dn.current),c)break;return null;case 22:case 23:return a.lanes=0,ES(s,a,l);case 24:fa(a,fn,s.memoizedState.cache)}return fs(s,a,l)}function CS(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)En=!0;else{if(!$_(s,l)&&!(a.flags&128))return En=!1,i2(s,a,l);En=!!(s.flags&131072)}else En=!1,et&&a.flags&1048576&&dT(a,vp,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")sv(c)?(s=Uo(c,s),a.tag=1,a=TS(null,a,c,s,l)):(a.tag=0,a=L_(null,a,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===w){a.tag=11,a=yS(null,a,c,s,l);break e}else if(m===U){a.tag=14,a=_S(null,a,c,s,l);break e}}throw a=C(c)||c,Error(r(306,a,""))}}return a;case 0:return L_(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=Uo(c,a.pendingProps),TS(s,a,c,m,l);case 3:e:{if(dr(a,a.stateNode.containerInfo),s===null)throw Error(r(387));var y=a.pendingProps;m=a.memoizedState,c=m.element,Y_(s,a),Ah(a,y,null,l);var A=a.memoizedState;if(y=A.cache,fa(a,fn,y),y!==m.cache&&W_(a,[fn],l,!0),Sh(),y=A.element,m.isDehydrated)if(m={element:y,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=SS(s,a,y,l);break e}else if(y!==c){c=jr(Error(r(424)),a),hh(c),a=SS(s,a,y,l);break e}else for(Cn=ai(a.stateNode.containerInfo.firstChild),Qn=a,et=!0,ii=null,Si=!0,l=bT(a,null,y,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ch(),y===c){a=fs(s,a,l);break e}xn(s,a,y,l)}a=a.child}return a;case 26:return bh(s,a),s===null?(l=OA(a.type,null,a.pendingProps,null))?a.memoizedState=l:et||(l=a.type,s=a.pendingProps,c=Jp(at.current).createElement(l),c[yn]=a,c[un]=s,Pn(c,l,s),xt(c),a.stateNode=c):a.memoizedState=OA(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Or(a),s===null&&et&&(c=a.stateNode=CA(a.type,a.pendingProps,at.current),Qn=a,Si=!0,Cn=ai(c.firstChild)),c=a.pendingProps.children,s!==null||et?xn(s,a,c,l):a.child=No(a,null,c,l),bh(s,a),a.child;case 5:return s===null&&et&&((m=c=Cn)&&(c=k2(c,a.type,a.pendingProps,Si),c!==null?(a.stateNode=c,Qn=a,Cn=ai(c.firstChild),Si=!1,m=!0):m=!1),m||Do(a)),Or(a),m=a.type,y=a.pendingProps,A=s!==null?s.memoizedProps:null,c=y.children,Ov(m,y)?c=null:A!==null&&Ov(m,A)&&(a.flags|=32),a.memoizedState!==null&&(m=v_(s,a,Xk,null,null,l),Fh._currentValue=m),bh(s,a),xn(s,a,c,l),a.child;case 6:return s===null&&et&&((s=l=Cn)&&(l=V2(l,a.pendingProps,Si),l!==null?(a.stateNode=l,Qn=a,Cn=null,s=!0):s=!1),s||Do(a)),null;case 13:return AS(s,a,l);case 4:return dr(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=No(a,null,c,l):xn(s,a,c,l),a.child;case 11:return yS(s,a,a.type,a.pendingProps,l);case 7:return xn(s,a,a.pendingProps,l),a.child;case 8:return xn(s,a,a.pendingProps.children,l),a.child;case 12:return xn(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,fa(a,a.type,c.value),xn(s,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Fo(a),m=Un(m),c=c(m),a.flags|=1,xn(s,a,c,l),a.child;case 14:return _S(s,a,a.type,a.pendingProps,l);case 15:return vS(s,a,a.type,a.pendingProps,l);case 19:return IS(s,a,l);case 22:return ES(s,a,l);case 24:return Fo(a),c=Un(fn),s===null?(m=y_(),m===null&&(m=mt,y=m_(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:c,cache:m},Q_(a),fa(a,fn,m)):(s.lanes&l&&(Y_(s,a),Ah(a,null,null,l),Sh()),m=s.memoizedState,y=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),fa(a,fn,c)):(c=y.cache,fa(a,fn,c),c!==m.cache&&W_(a,[fn],l,!0))),xn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var G_=ze(null),jo=null,ps=null;function fa(s,a,l){$e(G_,a._currentValue),a._currentValue=l}function ms(s){s._currentValue=G_.current,_t(G_)}function K_(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function W_(s,a,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var A=m.child;y=y.firstContext;e:for(;y!==null;){var k=y;y=m;for(var B=0;B<a.length;B++)if(k.context===a[B]){y.lanes|=l,k=y.alternate,k!==null&&(k.lanes|=l),K_(y.return,l,s),c||(A=null);break e}y=k.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(r(341));A.lanes|=l,y=A.alternate,y!==null&&(y.lanes|=l),K_(A,l,s),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===s){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function wh(s,a,l,c){s=null;for(var m=a,y=!1;m!==null;){if(!y){if(m.flags&524288)y=!0;else if(m.flags&262144)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var k=m.type;mr(m.pendingProps.value,A.value)||(s!==null?s.push(k):s=[k])}}else if(m===Jt.current){if(A=m.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Fh):s=[Fh])}m=m.return}s!==null&&W_(a,s,l,c),a.flags|=262144}function Mp(s){for(s=s.firstContext;s!==null;){if(!mr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Fo(s){jo=s,ps=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Un(s){return xS(jo,s)}function Lp(s,a){return jo===null&&Fo(s),xS(s,a)}function xS(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ps===null){if(s===null)throw Error(r(308));ps=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ps=ps.next=a;return l}var pa=!1;function Q_(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Y_(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ma(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ga(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,Ot&2){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=yp(s),cT(s,null,l),a}return gp(s,c,a,l),yp(s)}function Th(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194176)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,Js(s,l)}}function X_(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=A:y=y.next=A,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var J_=!1;function Sh(){if(J_){var s=tu;if(s!==null)throw s}}function Ah(s,a,l,c){J_=!1;var m=s.updateQueue;pa=!1;var y=m.firstBaseUpdate,A=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var B=k,K=B.next;B.next=null,A===null?y=K:A.next=K,A=B;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,k=ce.lastBaseUpdate,k!==A&&(k===null?ce.firstBaseUpdate=K:k.next=K,ce.lastBaseUpdate=B))}if(y!==null){var fe=m.baseState;A=0,ce=K=B=null,k=y;do{var Z=k.lane&-536870913,le=Z!==k.lane;if(le?(Ye&Z)===Z:(c&Z)===Z){Z!==0&&Z===eu&&(J_=!0),ce!==null&&(ce=ce.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Re=s,ke=k;Z=a;var Ft=l;switch(ke.tag){case 1:if(Re=ke.payload,typeof Re=="function"){fe=Re.call(Ft,fe,Z);break e}fe=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=ke.payload,Z=typeof Re=="function"?Re.call(Ft,fe,Z):Re,Z==null)break e;fe=b({},fe,Z);break e;case 2:pa=!0}}Z=k.callback,Z!==null&&(s.flags|=64,le&&(s.flags|=8192),le=m.callbacks,le===null?m.callbacks=[Z]:le.push(Z))}else le={lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ce===null?(K=ce=le,B=fe):ce=ce.next=le,A|=Z;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;le=k,k=le.next,le.next=null,m.lastBaseUpdate=le,m.shared.pending=null}}while(!0);ce===null&&(B=fe),m.baseState=B,m.firstBaseUpdate=K,m.lastBaseUpdate=ce,y===null&&(m.shared.lanes=0),ba|=A,s.lanes=A,s.memoizedState=fe}}function PS(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function OS(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)PS(l[s],a)}function Rh(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var y=l.create,A=l.inst;c=y(),A.destroy=c}l=l.next}while(l!==m)}}catch(k){dt(a,a.return,k)}}function ya(s,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&s)===s){var A=c.inst,k=A.destroy;if(k!==void 0){A.destroy=void 0,m=a;var B=l;try{k()}catch(K){dt(m,B,K)}}}c=c.next}while(c!==y)}}catch(K){dt(a,a.return,K)}}function DS(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{OS(a,l)}catch(c){dt(s,s.return,c)}}}function NS(s,a,l){l.props=Uo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){dt(s,a,c)}}function Bo(s,a){try{var l=s.ref;if(l!==null){var c=s.stateNode;switch(s.tag){case 26:case 27:case 5:var m=c;break;default:m=c}typeof l=="function"?s.refCleanup=l(m):l.current=m}}catch(y){dt(s,a,y)}}function gr(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){dt(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){dt(s,a,m)}else l.current=null}function kS(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){dt(s,s.return,m)}}function VS(s,a,l){try{var c=s.stateNode;x2(c,s.type,l,a),c[un]=a}catch(m){dt(s,s.return,m)}}function MS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function Z_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||MS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ev(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(s,a):l.insertBefore(s,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(s,l)):(a=l,a.appendChild(s)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Xp));else if(c!==4&&c!==27&&(s=s.child,s!==null))for(ev(s,a,l),s=s.sibling;s!==null;)ev(s,a,l),s=s.sibling}function Up(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&c!==27&&(s=s.child,s!==null))for(Up(s,a,l),s=s.sibling;s!==null;)Up(s,a,l),s=s.sibling}var gs=!1,Ut=!1,tv=!1,LS=typeof WeakSet=="function"?WeakSet:Set,bn=null,US=!1;function s2(s,a){if(s=s.containerInfo,xv=im,s=tT(s),r_(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var A=0,k=-1,B=-1,K=0,ce=0,fe=s,Z=null;t:for(;;){for(var le;fe!==l||m!==0&&fe.nodeType!==3||(k=A+m),fe!==y||c!==0&&fe.nodeType!==3||(B=A+c),fe.nodeType===3&&(A+=fe.nodeValue.length),(le=fe.firstChild)!==null;)Z=fe,fe=le;for(;;){if(fe===s)break t;if(Z===l&&++K===m&&(k=A),Z===y&&++ce===c&&(B=A),(le=fe.nextSibling)!==null)break;fe=Z,Z=fe.parentNode}fe=le}l=k===-1||B===-1?null:{start:k,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Pv={focusedElem:s,selectionRange:l},im=!1,bn=a;bn!==null;)if(a=bn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,bn=s;else for(;bn!==null;){switch(a=bn,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(s&1024&&y!==null){s=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Re=Uo(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Re,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(ke){dt(l,l.return,ke)}}break;case 3:if(s&1024){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)kv(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":kv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,bn=s;break}bn=a.return}return Re=US,US=!1,Re}function jS(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:_s(s,l),c&4&&Rh(5,l);break;case 1:if(_s(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(k){dt(l,l.return,k)}else{var m=Uo(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(k){dt(l,l.return,k)}}c&64&&DS(l),c&512&&Bo(l,l.return);break;case 3:if(_s(s,l),c&64&&(c=l.updateQueue,c!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{OS(c,s)}catch(k){dt(l,l.return,k)}}break;case 26:_s(s,l),c&512&&Bo(l,l.return);break;case 27:case 5:_s(s,l),a===null&&c&4&&kS(l),c&512&&Bo(l,l.return);break;case 12:_s(s,l);break;case 13:_s(s,l),c&4&&zS(s,l);break;case 22:if(m=l.memoizedState!==null||gs,!m){a=a!==null&&a.memoizedState!==null||Ut;var y=gs,A=Ut;gs=m,(Ut=a)&&!A?_a(s,l,(l.subtreeFlags&8772)!==0):_s(s,l),gs=y,Ut=A}c&512&&(l.memoizedProps.mode==="manual"?Bo(l,l.return):gr(l,l.return));break;default:_s(s,l)}}function FS(s){var a=s.alternate;a!==null&&(s.alternate=null,FS(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&yo(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tn=null,yr=!1;function ys(s,a,l){for(l=l.child;l!==null;)BS(s,a,l),l=l.sibling}function BS(s,a,l){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Ks,l)}catch{}switch(l.tag){case 26:Ut||gr(l,a),ys(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ut||gr(l,a);var c=tn,m=yr;for(tn=l.stateNode,ys(s,a,l),l=l.stateNode,a=l.attributes;a.length;)l.removeAttributeNode(a[0]);yo(l),tn=c,yr=m;break;case 5:Ut||gr(l,a);case 6:m=tn;var y=yr;if(tn=null,ys(s,a,l),tn=m,yr=y,tn!==null)if(yr)try{s=tn,c=l.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)}catch(A){dt(l,a,A)}else try{tn.removeChild(l.stateNode)}catch(A){dt(l,a,A)}break;case 18:tn!==null&&(yr?(a=tn,l=l.stateNode,a.nodeType===8?Nv(a.parentNode,l):a.nodeType===1&&Nv(a,l),Hh(a)):Nv(tn,l.stateNode));break;case 4:c=tn,m=yr,tn=l.stateNode.containerInfo,yr=!0,ys(s,a,l),tn=c,yr=m;break;case 0:case 11:case 14:case 15:Ut||ya(2,l,a),Ut||ya(4,l,a),ys(s,a,l);break;case 1:Ut||(gr(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&NS(l,a,c)),ys(s,a,l);break;case 21:ys(s,a,l);break;case 22:Ut||gr(l,a),Ut=(c=Ut)||l.memoizedState!==null,ys(s,a,l),Ut=c;break;default:ys(s,a,l)}}function zS(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Hh(s)}catch(l){dt(a,a.return,l)}}function a2(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new LS),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new LS),a;default:throw Error(r(435,s.tag))}}function nv(s,a){var l=a2(s);a.forEach(function(c){var m=v2.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function qr(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=s,A=a,k=A;e:for(;k!==null;){switch(k.tag){case 27:case 5:tn=k.stateNode,yr=!1;break e;case 3:tn=k.stateNode.containerInfo,yr=!0;break e;case 4:tn=k.stateNode.containerInfo,yr=!0;break e}k=k.return}if(tn===null)throw Error(r(160));BS(y,A,m),tn=null,yr=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)qS(a,s),a=a.sibling}var si=null;function qS(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:qr(a,s),Hr(s),c&4&&(ya(3,s,s.return),Rh(3,s),ya(5,s,s.return));break;case 1:qr(a,s),Hr(s),c&512&&(Ut||l===null||gr(l,l.return)),c&64&&gs&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=si;if(qr(a,s),Hr(s),c&512&&(Ut||l===null||gr(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[ea]||y[yn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),Pn(y,c,l),y[yn]=s,xt(y),c=y;break e;case"link":var A=kA("link","href",m).get(c+(l.href||""));if(A){for(var k=0;k<A.length;k++)if(y=A[k],y.getAttribute("href")===(l.href==null?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(k,1);break t}}y=m.createElement(c),Pn(y,c,l),m.head.appendChild(y);break;case"meta":if(A=kA("meta","content",m).get(c+(l.content||""))){for(k=0;k<A.length;k++)if(y=A[k],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(k,1);break t}}y=m.createElement(c),Pn(y,c,l),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[yn]=s,xt(y),c=y}s.stateNode=c}else VA(m,s.type,s.stateNode);else s.stateNode=NA(m,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?VA(m,s.type,s.stateNode):NA(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&VS(s,s.memoizedProps,l.memoizedProps)}break;case 27:if(c&4&&s.alternate===null){m=s.stateNode,y=s.memoizedProps;try{for(var B=m.firstChild;B;){var K=B.nextSibling,ce=B.nodeName;B[ea]||ce==="HEAD"||ce==="BODY"||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&B.rel.toLowerCase()==="stylesheet"||m.removeChild(B),B=K}for(var fe=s.type,Z=m.attributes;Z.length;)m.removeAttributeNode(Z[0]);Pn(m,fe,y),m[yn]=s,m[un]=y}catch(Re){dt(s,s.return,Re)}}case 5:if(qr(a,s),Hr(s),c&512&&(Ut||l===null||gr(l,l.return)),s.flags&32){m=s.stateNode;try{kr(m,"")}catch(Re){dt(s,s.return,Re)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,VS(s,m,l!==null?l.memoizedProps:m)),c&1024&&(tv=!0);break;case 6:if(qr(a,s),Hr(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(Re){dt(s,s.return,Re)}}break;case 3:if(tm=null,m=si,si=Zp(a.containerInfo),qr(a,s),si=m,Hr(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Hh(a.containerInfo)}catch(Re){dt(s,s.return,Re)}tv&&(tv=!1,HS(s));break;case 4:c=si,si=Zp(s.stateNode.containerInfo),qr(a,s),Hr(s),si=c;break;case 12:qr(a,s),Hr(s);break;case 13:qr(a,s),Hr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(hv=rr()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,nv(s,c)));break;case 22:if(c&512&&(Ut||l===null||gr(l,l.return)),B=s.memoizedState!==null,K=l!==null&&l.memoizedState!==null,ce=gs,fe=Ut,gs=ce||B,Ut=fe||K,qr(a,s),Ut=fe,gs=ce,Hr(s),a=s.stateNode,a._current=s,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,c&8192&&(a._visibility=B?a._visibility&-2:a._visibility|1,B&&(a=gs||Ut,l===null||K||a||su(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(l=null,a=s;;){if(a.tag===5||a.tag===26||a.tag===27){if(l===null){K=l=a;try{if(m=K.stateNode,B)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{A=K.stateNode,k=K.memoizedProps.style;var le=k!=null&&k.hasOwnProperty("display")?k.display:null;A.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Re){dt(K,K.return,Re)}}}else if(a.tag===6){if(l===null){K=a;try{K.stateNode.nodeValue=B?"":K.memoizedProps}catch(Re){dt(K,K.return,Re)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,nv(s,l))));break;case 19:qr(a,s),Hr(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,nv(s,c)));break;case 21:break;default:qr(a,s),Hr(s)}}function Hr(s){var a=s.flags;if(a&2){try{if(s.tag!==27){e:{for(var l=s.return;l!==null;){if(MS(l)){var c=l;break e}l=l.return}throw Error(r(160))}switch(c.tag){case 27:var m=c.stateNode,y=Z_(s);Up(s,y,m);break;case 5:var A=c.stateNode;c.flags&32&&(kr(A,""),c.flags&=-33);var k=Z_(s);Up(s,k,A);break;case 3:case 4:var B=c.stateNode.containerInfo,K=Z_(s);ev(s,K,B);break;default:throw Error(r(161))}}}catch(ce){dt(s,s.return,ce)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function HS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;HS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function _s(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)jS(s,a.alternate,a),a=a.sibling}function su(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ya(4,a,a.return),su(a);break;case 1:gr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&NS(a,a.return,l),su(a);break;case 26:case 27:case 5:gr(a,a.return),su(a);break;case 22:gr(a,a.return),a.memoizedState===null&&su(a);break;default:su(a)}s=s.sibling}}function _a(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=s,y=a,A=y.flags;switch(y.tag){case 0:case 11:case 15:_a(m,y,l),Rh(4,y);break;case 1:if(_a(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){dt(c,c.return,K)}if(c=y,m=c.updateQueue,m!==null){var k=c.stateNode;try{var B=m.shared.hiddenCallbacks;if(B!==null)for(m.shared.hiddenCallbacks=null,m=0;m<B.length;m++)PS(B[m],k)}catch(K){dt(c,c.return,K)}}l&&A&64&&DS(y),Bo(y,y.return);break;case 26:case 27:case 5:_a(m,y,l),l&&c===null&&A&4&&kS(y),Bo(y,y.return);break;case 12:_a(m,y,l);break;case 13:_a(m,y,l),l&&A&4&&zS(m,y);break;case 22:y.memoizedState===null&&_a(m,y,l),Bo(y,y.return);break;default:_a(m,y,l)}a=a.sibling}}function rv(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&gh(l))}function iv(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&gh(s))}function va(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)$S(s,a,l,c),a=a.sibling}function $S(s,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:va(s,a,l,c),m&2048&&Rh(9,a);break;case 3:va(s,a,l,c),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&gh(s)));break;case 12:if(m&2048){va(s,a,l,c),s=a.stateNode;try{var y=a.memoizedProps,A=y.id,k=y.onPostCommit;typeof k=="function"&&k(A,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(B){dt(a,a.return,B)}}else va(s,a,l,c);break;case 23:break;case 22:y=a.stateNode,a.memoizedState!==null?y._visibility&4?va(s,a,l,c):Ih(s,a):y._visibility&4?va(s,a,l,c):(y._visibility|=4,au(s,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&rv(a.alternate,a);break;case 24:va(s,a,l,c),m&2048&&iv(a.alternate,a);break;default:va(s,a,l,c)}}function au(s,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,A=a,k=l,B=c,K=A.flags;switch(A.tag){case 0:case 11:case 15:au(y,A,k,B,m),Rh(8,A);break;case 23:break;case 22:var ce=A.stateNode;A.memoizedState!==null?ce._visibility&4?au(y,A,k,B,m):Ih(y,A):(ce._visibility|=4,au(y,A,k,B,m)),m&&K&2048&&rv(A.alternate,A);break;case 24:au(y,A,k,B,m),m&&K&2048&&iv(A.alternate,A);break;default:au(y,A,k,B,m)}a=a.sibling}}function Ih(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,m=c.flags;switch(c.tag){case 22:Ih(l,c),m&2048&&rv(c.alternate,c);break;case 24:Ih(l,c),m&2048&&iv(c.alternate,c);break;default:Ih(l,c)}a=a.sibling}}var Ch=8192;function ou(s){if(s.subtreeFlags&Ch)for(s=s.child;s!==null;)GS(s),s=s.sibling}function GS(s){switch(s.tag){case 26:ou(s),s.flags&Ch&&s.memoizedState!==null&&W2(si,s.memoizedState,s.memoizedProps);break;case 5:ou(s);break;case 3:case 4:var a=si;si=Zp(s.stateNode.containerInfo),ou(s),si=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Ch,Ch=16777216,ou(s),Ch=a):ou(s));break;default:ou(s)}}function KS(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function xh(s){var a=s.deletions;if(s.flags&16){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];bn=c,QS(c,s)}KS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)WS(s),s=s.sibling}function WS(s){switch(s.tag){case 0:case 11:case 15:xh(s),s.flags&2048&&ya(9,s,s.return);break;case 3:xh(s);break;case 12:xh(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&4&&(s.return===null||s.return.tag!==13)?(a._visibility&=-5,jp(s)):xh(s);break;default:xh(s)}}function jp(s){var a=s.deletions;if(s.flags&16){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];bn=c,QS(c,s)}KS(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ya(8,a,a.return),jp(a);break;case 22:l=a.stateNode,l._visibility&4&&(l._visibility&=-5,jp(a));break;default:jp(a)}s=s.sibling}}function QS(s,a){for(;bn!==null;){var l=bn;switch(l.tag){case 0:case 11:case 15:ya(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:gh(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,bn=c;else e:for(l=s;bn!==null;){c=bn;var m=c.sibling,y=c.return;if(FS(c),c===l){bn=null;break e}if(m!==null){m.return=y,bn=m;break e}bn=y}}}function o2(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(s,a,l,c){return new o2(s,a,l,c)}function sv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ea(s,a){var l=s.alternate;return l===null?(l=$r(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&31457280,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function YS(s,a){s.flags&=31457282;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Fp(s,a,l,c,m,y){var A=0;if(c=s,typeof s=="function")sv(s)&&(A=1);else if(typeof s=="string")A=G2(s,l,Et.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case d:return zo(l.children,m,y,a);case f:A=8,m|=24;break;case g:return s=$r(12,l,a,m|2),s.elementType=g,s.lanes=y,s;case R:return s=$r(13,l,a,m),s.elementType=R,s.lanes=y,s;case x:return s=$r(19,l,a,m),s.elementType=x,s.lanes=y,s;case j:return XS(l,m,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case _:case T:A=10;break e;case v:A=9;break e;case w:A=11;break e;case U:A=14;break e;case L:A=16,c=null;break e}A=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return a=$r(A,l,a,m),a.elementType=s,a.type=c,a.lanes=y,a}function zo(s,a,l,c){return s=$r(7,s,c,a),s.lanes=l,s}function XS(s,a,l,c){s=$r(22,s,c,a),s.elementType=j,s.lanes=l;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=m._current;if(y===null)throw Error(r(456));if(!(m._pendingVisibility&2)){var A=la(y,2);A!==null&&(m._pendingVisibility|=2,Yn(A,y,2))}},attach:function(){var y=m._current;if(y===null)throw Error(r(456));if(m._pendingVisibility&2){var A=la(y,2);A!==null&&(m._pendingVisibility&=-3,Yn(A,y,2))}}};return s.stateNode=m,s}function av(s,a,l){return s=$r(6,s,null,a),s.lanes=l,s}function ov(s,a,l){return a=$r(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function vs(s){s.flags|=4}function JS(s,a){if(a.type!=="stylesheet"||a.state.loading&4)s.flags&=-16777217;else if(s.flags|=16777216,!MA(a)){if(a=zr.current,a!==null&&((Ye&4194176)===Ye?Ai!==null:(Ye&62914560)!==Ye&&!(Ye&536870912)||a!==Ai))throw fh=d_,mT;s.flags|=8192}}function Bp(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Ys():536870912,s.lanes|=a,uu|=a)}function Ph(s,a){if(!et)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Pt(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&31457280,c|=m.flags&31457280,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function l2(s,a,l){var c=a.pendingProps;switch(c_(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(a),null;case 1:return Pt(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),ms(fn),Vn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(uh(a)?vs(a):s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,ii!==null&&(mv(ii),ii=null))),Pt(a),null;case 26:return l=a.memoizedState,s===null?(vs(a),l!==null?(Pt(a),JS(a,l)):(Pt(a),a.flags&=-16777217)):l?l!==s.memoizedState?(vs(a),Pt(a),JS(a,l)):(Pt(a),a.flags&=-16777217):(s.memoizedProps!==c&&vs(a),Pt(a),a.flags&=-16777217),null;case 27:Mn(a),l=at.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&vs(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Pt(a),null}s=Et.current,uh(a)?fT(a):(s=CA(m,c,l),a.stateNode=s,vs(a))}return Pt(a),null;case 5:if(Mn(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&vs(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Pt(a),null}if(s=Et.current,uh(a))fT(a);else{switch(m=Jp(at.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[yn]=a,s[un]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;e:switch(Pn(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&vs(a)}}return Pt(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&vs(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(s=at.current,uh(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,m=Qn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[yn]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||wA(s.nodeValue,l)),s||Do(a)}else s=Jp(s).createTextNode(c),s[yn]=a,a.stateNode=s}return Pt(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=uh(a),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[yn]=a}else ch(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Pt(a),m=!1}else ii!==null&&(mv(ii),ii=null),m=!0;if(!m)return a.flags&256?(hs(a),a):(hs(a),null)}if(hs(a),a.flags&128)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Bp(a,a.updateQueue),Pt(a),null;case 4:return Vn(),s===null&&Rv(a.stateNode.containerInfo),Pt(a),null;case 10:return ms(a.type),Pt(a),null;case 19:if(_t(dn),m=a.memoizedState,m===null)return Pt(a),null;if(c=(a.flags&128)!==0,y=m.rendering,y===null)if(c)Ph(m,!1);else{if(jt!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(y=Sp(s),y!==null){for(a.flags|=128,Ph(m,!1),s=y.updateQueue,a.updateQueue=s,Bp(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)YS(l,s),l=l.sibling;return $e(dn,dn.current&1|2),a.child}s=s.sibling}m.tail!==null&&rr()>zp&&(a.flags|=128,c=!0,Ph(m,!1),a.lanes=4194304)}else{if(!c)if(s=Sp(y),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,Bp(a,s),Ph(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!et)return Pt(a),null}else 2*rr()-m.renderingStartTime>zp&&l!==536870912&&(a.flags|=128,c=!0,Ph(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(s=m.last,s!==null?s.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=rr(),a.sibling=null,s=dn.current,$e(dn,c?s&1|2:s&1),a):(Pt(a),null);case 22:case 23:return hs(a),p_(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?l&536870912&&!(a.flags&128)&&(Pt(a),a.subtreeFlags&6&&(a.flags|=8192)):Pt(a),l=a.updateQueue,l!==null&&Bp(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&_t(ko),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ms(fn),Pt(a),null;case 25:return null}throw Error(r(156,a.tag))}function u2(s,a){switch(c_(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ms(fn),Vn(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Mn(a),null;case 13:if(hs(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));ch()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return _t(dn),null;case 4:return Vn(),null;case 10:return ms(a.type),null;case 22:case 23:return hs(a),p_(),s!==null&&_t(ko),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ms(fn),null;case 25:return null;default:return null}}function ZS(s,a){switch(c_(a),a.tag){case 3:ms(fn),Vn();break;case 26:case 27:case 5:Mn(a);break;case 4:Vn();break;case 13:hs(a);break;case 19:_t(dn);break;case 10:ms(a.type);break;case 22:case 23:hs(a),p_(),s!==null&&_t(ko);break;case 24:ms(fn)}}var c2={getCacheForType:function(s){var a=Un(fn),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},h2=typeof WeakMap=="function"?WeakMap:Map,Ot=0,mt=null,Fe=null,Ye=0,gt=0,_r=null,Es=!1,lu=!1,lv=!1,bs=0,jt=0,ba=0,qo=0,uv=0,Gr=0,uu=0,Oh=null,Ii=null,cv=!1,hv=0,zp=1/0,qp=null,wa=null,Hp=!1,Ho=null,Dh=0,dv=0,fv=null,Nh=0,pv=null;function vr(){if(Ot&2&&Ye!==0)return Ye&-Ye;if(I.T!==null){var s=eu;return s!==0?s:wv()}return Yf()}function eA(){Gr===0&&(Gr=!(Ye&536870912)||et?$c():536870912);var s=zr.current;return s!==null&&(s.flags|=32),Gr}function Yn(s,a,l){(s===mt&&gt===2||s.cancelPendingCommit!==null)&&(cu(s,0),ws(s,Ye,Gr,!1)),Gt(s,l),(!(Ot&2)||s!==mt)&&(s===mt&&(!(Ot&2)&&(qo|=l),jt===4&&ws(s,Ye,Gr,!1)),Ci(s))}function tA(s,a,l){if(Ot&6)throw Error(r(327));var c=!l&&(a&60)===0&&(a&s.expiredLanes)===0||Qs(s,a),m=c?p2(s,a):_v(s,a,!0),y=c;do{if(m===0){lu&&!c&&ws(s,a,0,!1);break}else if(m===6)ws(s,a,0,!Es);else{if(l=s.current.alternate,y&&!d2(l)){m=_v(s,a,!1),y=!1;continue}if(m===2){if(y=a,s.errorRecoveryDisabledLanes&y)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var k=s;m=Oh;var B=k.current.memoizedState.isDehydrated;if(B&&(cu(k,A).flags|=256),A=_v(k,A,!1),A!==2){if(lv&&!B){k.errorRecoveryDisabledLanes|=y,qo|=y,m=4;break e}y=Ii,Ii=m,y!==null&&mv(y)}m=A}if(y=!1,m!==2)continue}}if(m===1){cu(s,0),ws(s,a,0,!0);break}e:{switch(c=s,m){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){ws(c,a,Gr,!Es);break e}break;case 2:Ii=null;break;case 3:case 5:break;default:throw Error(r(329))}if(c.finishedWork=l,c.finishedLanes=a,(a&62914560)===a&&(y=hv+300-rr(),10<y)){if(ws(c,a,Gr,!Es),Dr(c,0)!==0)break e;c.timeoutHandle=AA(nA.bind(null,c,l,Ii,qp,cv,a,Gr,qo,uu,Es,2,-0,0),y);break e}nA(c,l,Ii,qp,cv,a,Gr,qo,uu,Es,0,-0,0)}}break}while(!0);Ci(s)}function mv(s){Ii===null?Ii=s:Ii.push.apply(Ii,s)}function nA(s,a,l,c,m,y,A,k,B,K,ce,fe,Z){var le=a.subtreeFlags;if((le&8192||(le&16785408)===16785408)&&(jh={stylesheets:null,count:0,unsuspend:K2},GS(a),a=Q2(),a!==null)){s.cancelPendingCommit=a(uA.bind(null,s,l,c,m,A,k,B,1,fe,Z)),ws(s,y,A,!K);return}uA(s,l,c,m,A,k,B,ce,fe,Z)}function d2(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!mr(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ws(s,a,l,c){a&=~uv,a&=~qo,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var m=a;0<m;){var y=31-Gn(m),A=1<<y;c[y]=-1,m&=~A}l!==0&&Xs(s,l,a)}function $p(){return Ot&6?!0:(kh(0),!1)}function gv(){if(Fe!==null){if(gt===0)var s=Fe.return;else s=Fe,ps=jo=null,w_(s),Jl=null,ph=0,s=Fe;for(;s!==null;)ZS(s.alternate,s),s=s.return;Fe=null}}function cu(s,a){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,O2(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),gv(),mt=s,Fe=l=Ea(s.current,null),Ye=a,gt=0,_r=null,Es=!1,lu=Qs(s,a),lv=!1,uu=Gr=uv=qo=ba=jt=0,Ii=Oh=null,cv=!1,a&8&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var m=31-Gn(c),y=1<<m;a|=s[m],c&=~y}return bs=a,mp(),l}function rA(s,a){Ue=null,I.H=Ri,a===dh?(a=_T(),gt=3):a===mT?(a=_T(),gt=4):gt=a===gS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,_r=a,Fe===null&&(jt=1,Vp(s,jr(a,s.current)))}function iA(){var s=I.H;return I.H=Ri,s===null?Ri:s}function sA(){var s=I.A;return I.A=c2,s}function yv(){jt=4,Es||(Ye&4194176)!==Ye&&zr.current!==null||(lu=!0),!(ba&134217727)&&!(qo&134217727)||mt===null||ws(mt,Ye,Gr,!1)}function _v(s,a,l){var c=Ot;Ot|=2;var m=iA(),y=sA();(mt!==s||Ye!==a)&&(qp=null,cu(s,a)),a=!1;var A=jt;e:do try{if(gt!==0&&Fe!==null){var k=Fe,B=_r;switch(gt){case 8:gv(),A=6;break e;case 3:case 2:case 6:zr.current===null&&(a=!0);var K=gt;if(gt=0,_r=null,hu(s,k,B,K),l&&lu){A=0;break e}break;default:K=gt,gt=0,_r=null,hu(s,k,B,K)}}f2(),A=jt;break}catch(ce){rA(s,ce)}while(!0);return a&&s.shellSuspendCounter++,ps=jo=null,Ot=c,I.H=m,I.A=y,Fe===null&&(mt=null,Ye=0,mp()),A}function f2(){for(;Fe!==null;)aA(Fe)}function p2(s,a){var l=Ot;Ot|=2;var c=iA(),m=sA();mt!==s||Ye!==a?(qp=null,zp=rr()+500,cu(s,a)):lu=Qs(s,a);e:do try{if(gt!==0&&Fe!==null){a=Fe;var y=_r;t:switch(gt){case 1:gt=0,_r=null,hu(s,a,y,1);break;case 2:if(gT(y)){gt=0,_r=null,oA(a);break}a=function(){gt===2&&mt===s&&(gt=7),Ci(s)},y.then(a,a);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:gT(y)?(gt=0,_r=null,oA(a)):(gt=0,_r=null,hu(s,a,y,7));break;case 5:var A=null;switch(Fe.tag){case 26:A=Fe.memoizedState;case 5:case 27:var k=Fe;if(!A||MA(A)){gt=0,_r=null;var B=k.sibling;if(B!==null)Fe=B;else{var K=k.return;K!==null?(Fe=K,Gp(K)):Fe=null}break t}}gt=0,_r=null,hu(s,a,y,5);break;case 6:gt=0,_r=null,hu(s,a,y,6);break;case 8:gv(),jt=6;break e;default:throw Error(r(462))}}m2();break}catch(ce){rA(s,ce)}while(!0);return ps=jo=null,I.H=c,I.A=m,Ot=l,Fe!==null?0:(mt=null,Ye=0,mp(),jt)}function m2(){for(;Fe!==null&&!Gy();)aA(Fe)}function aA(s){var a=CS(s.alternate,s,bs);s.memoizedProps=s.pendingProps,a===null?Gp(s):Fe=a}function oA(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=wS(l,a,a.pendingProps,a.type,void 0,Ye);break;case 11:a=wS(l,a,a.pendingProps,a.type.render,a.ref,Ye);break;case 5:w_(a);default:ZS(l,a),a=Fe=YS(a,bs),a=CS(l,a,bs)}s.memoizedProps=s.pendingProps,a===null?Gp(s):Fe=a}function hu(s,a,l,c){ps=jo=null,w_(a),Jl=null,ph=0;var m=a.return;try{if(r2(s,m,a,l,Ye)){jt=1,Vp(s,jr(l,s.current)),Fe=null;return}}catch(y){if(m!==null)throw Fe=m,y;jt=1,Vp(s,jr(l,s.current)),Fe=null;return}a.flags&32768?(et||c===1?s=!0:lu||Ye&536870912?s=!1:(Es=s=!0,(c===2||c===3||c===6)&&(c=zr.current,c!==null&&c.tag===13&&(c.flags|=16384))),lA(a,s)):Gp(a)}function Gp(s){var a=s;do{if(a.flags&32768){lA(a,Es);return}s=a.return;var l=l2(a.alternate,a,bs);if(l!==null){Fe=l;return}if(a=a.sibling,a!==null){Fe=a;return}Fe=a=s}while(a!==null);jt===0&&(jt=5)}function lA(s,a){do{var l=u2(s.alternate,s);if(l!==null){l.flags&=32767,Fe=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=l}while(s!==null);jt=6,Fe=null}function uA(s,a,l,c,m,y,A,k,B,K){var ce=I.T,fe=ye.p;try{ye.p=2,I.T=null,g2(s,a,l,c,fe,m,y,A,k,B,K)}finally{I.T=ce,ye.p=fe}}function g2(s,a,l,c,m,y,A,k){do du();while(Ho!==null);if(Ot&6)throw Error(r(327));var B=s.finishedWork;if(c=s.finishedLanes,B===null)return null;if(s.finishedWork=null,s.finishedLanes=0,B===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var K=B.lanes|B.childLanes;if(K|=o_,Wf(s,c,K,y,A,k),s===mt&&(Fe=mt=null,Ye=0),!(B.subtreeFlags&10256)&&!(B.flags&10256)||Hp||(Hp=!0,dv=K,fv=l,E2(Zi,function(){return du(),null})),l=(B.flags&15990)!==0,B.subtreeFlags&15990||l?(l=I.T,I.T=null,y=ye.p,ye.p=2,A=Ot,Ot|=4,s2(s,B),qS(B,s),Fk(Pv,s.containerInfo),im=!!xv,Pv=xv=null,s.current=B,jS(s,B.alternate,B),Bc(),Ot=A,ye.p=y,I.T=l):s.current=B,Hp?(Hp=!1,Ho=s,Dh=c):cA(s,K),K=s.pendingLanes,K===0&&(wa=null),qc(B.stateNode),Ci(s),a!==null)for(m=s.onRecoverableError,B=0;B<a.length;B++)K=a[B],m(K.value,{componentStack:K.stack});return Dh&3&&du(),K=s.pendingLanes,c&4194218&&K&42?s===pv?Nh++:(Nh=0,pv=s):Nh=0,kh(0),null}function cA(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,gh(a)))}function du(){if(Ho!==null){var s=Ho,a=dv;dv=0;var l=Qf(Dh),c=I.T,m=ye.p;try{if(ye.p=32>l?32:l,I.T=null,Ho===null)var y=!1;else{l=fv,fv=null;var A=Ho,k=Dh;if(Ho=null,Dh=0,Ot&6)throw Error(r(331));var B=Ot;if(Ot|=4,WS(A.current),$S(A,A.current,k,l),Ot=B,kh(0,!1),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Ks,A)}catch{}y=!0}return y}finally{ye.p=m,I.T=c,cA(s,a)}}return!1}function hA(s,a,l){a=jr(l,a),a=M_(s.stateNode,a,2),s=ga(s,a,2),s!==null&&(Gt(s,2),Ci(s))}function dt(s,a,l){if(s.tag===3)hA(s,s,l);else for(;a!==null;){if(a.tag===3){hA(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(wa===null||!wa.has(c))){s=jr(l,s),l=pS(2),c=ga(a,l,2),c!==null&&(mS(l,c,a,s),Gt(c,2),Ci(c));break}}a=a.return}}function vv(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new h2;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(lv=!0,m.add(l),s=y2.bind(null,s,a,l),a.then(s,s))}function y2(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,mt===s&&(Ye&l)===l&&(jt===4||jt===3&&(Ye&62914560)===Ye&&300>rr()-hv?!(Ot&2)&&cu(s,0):uv|=l,uu===Ye&&(uu=0)),Ci(s)}function dA(s,a){a===0&&(a=Ys()),s=la(s,a),s!==null&&(Gt(s,a),Ci(s))}function _2(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),dA(s,l)}function v2(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),dA(s,l)}function E2(s,a){return ei(s,a)}var Kp=null,fu=null,Ev=!1,Wp=!1,bv=!1,$o=0;function Ci(s){s!==fu&&s.next===null&&(fu===null?Kp=fu=s:fu=fu.next=s),Wp=!0,Ev||(Ev=!0,w2(b2))}function kh(s,a){if(!bv&&Wp){bv=!0;do for(var l=!1,c=Kp;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var A=c.suspendedLanes,k=c.pingedLanes;y=(1<<31-Gn(42|s)+1)-1,y&=m&~(A&~k),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(l=!0,mA(c,y))}else y=Ye,y=Dr(c,c===mt?y:0),!(y&3)||Qs(c,y)||(l=!0,mA(c,y));c=c.next}while(l);bv=!1}}function b2(){Wp=Ev=!1;var s=0;$o!==0&&(P2()&&(s=$o),$o=0);for(var a=rr(),l=null,c=Kp;c!==null;){var m=c.next,y=fA(c,a);y===0?(c.next=null,l===null?Kp=m:l.next=m,m===null&&(fu=l)):(l=c,(s!==0||y&3)&&(Wp=!0)),c=m}kh(s)}function fA(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var A=31-Gn(y),k=1<<A,B=m[A];B===-1?(!(k&l)||k&c)&&(m[A]=Ol(k,a)):B<=a&&(s.expiredLanes|=k),y&=~k}if(a=mt,l=Ye,l=Dr(s,s===a?l:0),c=s.callbackNode,l===0||s===a&&gt===2||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Pl(c),s.callbackNode=null,s.callbackPriority=0;if(!(l&3)||Qs(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&Pl(c),Qf(l)){case 2:case 8:l=gn;break;case 32:l=Zi;break;case 268435456:l=zc;break;default:l=Zi}return c=pA.bind(null,s),l=ei(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&Pl(c),s.callbackPriority=2,s.callbackNode=null,2}function pA(s,a){var l=s.callbackNode;if(du()&&s.callbackNode!==l)return null;var c=Ye;return c=Dr(s,s===mt?c:0),c===0?null:(tA(s,c,a),fA(s,rr()),s.callbackNode!=null&&s.callbackNode===l?pA.bind(null,s):null)}function mA(s,a){if(du())return null;tA(s,a,!0)}function w2(s){D2(function(){Ot&6?ei(ln,s):s()})}function wv(){return $o===0&&($o=$c()),$o}function gA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:yi(""+s)}function yA(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function T2(s,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var y=gA((m[un]||null).action),A=c.submitter;A&&(a=(a=A[un]||null)?gA(a.formAction):A.getAttribute("formAction"),a!==null&&(y=a,A=null));var k=new Ul("action","action",null,c,m);s.push({event:k,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if($o!==0){var B=A?yA(m,A):new FormData(m);O_(l,{pending:!0,data:B,method:m.method,action:y},null,B)}}else typeof y=="function"&&(k.preventDefault(),B=A?yA(m,A):new FormData(m),O_(l,{pending:!0,data:B,method:m.method,action:y},y,B))},currentTarget:m}]})}}for(var Tv=0;Tv<uT.length;Tv++){var Sv=uT[Tv],S2=Sv.toLowerCase(),A2=Sv[0].toUpperCase()+Sv.slice(1);ri(S2,"on"+A2)}ri(iT,"onAnimationEnd"),ri(sT,"onAnimationIteration"),ri(aT,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(zk,"onTransitionRun"),ri(qk,"onTransitionStart"),ri(Hk,"onTransitionCancel"),ri(oT,"onTransitionEnd"),ir("onMouseEnter",["mouseout","mouseover"]),ir("onMouseLeave",["mouseout","mouseover"]),ir("onPointerEnter",["pointerout","pointerover"]),ir("onPointerLeave",["pointerout","pointerover"]),fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vh));function _A(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var A=c.length-1;0<=A;A--){var k=c[A],B=k.instance,K=k.currentTarget;if(k=k.listener,B!==y&&m.isPropagationStopped())break e;y=k,m.currentTarget=K;try{y(m)}catch(ce){kp(ce)}m.currentTarget=null,y=B}else for(A=0;A<c.length;A++){if(k=c[A],B=k.instance,K=k.currentTarget,k=k.listener,B!==y&&m.isPropagationStopped())break e;y=k,m.currentTarget=K;try{y(m)}catch(ce){kp(ce)}m.currentTarget=null,y=B}}}}function Ge(s,a){var l=a[go];l===void 0&&(l=a[go]=new Set);var c=s+"__bubble";l.has(c)||(vA(a,s,2,!1),l.add(c))}function Av(s,a,l){var c=0;a&&(c|=4),vA(l,s,c,a)}var Qp="_reactListening"+Math.random().toString(36).slice(2);function Rv(s){if(!s[Qp]){s[Qp]=!0,Kc.forEach(function(l){l!=="selectionchange"&&(R2.has(l)||Av(l,!1,s),Av(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Qp]||(a[Qp]=!0,Av("selectionchange",!1,a))}}function vA(s,a,l,c){switch(zA(a)){case 2:var m=J2;break;case 8:m=Z2;break;default:m=jv}l=m.bind(null,a,l,s),m=void 0,!Mr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function Iv(s,a,l,c,m){var y=c;if(!(a&1)&&!(a&2)&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var k=c.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(A===4)for(A=c.return;A!==null;){var B=A.tag;if((B===3||B===4)&&(B=A.stateNode.containerInfo,B===m||B.nodeType===8&&B.parentNode===m))return;A=A.return}for(;k!==null;){if(A=ni(k),A===null)return;if(B=A.tag,B===5||B===6||B===26||B===27){c=y=A;continue e}k=k.parentNode}}c=c.return}ep(function(){var K=y,ce=Ll(l),fe=[];e:{var Z=lT.get(s);if(Z!==void 0){var le=Ul,Re=s;switch(s){case"keypress":if(vi(l)===0)break e;case"keydown":case"keyup":le=Hl;break;case"focusin":Re="focus",le=Bl;break;case"focusout":Re="blur",le=Bl;break;case"beforeblur":case"afterblur":le=Bl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Zy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=lp;break;case iT:case sT:case aT:le=zl;break;case oT:le=cp;break;case"scroll":case"scrollend":le=tp;break;case"wheel":le=$l;break;case"copy":case"cut":case"paste":le=ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=sh;break;case"toggle":case"beforetoggle":le=dp}var ke=(a&4)!==0,Ft=!ke&&(s==="scroll"||s==="scrollend"),Q=ke?Z!==null?Z+"Capture":null:Z;ke=[];for(var G=K,J;G!==null;){var he=G;if(J=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||J===null||Q===null||(he=bo(G,Q),he!=null&&ke.push(Mh(G,he,J))),Ft)break;G=G.return}0<ke.length&&(Z=new le(Z,Re,null,l,ce),fe.push({event:Z,listeners:ke}))}}if(!(a&7)){e:{if(Z=s==="mouseover"||s==="pointerover",le=s==="mouseout"||s==="pointerout",Z&&l!==Vr&&(Re=l.relatedTarget||l.fromElement)&&(ni(Re)||Re[es]))break e;if((le||Z)&&(Z=ce.window===ce?ce:(Z=ce.ownerDocument)?Z.defaultView||Z.parentWindow:window,le?(Re=l.relatedTarget||l.toElement,le=K,Re=Re?ni(Re):null,Re!==null&&(Ft=ue(Re),ke=Re.tag,Re!==Ft||ke!==5&&ke!==27&&ke!==6)&&(Re=null)):(le=null,Re=K),le!==Re)){if(ke=Lr,he="onMouseLeave",Q="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(ke=sh,he="onPointerLeave",Q="onPointerEnter",G="pointer"),Ft=le==null?Z:ta(le),J=Re==null?Z:ta(Re),Z=new ke(he,G+"leave",le,l,ce),Z.target=Ft,Z.relatedTarget=J,he=null,ni(ce)===K&&(ke=new ke(Q,G+"enter",Re,l,ce),ke.target=J,ke.relatedTarget=Ft,he=ke),Ft=he,le&&Re)t:{for(ke=le,Q=Re,G=0,J=ke;J;J=pu(J))G++;for(J=0,he=Q;he;he=pu(he))J++;for(;0<G-J;)ke=pu(ke),G--;for(;0<J-G;)Q=pu(Q),J--;for(;G--;){if(ke===Q||Q!==null&&ke===Q.alternate)break t;ke=pu(ke),Q=pu(Q)}ke=null}else ke=null;le!==null&&EA(fe,Z,le,ke,!1),Re!==null&&Ft!==null&&EA(fe,Ft,Re,ke,!0)}}e:{if(Z=K?ta(K):window,le=Z.nodeName&&Z.nodeName.toLowerCase(),le==="select"||le==="input"&&Z.type==="file")var Se=Kw;else if(hn(Z))if(Ww)Se=Uk;else{Se=Mk;var je=Vk}else le=Z.nodeName,!le||le.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?K&&Jc(K.elementType)&&(Se=Kw):Se=Lk;if(Se&&(Se=Se(s,K))){ls(fe,Se,l,ce);break e}je&&je(s,Z,K),s==="focusout"&&K&&Z.type==="number"&&K.memoizedProps.value!=null&&Ml(Z,"number",Z.value)}switch(je=K?ta(K):window,s){case"focusin":(hn(je)||je.contentEditable==="true")&&(Gl=je,i_=K,lh=null);break;case"focusout":lh=i_=Gl=null;break;case"mousedown":s_=!0;break;case"contextmenu":case"mouseup":case"dragend":s_=!1,nT(fe,l,ce);break;case"selectionchange":if(Bk)break;case"keydown":case"keyup":nT(fe,l,ce)}var Ce;if(wi)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else We?re(s,l)&&(Pe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(S&&l.locale!=="ko"&&(We||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&We&&(Ce=eh()):(_i=ce,oa="value"in _i?_i.value:_i.textContent,We=!0)),je=Yp(K,Pe),0<je.length&&(Pe=new rh(Pe,s,null,l,ce),fe.push({event:Pe,listeners:je}),Ce?Pe.data=Ce:(Ce=ge(l),Ce!==null&&(Pe.data=Ce)))),(Ce=E?cn(s,l):Qe(s,l))&&(Pe=Yp(K,"onBeforeInput"),0<Pe.length&&(je=new rh("onBeforeInput","beforeinput",null,l,ce),fe.push({event:je,listeners:Pe}),je.data=Ce)),T2(fe,s,K,l,ce)}_A(fe,a)})}function Mh(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Yp(s,a){for(var l=a+"Capture",c=[];s!==null;){var m=s,y=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=bo(s,l),m!=null&&c.unshift(Mh(s,m,y)),m=bo(s,a),m!=null&&c.push(Mh(s,m,y))),s=s.return}return c}function pu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function EA(s,a,l,c,m){for(var y=a._reactName,A=[];l!==null&&l!==c;){var k=l,B=k.alternate,K=k.stateNode;if(k=k.tag,B!==null&&B===c)break;k!==5&&k!==26&&k!==27||K===null||(B=K,m?(K=bo(l,y),K!=null&&A.unshift(Mh(l,K,B))):m||(K=bo(l,y),K!=null&&A.push(Mh(l,K,B)))),l=l.return}A.length!==0&&s.push({event:a,listeners:A})}var I2=/\r\n?/g,C2=/\u0000|\uFFFD/g;function bA(s){return(typeof s=="string"?s:""+s).replace(I2,`
`).replace(C2,"")}function wA(s,a){return a=bA(a),bA(s)===a}function Xp(){}function ct(s,a,l,c,m,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||kr(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&kr(s,""+c);break;case"className":ia(s,"class",c);break;case"tabIndex":ia(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ia(s,l,c);break;case"style":Zf(s,c,y);break;case"data":if(a!=="object"){ia(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=yi(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&ct(s,a,"name",m.name,m,null),ct(s,a,"formEncType",m.formEncType,m,null),ct(s,a,"formMethod",m.formMethod,m,null),ct(s,a,"formTarget",m.formTarget,m,null)):(ct(s,a,"encType",m.encType,m,null),ct(s,a,"method",m.method,m,null),ct(s,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=yi(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Xp);break;case"onScroll":c!=null&&Ge("scroll",s);break;case"onScrollEnd":c!=null&&Ge("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=yi(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Ge("beforetoggle",s),Ge("toggle",s),ra(s,"popover",c);break;case"xlinkActuate":Nr(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Nr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Nr(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Nr(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Nr(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Nr(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Nr(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Nr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Nr(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ra(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Xy.get(l)||l,ra(s,l,c))}}function Cv(s,a,l,c,m,y){switch(l){case"style":Zf(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?kr(s,c):(typeof c=="number"||typeof c=="bigint")&&kr(s,""+c);break;case"onScroll":c!=null&&Ge("scroll",s);break;case"onScrollEnd":c!=null&&Ge("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Xp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=s[un]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):ra(s,l,c)}}}function Pn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",s),Ge("load",s);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var A=l[y];if(A!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(s,a,y,A,l,null)}}m&&ct(s,a,"srcSet",l.srcSet,l,null),c&&ct(s,a,"src",l.src,l,null);return;case"input":Ge("invalid",s);var k=y=A=m=null,B=null,K=null;for(c in l)if(l.hasOwnProperty(c)){var ce=l[c];if(ce!=null)switch(c){case"name":m=ce;break;case"type":A=ce;break;case"checked":B=ce;break;case"defaultChecked":K=ce;break;case"value":y=ce;break;case"defaultValue":k=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,a));break;default:ct(s,a,c,ce,l,null)}}vo(s,y,k,B,K,A,m,!1),_o(s);return;case"select":Ge("invalid",s),c=A=y=null;for(m in l)if(l.hasOwnProperty(m)&&(k=l[m],k!=null))switch(m){case"value":y=k;break;case"defaultValue":A=k;break;case"multiple":c=k;default:ct(s,a,m,k,l,null)}a=y,l=A,s.multiple=!!c,a!=null?Ze(s,!!c,a,!1):l!=null&&Ze(s,!!c,l,!0);return;case"textarea":Ge("invalid",s),y=m=c=null;for(A in l)if(l.hasOwnProperty(A)&&(k=l[A],k!=null))switch(A){case"value":c=k;break;case"defaultValue":m=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:ct(s,a,A,k,l,null)}aa(s,c,m,y),_o(s);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(c=l[B],c!=null))switch(B){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ct(s,a,B,c,l,null)}return;case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":Ge("load",s);break;case"video":case"audio":for(c=0;c<Vh.length;c++)Ge(Vh[c],s);break;case"image":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"embed":case"source":case"link":Ge("error",s),Ge("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(c=l[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(s,a,K,c,l,null)}return;default:if(Jc(a)){for(ce in l)l.hasOwnProperty(ce)&&(c=l[ce],c!==void 0&&Cv(s,a,ce,c,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(c=l[k],c!=null&&ct(s,a,k,c,l,null))}function x2(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,A=null,k=null,B=null,K=null,ce=null;for(le in l){var fe=l[le];if(l.hasOwnProperty(le)&&fe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":B=fe;default:c.hasOwnProperty(le)||ct(s,a,le,null,c,fe)}}for(var Z in c){var le=c[Z];if(fe=l[Z],c.hasOwnProperty(Z)&&(le!=null||fe!=null))switch(Z){case"type":y=le;break;case"name":m=le;break;case"checked":K=le;break;case"defaultChecked":ce=le;break;case"value":A=le;break;case"defaultValue":k=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,a));break;default:le!==fe&&ct(s,a,Z,le,c,fe)}}sa(s,A,k,B,K,ce,y,m);return;case"select":le=A=k=Z=null;for(y in l)if(B=l[y],l.hasOwnProperty(y)&&B!=null)switch(y){case"value":break;case"multiple":le=B;default:c.hasOwnProperty(y)||ct(s,a,y,null,c,B)}for(m in c)if(y=c[m],B=l[m],c.hasOwnProperty(m)&&(y!=null||B!=null))switch(m){case"value":Z=y;break;case"defaultValue":k=y;break;case"multiple":A=y;default:y!==B&&ct(s,a,m,y,c,B)}a=k,l=A,c=le,Z!=null?Ze(s,!!l,Z,!1):!!c!=!!l&&(a!=null?Ze(s,!!l,a,!0):Ze(s,!!l,l?[]:"",!1));return;case"textarea":le=Z=null;for(k in l)if(m=l[k],l.hasOwnProperty(k)&&m!=null&&!c.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:ct(s,a,k,null,c,m)}for(A in c)if(m=c[A],y=l[A],c.hasOwnProperty(A)&&(m!=null||y!=null))switch(A){case"value":Z=m;break;case"defaultValue":le=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&ct(s,a,A,m,c,y)}Eo(s,Z,le);return;case"option":for(var Re in l)if(Z=l[Re],l.hasOwnProperty(Re)&&Z!=null&&!c.hasOwnProperty(Re))switch(Re){case"selected":s.selected=!1;break;default:ct(s,a,Re,null,c,Z)}for(B in c)if(Z=c[B],le=l[B],c.hasOwnProperty(B)&&Z!==le&&(Z!=null||le!=null))switch(B){case"selected":s.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ct(s,a,B,Z,c,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in l)Z=l[ke],l.hasOwnProperty(ke)&&Z!=null&&!c.hasOwnProperty(ke)&&ct(s,a,ke,null,c,Z);for(K in c)if(Z=c[K],le=l[K],c.hasOwnProperty(K)&&Z!==le&&(Z!=null||le!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,a));break;default:ct(s,a,K,Z,c,le)}return;default:if(Jc(a)){for(var Ft in l)Z=l[Ft],l.hasOwnProperty(Ft)&&Z!==void 0&&!c.hasOwnProperty(Ft)&&Cv(s,a,Ft,void 0,c,Z);for(ce in c)Z=c[ce],le=l[ce],!c.hasOwnProperty(ce)||Z===le||Z===void 0&&le===void 0||Cv(s,a,ce,Z,c,le);return}}for(var Q in l)Z=l[Q],l.hasOwnProperty(Q)&&Z!=null&&!c.hasOwnProperty(Q)&&ct(s,a,Q,null,c,Z);for(fe in c)Z=c[fe],le=l[fe],!c.hasOwnProperty(fe)||Z===le||Z==null&&le==null||ct(s,a,fe,Z,c,le)}var xv=null,Pv=null;function Jp(s){return s.nodeType===9?s:s.ownerDocument}function TA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function SA(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Ov(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Dv=null;function P2(){var s=window.event;return s&&s.type==="popstate"?s===Dv?!1:(Dv=s,!0):(Dv=null,!1)}var AA=typeof setTimeout=="function"?setTimeout:void 0,O2=typeof clearTimeout=="function"?clearTimeout:void 0,RA=typeof Promise=="function"?Promise:void 0,D2=typeof queueMicrotask=="function"?queueMicrotask:typeof RA<"u"?function(s){return RA.resolve(null).then(s).catch(N2)}:AA;function N2(s){setTimeout(function(){throw s})}function Nv(s,a){var l=a,c=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(c===0){s.removeChild(m),Hh(a);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=m}while(l);Hh(a)}function kv(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":kv(l),yo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function k2(s,a,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[ea])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=ai(s.nextSibling),s===null)break}return null}function V2(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ai(s.nextSibling),s===null))return null;return s}function ai(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}function IA(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function CA(s,a,l){switch(a=Jp(l),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}var Kr=new Map,xA=new Set;function Zp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var Ts=ye.d;ye.d={f:M2,r:L2,D:U2,C:j2,L:F2,m:B2,X:q2,S:z2,M:H2};function M2(){var s=Ts.f(),a=$p();return s||a}function L2(s){var a=ts(s);a!==null&&a.tag===5&&a.type==="form"?nS(a):Ts.r(s)}var mu=typeof document>"u"?null:document;function PA(s,a,l){var c=mu;if(c&&typeof a=="string"&&a){var m=Lt(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),xA.has(m)||(xA.add(m),s={rel:s,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),Pn(a,"link",s),xt(a),c.head.appendChild(a)))}}function U2(s){Ts.D(s),PA("dns-prefetch",s,null)}function j2(s,a){Ts.C(s,a),PA("preconnect",s,a)}function F2(s,a,l){Ts.L(s,a,l);var c=mu;if(c&&s&&a){var m='link[rel="preload"][as="'+Lt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Lt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Lt(l.imageSizes)+'"]')):m+='[href="'+Lt(s)+'"]';var y=m;switch(a){case"style":y=gu(s);break;case"script":y=yu(s)}Kr.has(y)||(s=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Kr.set(y,s),c.querySelector(m)!==null||a==="style"&&c.querySelector(Lh(y))||a==="script"&&c.querySelector(Uh(y))||(a=c.createElement("link"),Pn(a,"link",s),xt(a),c.head.appendChild(a)))}}function B2(s,a){Ts.m(s,a);var l=mu;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Lt(c)+'"][href="'+Lt(s)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=yu(s)}if(!Kr.has(y)&&(s=b({rel:"modulepreload",href:s},a),Kr.set(y,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Uh(y)))return}c=l.createElement("link"),Pn(c,"link",s),xt(c),l.head.appendChild(c)}}}function z2(s,a,l){Ts.S(s,a,l);var c=mu;if(c&&s){var m=na(c).hoistableStyles,y=gu(s);a=a||"default";var A=m.get(y);if(!A){var k={loading:0,preload:null};if(A=c.querySelector(Lh(y)))k.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Kr.get(y))&&Vv(s,l);var B=A=c.createElement("link");xt(B),Pn(B,"link",s),B._p=new Promise(function(K,ce){B.onload=K,B.onerror=ce}),B.addEventListener("load",function(){k.loading|=1}),B.addEventListener("error",function(){k.loading|=2}),k.loading|=4,em(A,a,c)}A={type:"stylesheet",instance:A,count:1,state:k},m.set(y,A)}}}function q2(s,a){Ts.X(s,a);var l=mu;if(l&&s){var c=na(l).hoistableScripts,m=yu(s),y=c.get(m);y||(y=l.querySelector(Uh(m)),y||(s=b({src:s,async:!0},a),(a=Kr.get(m))&&Mv(s,a),y=l.createElement("script"),xt(y),Pn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function H2(s,a){Ts.M(s,a);var l=mu;if(l&&s){var c=na(l).hoistableScripts,m=yu(s),y=c.get(m);y||(y=l.querySelector(Uh(m)),y||(s=b({src:s,async:!0,type:"module"},a),(a=Kr.get(m))&&Mv(s,a),y=l.createElement("script"),xt(y),Pn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function OA(s,a,l,c){var m=(m=at.current)?Zp(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=gu(l.href),l=na(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=gu(l.href);var y=na(m).hoistableStyles,A=y.get(s);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,A),(y=m.querySelector(Lh(s)))&&!y._p&&(A.instance=y,A.state.loading=5),Kr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Kr.set(s,l),y||$2(m,s,l,A.state))),a&&c===null)throw Error(r(528,""));return A}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=yu(l),l=na(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function gu(s){return'href="'+Lt(s)+'"'}function Lh(s){return'link[rel="stylesheet"]['+s+"]"}function DA(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function $2(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Pn(a,"link",l),xt(a),s.head.appendChild(a))}function yu(s){return'[src="'+Lt(s)+'"]'}function Uh(s){return"script[async]"+s}function NA(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+Lt(l.href)+'"]');if(c)return a.instance=c,xt(c),c;var m=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),xt(c),Pn(c,"style",m),em(c,l.precedence,s),a.instance=c;case"stylesheet":m=gu(l.href);var y=s.querySelector(Lh(m));if(y)return a.state.loading|=4,a.instance=y,xt(y),y;c=DA(l),(m=Kr.get(m))&&Vv(c,m),y=(s.ownerDocument||s).createElement("link"),xt(y);var A=y;return A._p=new Promise(function(k,B){A.onload=k,A.onerror=B}),Pn(y,"link",c),a.state.loading|=4,em(y,l.precedence,s),a.instance=y;case"script":return y=yu(l.src),(m=s.querySelector(Uh(y)))?(a.instance=m,xt(m),m):(c=l,(m=Kr.get(y))&&(c=b({},l),Mv(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),xt(m),Pn(m,"link",c),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(c=a.instance,a.state.loading|=4,em(c,l.precedence,s));return a.instance}function em(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,A=0;A<c.length;A++){var k=c[A];if(k.dataset.precedence===a)y=k;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Vv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Mv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var tm=null;function kA(s,a,l){if(tm===null){var c=new Map,m=tm=new Map;m.set(l,c)}else m=tm,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[ea]||y[yn]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(a)||"";A=s+A;var k=c.get(A);k?k.push(y):c.set(A,[y])}}return c}function VA(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function G2(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function MA(s){return!(s.type==="stylesheet"&&!(s.state.loading&3))}var jh=null;function K2(){}function W2(s,a,l){if(jh===null)throw Error(r(475));var c=jh;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var m=gu(l.href),y=s.querySelector(Lh(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=nm.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=y,xt(y);return}y=s.ownerDocument||s,l=DA(l),(m=Kr.get(m))&&Vv(l,m),y=y.createElement("link"),xt(y);var A=y;A._p=new Promise(function(k,B){A.onload=k,A.onerror=B}),Pn(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&!(a.state.loading&3)&&(c.count++,a=nm.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function Q2(){if(jh===null)throw Error(r(475));var s=jh;return s.stylesheets&&s.count===0&&Lv(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Lv(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function nm(){if(this.count--,this.count===0){if(this.stylesheets)Lv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var rm=null;function Lv(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,rm=new Map,a.forEach(Y2,s),rm=null,nm.call(s))}function Y2(s,a){if(!(a.state.loading&4)){var l=rm.get(s);if(l)var c=l.get(null);else{l=new Map,rm.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var A=m[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),c=A)}c&&l.set(null,c)}m=a.instance,A=m.getAttribute("data-precedence"),y=l.get(A)||c,y===c&&l.set(null,m),l.set(A,m),this.count++,c=nm.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var Fh={$$typeof:T,Provider:null,Consumer:null,_currentValue:Oe,_currentValue2:Oe,_threadCount:0};function X2(s,a,l,c,m,y,A,k){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.hiddenUpdates=Dl(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function LA(s,a,l,c,m,y,A,k,B,K,ce,fe){return s=new X2(s,a,l,A,k,B,K,fe),a=1,y===!0&&(a|=24),y=$r(3,null,null,a),s.current=y,y.stateNode=s,a=m_(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},Q_(y),s}function UA(s){return s?(s=Ql,s):Ql}function jA(s,a,l,c,m,y){m=UA(m),c.context===null?c.context=m:c.pendingContext=m,c=ma(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=ga(s,c,a),l!==null&&(Yn(l,s,a),Th(l,s,a))}function FA(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Uv(s,a){FA(s,a),(s=s.alternate)&&FA(s,a)}function BA(s){if(s.tag===13){var a=la(s,67108864);a!==null&&Yn(a,s,67108864),Uv(s,67108864)}}var im=!0;function J2(s,a,l,c){var m=I.T;I.T=null;var y=ye.p;try{ye.p=2,jv(s,a,l,c)}finally{ye.p=y,I.T=m}}function Z2(s,a,l,c){var m=I.T;I.T=null;var y=ye.p;try{ye.p=8,jv(s,a,l,c)}finally{ye.p=y,I.T=m}}function jv(s,a,l,c){if(im){var m=Fv(c);if(m===null)Iv(s,a,c,sm,l),qA(s,c);else if(tV(m,s,a,l,c))c.stopPropagation();else if(qA(s,c),a&4&&-1<eV.indexOf(s)){for(;m!==null;){var y=ts(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=ti(y.pendingLanes);if(A!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;A;){var B=1<<31-Gn(A);k.entanglements[1]|=B,A&=~B}Ci(y),!(Ot&6)&&(zp=rr()+500,kh(0))}}break;case 13:k=la(y,2),k!==null&&Yn(k,y,2),$p(),Uv(y,2)}if(y=Fv(c),y===null&&Iv(s,a,c,sm,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else Iv(s,a,c,null,l)}}function Fv(s){return s=Ll(s),Bv(s)}var sm=null;function Bv(s){if(sm=null,s=ni(s),s!==null){var a=ue(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=Te(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return sm=s,null}function zA(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hf()){case ln:return 2;case gn:return 8;case Zi:case $f:return 32;case zc:return 268435456;default:return 32}default:return 32}}var zv=!1,Ta=null,Sa=null,Aa=null,Bh=new Map,zh=new Map,Ra=[],eV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qA(s,a){switch(s){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":Bh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":zh.delete(a.pointerId)}}function qh(s,a,l,c,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},a!==null&&(a=ts(a),a!==null&&BA(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function tV(s,a,l,c,m){switch(a){case"focusin":return Ta=qh(Ta,s,a,l,c,m),!0;case"dragenter":return Sa=qh(Sa,s,a,l,c,m),!0;case"mouseover":return Aa=qh(Aa,s,a,l,c,m),!0;case"pointerover":var y=m.pointerId;return Bh.set(y,qh(Bh.get(y)||null,s,a,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,zh.set(y,qh(zh.get(y)||null,s,a,l,c,m)),!0}return!1}function HA(s){var a=ni(s.target);if(a!==null){var l=ue(a);if(l!==null){if(a=l.tag,a===13){if(a=Te(l),a!==null){s.blockedOn=a,Zs(s.priority,function(){if(l.tag===13){var c=vr(),m=la(l,c);m!==null&&Yn(m,l,c),Uv(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function am(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Fv(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Vr=c,l.target.dispatchEvent(c),Vr=null}else return a=ts(l),a!==null&&BA(a),s.blockedOn=l,!1;a.shift()}return!0}function $A(s,a,l){am(s)&&l.delete(a)}function nV(){zv=!1,Ta!==null&&am(Ta)&&(Ta=null),Sa!==null&&am(Sa)&&(Sa=null),Aa!==null&&am(Aa)&&(Aa=null),Bh.forEach($A),zh.forEach($A)}function om(s,a){s.blockedOn===a&&(s.blockedOn=null,zv||(zv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,nV)))}var lm=null;function GA(s){lm!==s&&(lm=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){lm===s&&(lm=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],m=s[a+2];if(typeof c!="function"){if(Bv(c||l)===null)continue;break}var y=ts(l);y!==null&&(s.splice(a,3),a-=3,O_(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Hh(s){function a(B){return om(B,s)}Ta!==null&&om(Ta,s),Sa!==null&&om(Sa,s),Aa!==null&&om(Aa,s),Bh.forEach(a),zh.forEach(a);for(var l=0;l<Ra.length;l++){var c=Ra[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Ra.length&&(l=Ra[0],l.blockedOn===null);)HA(l),l.blockedOn===null&&Ra.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],A=m[un]||null;if(typeof y=="function")A||GA(l);else if(A){var k=null;if(y&&y.hasAttribute("formAction")){if(m=y,A=y[un]||null)k=A.formAction;else if(Bv(m)!==null)continue}else k=A.action;typeof k=="function"?l[c+1]=k:(l.splice(c,3),c-=3),GA(l)}}}function qv(s){this._internalRoot=s}um.prototype.render=qv.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=vr();jA(l,c,s,a,null,null)},um.prototype.unmount=qv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;s.tag===0&&du(),jA(s.current,2,null,s,null,null),$p(),a[es]=null}};function um(s){this._internalRoot=s}um.prototype.unstable_scheduleHydration=function(s){if(s){var a=Yf();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Ra.length&&a!==0&&a<Ra[l].priority;l++);Ra.splice(l,0,s),l===0&&HA(s)}};var KA=e.version;if(KA!=="19.0.0")throw Error(r(527,KA,"19.0.0"));ye.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=ae(a),s=s!==null?be(s):null,s=s===null?null:s.stateNode,s};var rV={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I,findFiberByHostInstance:ni,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cm.isDisabled&&cm.supportsFiber)try{Ks=cm.inject(rV),Ln=cm}catch{}}return Gh.createRoot=function(s,a){if(!i(s))throw Error(r(299));var l=!1,c="",m=cS,y=hS,A=dS,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks)),a=LA(s,1,!1,null,null,l,c,m,y,A,k,null),s[es]=a.current,Rv(s.nodeType===8?s.parentNode:s),new qv(a)},Gh.hydrateRoot=function(s,a,l){if(!i(s))throw Error(r(299));var c=!1,m="",y=cS,A=hS,k=dS,B=null,K=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(B=l.unstable_transitionCallbacks),l.formState!==void 0&&(K=l.formState)),a=LA(s,1,!0,a,l??null,c,m,y,A,k,B,K),a.context=UA(null),l=a.current,c=vr(),m=ma(c),m.callback=null,ga(l,m,c),a.current.lanes=c,Gt(a,c),Ci(a),s[es]=a.current,Rv(s),new um(a)},Gh.version="19.0.0",Gh}var rR;function pV(){if(rR)return Gv.exports;rR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gv.exports=fV(),Gv.exports}var mV=pV(),NC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},iR=Ke.createContext&&Ke.createContext(NC),gV=["attr","size","title"];function yV(n,e){if(n==null)return{};var t=_V(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function _V(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Zm(){return Zm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Zm.apply(this,arguments)}function sR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function eg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(t),!0).forEach(function(r){vV(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vV(n,e,t){return e=EV(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function EV(n){var e=bV(n,"string");return typeof e=="symbol"?e:e+""}function bV(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function kC(n){return n&&n.map((e,t)=>Ke.createElement(e.tag,eg({key:t},e.attr),kC(e.child)))}function Ec(n){return e=>Ke.createElement(wV,Zm({attr:eg({},n.attr)},e),kC(n.child))}function wV(n){var e=t=>{var{attr:r,size:i,title:o}=n,u=yV(n,gV),h=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Ke.createElement("svg",Zm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:eg(eg({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ke.createElement("title",null,o),n.children)};return iR!==void 0?Ke.createElement(iR.Consumer,null,t=>e(t)):e(NC)}function TV(n){return Ec({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function SV(n){return Ec({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}function AV(n){return Ec({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}const RV="Header-module__fixed___VkGBO",IV="Header-module__header__container___oDdbK",CV="Header-module__logo__container___ocVGc",xV="Header-module__delivery___x3iDl",PV="Header-module__search___UYrNH",OV="Header-module__order__container___fO9oz",DV="Header-module__language___tVWfH",NV="Header-module__cart___AtxuN",kV="Header-module__lower__container___ClbUG",Rs={fixed:RV,header__container:IV,logo__container:CV,delivery:xV,search:PV,order__container:OV,language:DV,cart:NV,lower__container:kV};function VV(n){return Ec({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}const MV=()=>N.jsx("div",{className:Rs.lower__container,children:N.jsxs("ul",{children:[N.jsxs("li",{children:[N.jsx(VV,{}),N.jsx("p",{children:"All"})]}),N.jsx("li",{children:"Today's Deals"}),N.jsx("li",{children:"Costumer Service"}),N.jsx("li",{children:"Registry"}),N.jsx("li",{children:"Gift cards"}),N.jsx("li",{children:"Sell"})]})});var Kh={},aR;function LV(){if(aR)return Kh;aR=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.parse=u,Kh.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,T){const w=new o,R=v.length;if(R<2)return w;const x=(T==null?void 0:T.decode)||g;let U=0;do{const L=v.indexOf("=",U);if(L===-1)break;const j=v.indexOf(";",U),$=j===-1?R:j;if(L>$){U=v.lastIndexOf(";",L-1)+1;continue}const z=h(v,U,L),H=d(v,L,z),M=v.slice(z,H);if(w[M]===void 0){let C=h(v,L+1,$),I=d(v,$,C);const b=x(v.slice(C,I));w[M]=b}U=$+1}while(U<R);return w}function h(v,T,w){do{const R=v.charCodeAt(T);if(R!==32&&R!==9)return T}while(++T<w);return w}function d(v,T,w){for(;T>w;){const R=v.charCodeAt(--T);if(R!==32&&R!==9)return T+1}return w}function f(v,T,w){const R=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const x=R(T);if(!e.test(x))throw new TypeError(`argument val is invalid: ${T}`);let U=v+"="+x;if(!w)return U;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);U+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);U+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);U+="; Path="+w.path}if(w.expires){if(!_(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);U+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(U+="; HttpOnly"),w.secure&&(U+="; Secure"),w.partitioned&&(U+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return U}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return i.call(v)==="[object Date]"}return Kh}LV();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var oR="popstate";function UV(n={}){function e(r,i){let{pathname:o,search:u,hash:h}=r.location;return N0("",{pathname:o,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:jd(i)}return FV(e,t,null,n)}function Nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $i(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jV(){return Math.random().toString(36).substring(2,10)}function lR(n,e){return{usr:n.state,key:n.key,idx:e}}function N0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?bc(e):e,state:t,key:e&&e.key||r||jV()}}function jd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function bc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function FV(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,h="POP",d=null,f=g();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function g(){return(u.state||{idx:null}).idx}function _(){h="POP";let x=g(),U=x==null?null:x-f;f=x,d&&d({action:h,location:R.location,delta:U})}function v(x,U){h="PUSH";let L=N0(R.location,x,U);f=g()+1;let j=lR(L,f),$=R.createHref(L);try{u.pushState(j,"",$)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign($)}o&&d&&d({action:h,location:R.location,delta:1})}function T(x,U){h="REPLACE";let L=N0(R.location,x,U);f=g();let j=lR(L,f),$=R.createHref(L);u.replaceState(j,"",$),o&&d&&d({action:h,location:R.location,delta:0})}function w(x){let U=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof x=="string"?x:jd(x);return L=L.replace(/ $/,"%20"),Nt(U,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,U)}let R={get action(){return h},get location(){return n(i,u)},listen(x){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(oR,_),d=x,()=>{i.removeEventListener(oR,_),d=null}},createHref(x){return e(i,x)},createURL:w,encodeLocation(x){let U=w(x);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:v,replace:T,go(x){return u.go(x)}};return R}function VC(n,e,t="/"){return BV(n,e,t,!1)}function BV(n,e,t,r){let i=typeof e=="string"?bc(e):e,o=qa(i.pathname||"/",t);if(o==null)return null;let u=MC(n);zV(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let f=ZV(o);h=XV(u[d],f,r)}return h}function MC(n,e=[],t=[],r=""){let i=(o,u,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(Nt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=Ds([r,d.relativePath]),g=t.concat(d);o.children&&o.children.length>0&&(Nt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),MC(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:QV(f,o.index),routesMeta:g})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,u);else for(let d of LC(o.path))i(o,u,d)}),e}function LC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=LC(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),i&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function zV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:YV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var qV=/^:[\w-]+$/,HV=3,$V=2,GV=1,KV=10,WV=-2,uR=n=>n==="*";function QV(n,e){let t=n.split("/"),r=t.length;return t.some(uR)&&(r+=WV),e&&(r+=$V),t.filter(i=>!uR(i)).reduce((i,o)=>i+(qV.test(o)?HV:o===""?GV:KV),r)}function YV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function XV(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],f=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=tg({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),v=d.route;if(!_&&f&&t&&!r[r.length-1].route.index&&(_=tg({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:Ds([o,_.pathname]),pathnameBase:rM(Ds([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=Ds([o,_.pathnameBase]))}return u}function tg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=JV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:_},v)=>{if(g==="*"){let w=h[v]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const T=h[v];return _&&!T?f[g]=void 0:f[g]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:u,pattern:n}}function JV(n,e=!1,t=!0){$i(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ZV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $i(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function qa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function eM(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?bc(n):n;return{pathname:t?t.startsWith("/")?t:tM(t,e):e,search:iM(r),hash:sM(i)}}function tM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Yv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nM(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function UC(n){let e=nM(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function jC(n,e,t,r=!1){let i;typeof n=="string"?i=bc(n):(i={...n},Nt(!i.pathname||!i.pathname.includes("?"),Yv("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),Yv("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),Yv("#","search","hash",i)));let o=n===""||i.pathname==="",u=o?"/":i.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;i.pathname=v.join("/")}h=_>=0?e[_]:"/"}let d=eM(i,h),f=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var Ds=n=>n.join("/").replace(/\/\/+/g,"/"),rM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),iM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,sM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function aM(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var FC=["POST","PUT","PATCH","DELETE"];new Set(FC);var oM=["GET",...FC];new Set(oM);var wc=W.createContext(null);wc.displayName="DataRouter";var Lg=W.createContext(null);Lg.displayName="DataRouterState";var BC=W.createContext({isTransitioning:!1});BC.displayName="ViewTransition";var lM=W.createContext(new Map);lM.displayName="Fetchers";var uM=W.createContext(null);uM.displayName="Await";var Xi=W.createContext(null);Xi.displayName="Navigation";var pf=W.createContext(null);pf.displayName="Location";var Ji=W.createContext({outlet:null,matches:[],isDataRoute:!1});Ji.displayName="Route";var BE=W.createContext(null);BE.displayName="RouteError";function cM(n,{relative:e}={}){Nt(mf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(Xi),{hash:i,pathname:o,search:u}=gf(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Ds([t,o])),r.createHref({pathname:h,search:u,hash:i})}function mf(){return W.useContext(pf)!=null}function ao(){return Nt(mf(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(pf).location}var zC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qC(n){W.useContext(Xi).static||W.useLayoutEffect(n)}function Ug(){let{isDataRoute:n}=W.useContext(Ji);return n?TM():hM()}function hM(){Nt(mf(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(wc),{basename:e,navigator:t}=W.useContext(Xi),{matches:r}=W.useContext(Ji),{pathname:i}=ao(),o=JSON.stringify(UC(r)),u=W.useRef(!1);return qC(()=>{u.current=!0}),W.useCallback((d,f={})=>{if($i(u.current,zC),!u.current)return;if(typeof d=="number"){t.go(d);return}let g=jC(d,JSON.parse(o),i,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ds([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,o,i,n])}W.createContext(null);function HC(){let{matches:n}=W.useContext(Ji),e=n[n.length-1];return e?e.params:{}}function gf(n,{relative:e}={}){let{matches:t}=W.useContext(Ji),{pathname:r}=ao(),i=JSON.stringify(UC(t));return W.useMemo(()=>jC(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function dM(n,e){return $C(n,e)}function $C(n,e,t,r){var L;Nt(mf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=W.useContext(Xi),{matches:u}=W.useContext(Ji),h=u[u.length-1],d=h?h.params:{},f=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let j=_&&_.path||"";GC(f,!_||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let v=ao(),T;if(e){let j=typeof e=="string"?bc(e):e;Nt(g==="/"||((L=j.pathname)==null?void 0:L.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),T=j}else T=v;let w=T.pathname||"/",R=w;if(g!=="/"){let j=g.replace(/^\//,"").split("/");R="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let x=!o&&t&&t.matches&&t.matches.length>0?t.matches:VC(n,{pathname:R});$i(_||x!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),$i(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=yM(x&&x.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Ds([g,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:Ds([g,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),u,t,r);return e&&U?W.createElement(pf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},U):U}function fM(){let n=wM(),e=aM(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:i},t):null,u)}var pM=W.createElement(fM,null),mM=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(Ji.Provider,{value:this.props.routeContext},W.createElement(BE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gM({routeContext:n,match:e,children:t}){let r=W.useContext(wc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Ji.Provider,{value:n},t)}function yM(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Nt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,h=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=d),f.route.id){let{loaderData:g,errors:_}=t,v=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!_||_[f.route.id]===void 0);if(f.route.lazy||v){u=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((d,f,g)=>{let _,v=!1,T=null,w=null;t&&(_=o&&f.route.id?o[f.route.id]:void 0,T=f.route.errorElement||pM,u&&(h<0&&g===0?(GC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):h===g&&(v=!0,w=f.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,g+1)),x=()=>{let U;return _?U=T:v?U=w:f.route.Component?U=W.createElement(f.route.Component,null):f.route.element?U=f.route.element:U=d,W.createElement(gM,{match:f,routeContext:{outlet:d,matches:R,isDataRoute:t!=null},children:U})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?W.createElement(mM,{location:t.location,revalidation:t.revalidation,component:T,error:_,children:x(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):x()},null)}function zE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _M(n){let e=W.useContext(wc);return Nt(e,zE(n)),e}function vM(n){let e=W.useContext(Lg);return Nt(e,zE(n)),e}function EM(n){let e=W.useContext(Ji);return Nt(e,zE(n)),e}function qE(n){let e=EM(n),t=e.matches[e.matches.length-1];return Nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function bM(){return qE("useRouteId")}function wM(){var r;let n=W.useContext(BE),e=vM("useRouteError"),t=qE("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function TM(){let{router:n}=_M("useNavigate"),e=qE("useNavigate"),t=W.useRef(!1);return qC(()=>{t.current=!0}),W.useCallback(async(i,o={})=>{$i(t.current,zC),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var cR={};function GC(n,e,t){!e&&!cR[n]&&(cR[n]=!0,$i(!1,t))}W.memo(SM);function SM({routes:n,future:e,state:t}){return $C(n,void 0,t,e)}function Na(n){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AM({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){Nt(!mf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:u,navigator:i,static:o,future:{}}),[u,i,o]);typeof t=="string"&&(t=bc(t));let{pathname:d="/",search:f="",hash:g="",state:_=null,key:v="default"}=t,T=W.useMemo(()=>{let w=qa(d,u);return w==null?null:{location:{pathname:w,search:f,hash:g,state:_,key:v},navigationType:r}},[u,d,f,g,_,v,r]);return $i(T!=null,`<Router basename="${u}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:W.createElement(Xi.Provider,{value:h},W.createElement(pf.Provider,{children:e,value:T}))}function RM({children:n,location:e}){return dM(k0(n),e)}function k0(n,e=[]){let t=[];return W.Children.forEach(n,(r,i)=>{if(!W.isValidElement(r))return;let o=[...e,i];if(r.type===W.Fragment){t.push.apply(t,k0(r.props.children,o));return}Nt(r.type===Na,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=k0(r.props.children,o)),t.push(u)}),t}var Cm="get",xm="application/x-www-form-urlencoded";function jg(n){return n!=null&&typeof n.tagName=="string"}function IM(n){return jg(n)&&n.tagName.toLowerCase()==="button"}function CM(n){return jg(n)&&n.tagName.toLowerCase()==="form"}function xM(n){return jg(n)&&n.tagName.toLowerCase()==="input"}function PM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function OM(n,e){return n.button===0&&(!e||e==="_self")&&!PM(n)}var hm=null;function DM(){if(hm===null)try{new FormData(document.createElement("form"),0),hm=!1}catch{hm=!0}return hm}var NM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xv(n){return n!=null&&!NM.has(n)?($i(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xm}"`),null):n}function kM(n,e){let t,r,i,o,u;if(CM(n)){let h=n.getAttribute("action");r=h?qa(h,e):null,t=n.getAttribute("method")||Cm,i=Xv(n.getAttribute("enctype"))||xm,o=new FormData(n)}else if(IM(n)||xM(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?qa(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Cm,i=Xv(n.getAttribute("formenctype"))||Xv(h.getAttribute("enctype"))||xm,o=new FormData(h,n),!DM()){let{name:f,type:g,value:_}=n;if(g==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,_)}}else{if(jg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Cm,r=null,i=xm,u=n}return o&&i==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:u}}function HE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function VM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function LM(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let u=await VM(o,t);return u.links?u.links():[]}return[]}));return BM(r.flat(1).filter(MM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function hR(n,e,t,r,i,o){let u=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,h=(d,f)=>{var g;return t[f].pathname!==d.pathname||((g=t[f].route.path)==null?void 0:g.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,f)=>u(d,f)||h(d,f)):o==="data"?e.filter((d,f)=>{var _;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function UM(n,e){return jM(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function jM(n){return[...new Set(n)]}function FM(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function BM(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(FM(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function zM(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function qM(){let n=W.useContext(wc);return HE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function HM(){let n=W.useContext(Lg);return HE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var $E=W.createContext(void 0);$E.displayName="FrameworkContext";function KC(){let n=W.useContext($E);return HE(n,"You must render this element inside a <HydratedRouter> element"),n}function $M(n,e){let t=W.useContext($E),[r,i]=W.useState(!1),[o,u]=W.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:_}=e,v=W.useRef(null);W.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let R=U=>{U.forEach(L=>{u(L.isIntersecting)})},x=new IntersectionObserver(R,{threshold:.5});return v.current&&x.observe(v.current),()=>{x.disconnect()}}},[n]),W.useEffect(()=>{if(r){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[r]);let T=()=>{i(!0)},w=()=>{i(!1),u(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:Wh(h,T),onBlur:Wh(d,w),onMouseEnter:Wh(f,T),onMouseLeave:Wh(g,w),onTouchStart:Wh(_,T)}]:[!1,v,{}]}function Wh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function GM({page:n,...e}){let{router:t}=qM(),r=W.useMemo(()=>VC(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?W.createElement(WM,{page:n,matches:r,...e}):null}function KM(n){let{manifest:e,routeModules:t}=KC(),[r,i]=W.useState([]);return W.useEffect(()=>{let o=!1;return LM(n,e,t).then(u=>{o||i(u)}),()=>{o=!0}},[n,e,t]),r}function WM({page:n,matches:e,...t}){let r=ao(),{manifest:i,routeModules:o}=KC(),{loaderData:u,matches:h}=HM(),d=W.useMemo(()=>hR(n,e,h,i,r,"data"),[n,e,h,i,r]),f=W.useMemo(()=>hR(n,e,h,i,r,"assets"),[n,e,h,i,r]),g=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,w=!1;if(e.forEach(x=>{var L;let U=i.routes[x.route.id];!U||!U.hasLoader||(!d.some(j=>j.route.id===x.route.id)&&x.route.id in u&&((L=o[x.route.id])!=null&&L.shouldRevalidate)||U.hasClientLoader?w=!0:T.add(x.route.id))}),T.size===0)return[];let R=zM(n);return w&&T.size>0&&R.searchParams.set("_routes",e.filter(x=>T.has(x.route.id)).map(x=>x.route.id).join(",")),[R.pathname+R.search]},[u,r,i,d,e,n,o]),_=W.useMemo(()=>UM(f,i),[f,i]),v=KM(f);return W.createElement(W.Fragment,null,g.map(T=>W.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),_.map(T=>W.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),v.map(({key:T,link:w})=>W.createElement("link",{key:T,...w})))}function QM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var WC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WC&&(window.__reactRouterVersion="7.1.5")}catch{}function YM({basename:n,children:e,window:t}){let r=W.useRef();r.current==null&&(r.current=UV({window:t,v5Compat:!0}));let i=r.current,[o,u]=W.useState({action:i.action,location:i.location}),h=W.useCallback(d=>{W.startTransition(()=>u(d))},[u]);return W.useLayoutEffect(()=>i.listen(h),[i,h]),W.createElement(AM,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var QC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ui=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:u,state:h,target:d,to:f,preventScrollReset:g,viewTransition:_,...v},T){let{basename:w}=W.useContext(Xi),R=typeof f=="string"&&QC.test(f),x,U=!1;if(typeof f=="string"&&R&&(x=f,WC))try{let I=new URL(window.location.href),b=f.startsWith("//")?new URL(I.protocol+f):new URL(f),P=qa(b.pathname,w);b.origin===I.origin&&P!=null?f=P+b.search+b.hash:U=!0}catch{$i(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=cM(f,{relative:i}),[j,$,z]=$M(r,v),H=eL(f,{replace:u,state:h,target:d,preventScrollReset:g,relative:i,viewTransition:_});function M(I){e&&e(I),I.defaultPrevented||H(I)}let C=W.createElement("a",{...v,...z,href:x||L,onClick:U||o?e:M,ref:QM(T,$),target:d,"data-discover":!R&&t==="render"?"true":void 0});return j&&!R?W.createElement(W.Fragment,null,C,W.createElement(GM,{page:L})):C});ui.displayName="Link";var XM=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:u,viewTransition:h,children:d,...f},g){let _=gf(u,{relative:f.relative}),v=ao(),T=W.useContext(Lg),{navigator:w,basename:R}=W.useContext(Xi),x=T!=null&&sL(_)&&h===!0,U=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,L=v.pathname,j=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(L=L.toLowerCase(),j=j?j.toLowerCase():null,U=U.toLowerCase()),j&&R&&(j=qa(j,R)||j);const $=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let z=L===U||!i&&L.startsWith(U)&&L.charAt($)==="/",H=j!=null&&(j===U||!i&&j.startsWith(U)&&j.charAt(U.length)==="/"),M={isActive:z,isPending:H,isTransitioning:x},C=z?e:void 0,I;typeof r=="function"?I=r(M):I=[r,z?"active":null,H?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let b=typeof o=="function"?o(M):o;return W.createElement(ui,{...f,"aria-current":C,className:I,ref:g,style:b,to:u,viewTransition:h},typeof d=="function"?d(M):d)});XM.displayName="NavLink";var JM=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:u=Cm,action:h,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:_,...v},T)=>{let w=rL(),R=iL(h,{relative:f}),x=u.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&QC.test(h),L=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let $=j.nativeEvent.submitter,z=($==null?void 0:$.getAttribute("formmethod"))||u;w($||j.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:i,state:o,relative:f,preventScrollReset:g,viewTransition:_})};return W.createElement("form",{ref:T,method:x,action:R,onSubmit:r?d:L,...v,"data-discover":!U&&n==="render"?"true":void 0})});JM.displayName="Form";function ZM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YC(n){let e=W.useContext(wc);return Nt(e,ZM(n)),e}function eL(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:u}={}){let h=Ug(),d=ao(),f=gf(n,{relative:o});return W.useCallback(g=>{if(OM(g,e)){g.preventDefault();let _=t!==void 0?t:jd(d)===jd(f);h(n,{replace:_,state:r,preventScrollReset:i,relative:o,viewTransition:u})}},[d,h,f,t,r,e,n,i,o,u])}var tL=0,nL=()=>`__${String(++tL)}__`;function rL(){let{router:n}=YC("useSubmit"),{basename:e}=W.useContext(Xi),t=bM();return W.useCallback(async(r,i={})=>{let{action:o,method:u,encType:h,formData:d,body:f}=kM(r,e);if(i.navigate===!1){let g=i.fetcherKey||nL();await n.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||u,formEncType:i.encType||h,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||u,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function iL(n,{relative:e}={}){let{basename:t}=W.useContext(Xi),r=W.useContext(Ji);Nt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...gf(n||".",{relative:e})},u=ao();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ds([t,o.pathname])),jd(o)}function sL(n,e={}){let t=W.useContext(BC);Nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=YC("useViewTransitionState"),i=gf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=qa(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=qa(t.nextLocation.pathname,r)||t.nextLocation.pathname;return tg(i.pathname,u)!=null||tg(i.pathname,o)!=null}new TextEncoder;const Qr={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"},aL={basket:[],user:null},oL=(n,e)=>{switch(e.type){case Qr.ADD_TO_BASKET:if(n.basket.find(o=>o.id===e.item.id)){const o=n.basket.map(u=>u.id===e.item.id?{...u,amount:u.amount+1}:u);return{...n,basket:o}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case Qr.REMOVE_FROM_BASKET:const r=n.basket.findIndex(o=>o.id===e.id);let i=[...n.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...n,basket:i};case Qr.EMPTY_BASKET:return{...n,basket:[]};case Qr.SET_USER:return{...n,user:e.user};default:return n}},Fs=W.createContext();function lL({children:n,reducer:e,initialState:t}){return N.jsx(Fs.Provider,{value:W.useReducer(e,t),children:n})}var dR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},uL=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],u=n[t++],h=n[t++],d=((i&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},JC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],u=i+1<n.length,h=u?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,g=o>>2,_=(o&3)<<4|h>>4;let v=(h&15)<<2|f>>6,T=f&63;d||(T=64,u||(v=64)),r.push(t[g],t[_],t[v],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(XC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||h==null||f==null||_==null)throw new cL;const v=o<<2|h>>4;if(r.push(v),f!==64){const T=h<<4&240|f>>2;if(r.push(T),_!==64){const w=f<<6&192|_;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class cL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hL=function(n){const e=XC(n);return JC.encodeByteArray(e,!0)},ng=function(n){return hL(n).replace(/\./g,"")},GE=function(n){try{return JC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!dL(t)||(n[t]=rg(n[t],e[t]));return n}function dL(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=()=>ZC().__FIREBASE_DEFAULTS__,pL=()=>{if(typeof process>"u"||typeof dR>"u")return;const n=dR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&GE(n[1]);return e&&JSON.parse(e)},Fg=()=>{try{return fL()||pL()||mL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gL=n=>{var e,t;return(t=(e=Fg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ex=()=>{var n;return(n=Fg())===null||n===void 0?void 0:n.config},tx=n=>{var e;return(e=Fg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ng(JSON.stringify(t)),ng(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function KE(){var n;const e=(n=Fg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EL(){return typeof window<"u"||nx()}function nx(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function bL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function WE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ix(){const n=Vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sx(){return!KE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fd(){try{return typeof indexedDB=="object"}catch{return!1}}function wL(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="FirebaseError";class Zn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=TL,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?SL(o,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new Zn(i,h,r)}}function SL(n,e){return n.replace(AL,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const AL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function RL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Gu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],u=e[i];if(pR(o)&&pR(u)){if(!Gu(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function pR(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function yd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ax(n,e){const t=new IL(n,e);return t.subscribe.bind(t)}class IL{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");CL(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Jv),i.error===void 0&&(i.error=Jv),i.complete===void 0&&(i.complete=Jv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CL(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Jv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n){return n&&n._delegate?n._delegate:n}class Gi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new yL;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OL(e))try{this.getOrInitializeService({instanceIdentifier:Wo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wo){return this.instances.has(e)}getOptions(e=Wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PL(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wo){return this.component?this.component.multipleInstances?e:Wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PL(n){return n===Wo?void 0:n}function OL(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xL(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=[];var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const lx={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},DL=Be.INFO,NL={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},kL=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=NL[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bg{constructor(e){this.name=e,this._logLevel=DL,this._logHandler=kL,this._userLogHandler=null,QE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}function VL(n){QE.forEach(e=>{e.setLogLevel(n)})}function ML(n,e){for(const t of QE){let r=null;e&&e.level&&(r=lx[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,o,...u)=>{const h=u.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(r??i.logLevel)&&n({level:Be[o].toLowerCase(),message:h,args:u,type:i.name})}}}const LL=(n,e)=>e.some(t=>n instanceof t);let mR,gR;function UL(){return mR||(mR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jL(){return gR||(gR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ux=new WeakMap,V0=new WeakMap,cx=new WeakMap,Zv=new WeakMap,YE=new WeakMap;function FL(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Ua(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&ux.set(t,n)}).catch(()=>{}),YE.set(e,n),e}function BL(n){if(V0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});V0.set(n,e)}let M0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return V0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||cx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ua(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function zL(n){M0=n(M0)}function qL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(e0(this),e,...t);return cx.set(r,e.sort?e.sort():[e]),Ua(r)}:jL().includes(n)?function(...e){return n.apply(e0(this),e),Ua(ux.get(this))}:function(...e){return Ua(n.apply(e0(this),e))}}function HL(n){return typeof n=="function"?qL(n):(n instanceof IDBTransaction&&BL(n),LL(n,UL())?new Proxy(n,M0):n)}function Ua(n){if(n instanceof IDBRequest)return FL(n);if(Zv.has(n))return Zv.get(n);const e=HL(n);return e!==n&&(Zv.set(n,e),YE.set(e,n)),e}const e0=n=>YE.get(n);function $L(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),h=Ua(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Ua(u.result),d.oldVersion,d.newVersion,Ua(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const GL=["get","getKey","getAll","getAllKeys","count"],KL=["put","add","delete","clear"],t0=new Map;function yR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(t0.get(e))return t0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=KL.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GL.includes(t)))return;const o=async function(u,...h){const d=this.transaction(u,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),i&&d.done]))[0]};return t0.set(e,o),o}zL(n=>({...n,get:(e,t,r)=>yR(e,t)||n.get(e,t,r),has:(e,t)=>!!yR(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QL(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function QL(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ig="@firebase/app",L0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Bg("@firebase/app"),YL="@firebase/app-compat",XL="@firebase/analytics-compat",JL="@firebase/analytics",ZL="@firebase/app-check-compat",eU="@firebase/app-check",tU="@firebase/auth",nU="@firebase/auth-compat",rU="@firebase/database",iU="@firebase/data-connect",sU="@firebase/database-compat",aU="@firebase/functions",oU="@firebase/functions-compat",lU="@firebase/installations",uU="@firebase/installations-compat",cU="@firebase/messaging",hU="@firebase/messaging-compat",dU="@firebase/performance",fU="@firebase/performance-compat",pU="@firebase/remote-config",mU="@firebase/remote-config-compat",gU="@firebase/storage",yU="@firebase/storage-compat",_U="@firebase/firestore",vU="@firebase/vertexai",EU="@firebase/firestore-compat",bU="firebase",wU="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="[DEFAULT]",TU={[ig]:"fire-core",[YL]:"fire-core-compat",[JL]:"fire-analytics",[XL]:"fire-analytics-compat",[eU]:"fire-app-check",[ZL]:"fire-app-check-compat",[tU]:"fire-auth",[nU]:"fire-auth-compat",[rU]:"fire-rtdb",[iU]:"fire-data-connect",[sU]:"fire-rtdb-compat",[aU]:"fire-fn",[oU]:"fire-fn-compat",[lU]:"fire-iid",[uU]:"fire-iid-compat",[cU]:"fire-fcm",[hU]:"fire-fcm-compat",[dU]:"fire-perf",[fU]:"fire-perf-compat",[pU]:"fire-rc",[mU]:"fire-rc-compat",[gU]:"fire-gcs",[yU]:"fire-gcs-compat",[_U]:"fire-fst",[EU]:"fire-fst-compat",[vU]:"fire-vertex","fire-js":"fire-js",[bU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new Map,Ku=new Map,Wu=new Map;function Bd(n,e){try{n.container.addComponent(e)}catch(t){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function hx(n,e){n.container.addOrOverwriteComponent(e)}function Ga(n){const e=n.name;if(Wu.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;Wu.set(e,n);for(const t of $a.values())Bd(t,n);for(const t of Ku.values())Bd(t,n);return!0}function zg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function SU(n,e,t=Ha){zg(n,e).clearInstance(t)}function dx(n){return n.options!==void 0}function Tt(n){return n==null?!1:n.settings!==void 0}function AU(){Wu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new Sl("app","Firebase",RU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fx=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(n,e){const t=GE(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class IU extends fx{constructor(e,t,r,i){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,i);else{const h=e;super(h.options,u,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&_R(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&_R(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,ci(ig,L0,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){JE(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Xr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=wU;function XE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ha,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xr.create("bad-app-name",{appName:String(i)});if(t||(t=ex()),!t)throw Xr.create("no-options");const o=$a.get(i);if(o){if(Gu(t,o.options)&&Gu(r,o.config))return o;throw Xr.create("duplicate-app",{appName:i})}const u=new ox(i);for(const d of Wu.values())u.addComponent(d);const h=new fx(t,r,u);return $a.set(i,h),h}function CU(n,e){if(EL()&&!nx())throw Xr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;dx(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=f=>[...f].reduce((g,_)=>Math.imul(31,g)+_.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Xr.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),u=Ku.get(o);if(u)return u.incRefCount(e.releaseOnDeref),u;const h=new ox(o);for(const f of Wu.values())h.addComponent(f);const d=new IU(t,e,o,h);return Ku.set(o,d),d}function px(n=Ha){const e=$a.get(n);if(!e&&n===Ha&&ex())return XE();if(!e)throw Xr.create("no-app",{appName:n});return e}function xU(){return Array.from($a.values())}async function JE(n){let e=!1;const t=n.name;$a.has(t)?(e=!0,$a.delete(t)):Ku.has(t)&&n.decRefCount()<=0&&(Ku.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function ci(n,e,t){var r;let i=(r=TU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(h.join(" "));return}Ga(new Gi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function mx(n,e){if(n!==null&&typeof n!="function")throw Xr.create("invalid-log-argument");ML(n,e)}function gx(n){VL(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU="firebase-heartbeat-database",OU=1,zd="firebase-heartbeat-store";let n0=null;function yx(){return n0||(n0=$L(PU,OU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xr.create("idb-open",{originalErrorMessage:n.message})})),n0}async function DU(n){try{const t=(await yx()).transaction(zd),r=await t.objectStore(zd).get(_x(n));return await t.done,r}catch(e){if(e instanceof Zn)ks.warn(e.message);else{const t=Xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ks.warn(t.message)}}}async function vR(n,e){try{const r=(await yx()).transaction(zd,"readwrite");await r.objectStore(zd).put(e,_x(n)),await r.done}catch(t){if(t instanceof Zn)ks.warn(t.message);else{const r=Xr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ks.warn(r.message)}}}function _x(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=1024,kU=30;class VU{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LU(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ER();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>kU){const u=UU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ks.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ER(),{heartbeatsToSend:r,unsentEntries:i}=MU(this._heartbeatsCache.heartbeats),o=ng(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ks.warn(t),""}}}function ER(){return new Date().toISOString().substring(0,10)}function MU(n,e=NU){const t=[];let r=n.slice();for(const i of n){const o=t.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),bR(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),bR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class LU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fd()?wL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DU(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return vR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return vR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bR(n){return ng(JSON.stringify({version:2,heartbeats:n})).length}function UU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(n){Ga(new Gi("platform-logger",e=>new WL(e),"PRIVATE")),Ga(new Gi("heartbeat",e=>new VU(e),"PRIVATE")),ci(ig,L0,n),ci(ig,L0,"esm2017"),ci("fire-js","")}jU("");const FU=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Zn,SDK_VERSION:oo,_DEFAULT_ENTRY_NAME:Ha,_addComponent:Bd,_addOrOverwriteComponent:hx,_apps:$a,_clearComponents:AU,_components:Wu,_getProvider:zg,_isFirebaseApp:dx,_isFirebaseServerApp:Tt,_registerComponent:Ga,_removeServiceInstance:SU,_serverApps:Ku,deleteApp:JE,getApp:px,getApps:xU,initializeApp:XE,initializeServerApp:CU,onLog:mx,registerVersion:ci,setLogLevel:gx},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e,t){this._delegate=e,this.firebase=t,Bd(e,new Gi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),JE(this._delegate)))}_getService(e,t=Ha){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Ha){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Bd(this._delegate,e)}_addOrOverwriteComponent(e){hx(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},wR=new Sl("app-compat","Firebase",zU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(n){const e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:ci,setLogLevel:gx,onLog:mx,apps:null,SDK_VERSION:oo,INTERNAL:{registerComponent:h,removeApp:r,useAsService:d,modularAPIs:FU}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(f){delete e[f]}function i(f){if(f=f||Ha,!fR(e,f))throw wR.create("no-app",{appName:f});return e[f]}i.App=n;function o(f,g={}){const _=XE(f,g);if(fR(e,_.name))return e[_.name];const v=new n(_,t);return e[_.name]=v,v}function u(){return Object.keys(e).map(f=>e[f])}function h(f){const g=f.name,_=g.replace("-compat","");if(Ga(f)&&f.type==="PUBLIC"){const v=(T=i())=>{if(typeof T[_]!="function")throw wR.create("invalid-app-argument",{appName:g});return T[_]()};f.serviceProps!==void 0&&rg(v,f.serviceProps),t[_]=v,n.prototype[_]=function(...T){return this._getService.bind(this,g).apply(this,f.multipleInstances?T:[])}}return f.type==="PUBLIC"?t[_]:null}function d(f,g){return g==="serverAuth"?null:g}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(){const n=qU(BU);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:vx,extendNamespace:e,createSubscribe:ax,ErrorFactory:Sl,deepExtend:rg});function e(t){rg(n,t)}return n}const HU=vx();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new Bg("@firebase/app-compat"),$U="@firebase/app-compat",GU="0.2.50";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(n){ci($U,GU,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=ZC();if(n.firebase!==void 0){TR.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&TR.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Sc=HU;KU();var WU="firebase",QU="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sc.registerVersion(WU,QU,"app-compat");function ZE(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const Qh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},_u={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function Ex(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XU=YU,JU=Ex,bx=new Sl("auth","Firebase",Ex());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=new Bg("@firebase/auth");function ZU(n,...e){sg.logLevel<=Be.WARN&&sg.warn(`Auth (${oo}): ${n}`,...e)}function Pm(n,...e){sg.logLevel<=Be.ERROR&&sg.error(`Auth (${oo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(n,...e){throw tb(n,...e)}function pn(n,...e){return tb(n,...e)}function eb(n,e,t){const r=Object.assign(Object.assign({},JU()),{[e]:t});return new Sl("auth","Firebase",r).create(e,{appName:n.name})}function An(n){return eb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ac(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rn(n,"argument-error"),eb(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tb(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return bx.create(n,...e)}function me(n,e,...t){if(!n)throw tb(e,...t)}function ji(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Pm(e),new Error(e)}function hi(n,e){n||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function nb(){return SR()==="http:"||SR()==="https:"}function SR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nb()||rx()||"connection"in navigator)?navigator.onLine:!0}function t4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t){this.shortDelay=e,this.longDelay=t,hi(t>e,"Short delay should be less than long delay!"),this.isMobile=vL()||WE()}get(){return e4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(n,e){hi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=new yf(3e4,6e4);function Ht(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function $t(n,e,t,r,i={}){return Tx(n,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Tc(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:d},o);return bL()||(f.referrerPolicy="no-referrer"),wx.fetch()(Sx(n,n.config.apiHost,t,h),f)})}async function Tx(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},n4),e);try{const i=new s4(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw _d(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,f]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw _d(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw _d(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw _d(n,"user-disabled",u);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw eb(n,g,f);Rn(n,g)}}catch(i){if(i instanceof Zn)throw i;Rn(n,"network-request-failed",{message:String(i)})}}async function Bs(n,e,t,r,i={}){const o=await $t(n,e,t,r,i);return"mfaPendingCredential"in o&&Rn(n,"multi-factor-auth-required",{_serverResponse:o}),o}function Sx(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?rb(n.config,i):`${n.config.apiScheme}://${i}`}function i4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class s4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(pn(this.auth,"network-request-failed")),r4.get())})}}function _d(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=pn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(n){return n!==void 0&&n.getResponse!==void 0}function RR(n){return n!==void 0&&n.enterprise!==void 0}class Ax{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return i4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(n){return(await $t(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Rx(n,e){return $t(n,"GET","/v2/recaptchaConfig",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(n,e){return $t(n,"POST","/v1/accounts:delete",e)}async function l4(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function Ix(n,e){return $t(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u4(n,e=!1){const t=xe(n),r=await t.getIdToken(e),i=qg(r);me(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ad(r0(i.auth_time)),issuedAtTime:Ad(r0(i.iat)),expirationTime:Ad(r0(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function r0(n){return Number(n)*1e3}function qg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Pm("JWT malformed, contained fewer than 3 sections"),null;try{const i=GE(t);return i?JSON.parse(i):(Pm("Failed to decode base64 JWT payload"),null)}catch(i){return Pm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function IR(n){const e=qg(n);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Zn&&c4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function c4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ad(this.lastLoginAt),this.creationTime=Ad(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Vs(n,Ix(t,{idToken:r}));me(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Cx(o.providerUserInfo):[],h=f4(n.providerData,u),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),g=d?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new U0(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function d4(n){const e=xe(n);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function f4(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Cx(n){return n.map(e=>{var{providerId:t}=e,r=ZE(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(n,e){const t=await Tx(n,{},async()=>{const r=Tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,u=Sx(n,i,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",wx.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function m4(n,e){return $t(n,"POST","/v2/accounts:revokeToken",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){me(e.length!==0,"internal-error");const t=IR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await p4(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,u=new Uu;return r&&(me(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uu,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(n,e){me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Cs{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=ZE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new h4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new U0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Vs(this,this.stsTokenManager.getToken(this.auth,e));return me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return u4(this,e)}reload(){return d4(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Hd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tt(this.auth.app))return Promise.reject(An(this.auth));const e=await this.getIdToken();return await Vs(this,o4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,u,h,d,f,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(u=t.photoURL)!==null&&u!==void 0?u:void 0,R=(h=t.tenantId)!==null&&h!==void 0?h:void 0,x=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,U=(f=t.createdAt)!==null&&f!==void 0?f:void 0,L=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:j,emailVerified:$,isAnonymous:z,providerData:H,stsTokenManager:M}=t;me(j&&M,e,"internal-error");const C=Uu.fromJSON(this.name,M);me(typeof j=="string",e,"internal-error"),Ca(_,e.name),Ca(v,e.name),me(typeof $=="boolean",e,"internal-error"),me(typeof z=="boolean",e,"internal-error"),Ca(T,e.name),Ca(w,e.name),Ca(R,e.name),Ca(x,e.name),Ca(U,e.name),Ca(L,e.name);const I=new Cs({uid:j,auth:e,email:v,emailVerified:$,displayName:_,isAnonymous:z,photoURL:w,phoneNumber:T,tenantId:R,stsTokenManager:C,createdAt:U,lastLoginAt:L});return H&&Array.isArray(H)&&(I.providerData=H.map(b=>Object.assign({},b))),x&&(I._redirectEventId=x),I}static async _fromIdTokenResponse(e,t,r=!1){const i=new Uu;i.updateFromServerResponse(t);const o=new Cs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Hd(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];me(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Cx(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),h=new Uu;h.updateFromIdToken(r);const d=new Cs({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new U0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new Map;function Rr(n){hi(n instanceof Function,"Expected a class definition");let e=CR.get(n);return e?(hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,CR.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}xx.type="NONE";const Qu=xx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(n,e,t){return`firebase:${n}:${e}:${t}`}class ju{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ol(this.userKey,i.apiKey,o),this.fullPersistenceKey=ol("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Cs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ju(Rr(Qu),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Rr(Qu);const u=ol(r,e.config.apiKey,e.name);let h=null;for(const f of t)try{const g=await f._get(u);if(g){const _=Cs._fromJSON(e,g);f!==o&&(h=_),o=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new ju(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(u)}catch{}})),new ju(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Nx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Px(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kx(e))return"Blackberry";if(Vx(e))return"Webos";if(Ox(e))return"Safari";if((e.includes("chrome/")||Dx(e))&&!e.includes("edge/"))return"Chrome";if(_f(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Px(n=Vt()){return/firefox\//i.test(n)}function Ox(n=Vt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dx(n=Vt()){return/crios\//i.test(n)}function Nx(n=Vt()){return/iemobile/i.test(n)}function _f(n=Vt()){return/android/i.test(n)}function kx(n=Vt()){return/blackberry/i.test(n)}function Vx(n=Vt()){return/webos/i.test(n)}function vf(n=Vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function g4(n=Vt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function y4(n=Vt()){var e;return vf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _4(){return ix()&&document.documentMode===10}function Mx(n=Vt()){return vf(n)||_f(n)||Vx(n)||kx(n)||/windows phone/i.test(n)||Nx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(n,e=[]){let t;switch(n){case"Browser":t=xR(Vt());break;case"Worker":t=`${xR(Vt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${oo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(n,e={}){return $t(n,"GET","/v2/passwordPolicy",Ht(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=6;class w4{constructor(e){var t,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:b4,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PR(this),this.idTokenSubscription=new PR(this),this.beforeStateQueue=new v4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rr(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ju.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ix(this,{idToken:e}),r=await Cs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Tt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tt(this.app))return Promise.reject(An(this));const t=e?xe(e):null;return t&&me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tt(this.app)?Promise.reject(An(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tt(this.app)?Promise.reject(An(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await E4(this),t=new w4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await m4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Rr(e)||this._popupRedirectResolver;me(t,this,"argument-error"),this.redirectPersistenceManager=await ju.create(this,[Rr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Tt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ZU(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Mt(n){return xe(n)}class PR{constructor(e){this.auth=e,this.observer=null,this.addObserver=ax(t=>this.observer=t)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S4(n){Ef=n}function ib(n){return Ef.loadJS(n)}function A4(){return Ef.recaptchaV2Script}function R4(){return Ef.recaptchaEnterpriseScript}function I4(){return Ef.gapiScript}function Ux(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=500,x4=6e4,dm=1e12;class P4{constructor(e){this.auth=e,this.counter=dm,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new N4(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||dm;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||dm;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||dm;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class O4{constructor(){this.enterprise=new D4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class D4{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class N4{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;me(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=k4(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},x4)},C4))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function k4(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const V4="recaptcha-enterprise",Rd="NO_RECAPTCHA";class jx{constructor(e){this.type=V4,this.auth=Mt(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{Rx(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new Ax(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,u(f.siteKey)}}).catch(d=>{h(d)})})}function i(o,u,h){const d=window.grecaptcha;RR(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{u(f)}).catch(()=>{u(Rd)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new O4().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&RR(window.grecaptcha))i(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=R4();d.length!==0&&(d+=h),ib(d).then(()=>{i(h,o,u)}).catch(f=>{u(f)})}}).catch(h=>{u(h)})})}}async function Yh(n,e,t,r=!1,i=!1){const o=new jx(n);let u;if(i)u=Rd;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function ja(n,e,t,r,i){var o,u;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Yh(n,e,t,t==="getOobCode");return r(n,h)}else return r(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Yh(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(h)});else if(i==="PHONE_PROVIDER")if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const h=await Yh(n,e,t);return r(n,h).catch(async d=>{var f;if(((f=n._getRecaptchaConfig())===null||f===void 0?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const g=await Yh(n,e,t,!1,!0);return r(n,g)}return Promise.reject(d)})}else{const h=await Yh(n,e,t,!1,!0);return r(n,h)}else return Promise.reject(i+" provider is not supported.")}async function M4(n){const e=Mt(n),t=await Rx(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Ax(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new jx(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(n,e){const t=zg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Gu(o,e??{}))return i;Rn(i,"already-initialized")}return t.initialize({options:e})}function U4(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Rr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Fx(n,e,t){const r=Mt(n);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),o=Bx(e),{host:u,port:h}=j4(e),d=h===null?"":`:${h}`;r.config.emulator={url:`${o}//${u}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||F4()}function Bx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function j4(n){const e=Bx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:OR(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:OR(u)}}}function OR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function F4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,t){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(n,e){return $t(n,"POST","/v1/accounts:resetPassword",Ht(n,e))}async function B4(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function z4(n,e){return $t(n,"POST","/v1/accounts:signUp",e)}async function q4(n,e){return $t(n,"POST","/v1/accounts:update",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(n,e){return Bs(n,"POST","/v1/accounts:signInWithPassword",Ht(n,e))}async function Hg(n,e){return $t(n,"POST","/v1/accounts:sendOobCode",Ht(n,e))}async function $4(n,e){return Hg(n,e)}async function G4(n,e){return Hg(n,e)}async function K4(n,e){return Hg(n,e)}async function W4(n,e){return Hg(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(n,e){return Bs(n,"POST","/v1/accounts:signInWithEmailLink",Ht(n,e))}async function Y4(n,e){return Bs(n,"POST","/v1/accounts:signInWithEmailLink",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends Rc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new $d(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new $d(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ja(e,t,"signInWithPassword",H4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Q4(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ja(e,r,"signUpPassword",z4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Y4(e,{idToken:t,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(n,e){return Bs(n,"POST","/v1/accounts:signInWithIdp",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="http://localhost";class Ki extends Rc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=ZE(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Ki(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ns(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ns(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ns(e,t)}buildRequest(){const e={requestUri:X4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(n,e){return $t(n,"POST","/v1/accounts:sendVerificationCode",Ht(n,e))}async function J4(n,e){return Bs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,e))}async function Z4(n,e){const t=await Bs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,e));if(t.temporaryProof)throw _d(n,"account-exists-with-different-credential",t);return t}const e5={USER_NOT_FOUND:"user-not-found"};async function t5(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Bs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,t),e5)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends Rc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ll({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ll({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return J4(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Z4(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return t5(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new ll({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r5(n){const e=Mu(yd(n)).link,t=e?Mu(yd(e)).deep_link_id:null,r=Mu(yd(n)).deep_link_id;return(r?Mu(yd(r)).link:null)||r||t||e||n}class $g{constructor(e){var t,r,i,o,u,h;const d=Mu(yd(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,_=n5((i=d.mode)!==null&&i!==void 0?i:null);me(f&&g&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=g,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=r5(e);try{return new $g(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.providerId=lo.PROVIDER_ID}static credential(e,t){return $d._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=$g.parseLink(t);return me(r,"argument-error"),$d._fromEmailAndCode(e,r.code,r.tenantId)}}lo.PROVIDER_ID="password";lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends zs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fu extends Ic{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return me("providerId"in t&&"signInMethod"in t,"argument-error"),Ki._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return me(e.idToken||e.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Fu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Fu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:u,providerId:h}=e;if(!r&&!i&&!t&&!o||!h)return null;try{return new Fu(h)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Ic{constructor(){super("facebook.com")}static credential(e){return Ki._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Ic{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ki._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Mi.credential(t,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Ic{constructor(){super("github.com")}static credential(e){return Ki._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.GITHUB_SIGN_IN_METHOD="github.com";Li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5="http://localhost";class Yu extends Rc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Ns(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ns(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ns(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=t;return!r||!i||!o||r!==i?null:new Yu(r,o)}static _create(e,t){return new Yu(e,t)}buildRequest(){return{requestUri:i5,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="saml.";class ag extends zs{constructor(e){me(e.startsWith(s5),"argument-error"),super(e)}static credentialFromResult(e){return ag.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return ag.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Yu.fromJSON(e);return me(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Yu._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Ic{constructor(){super("twitter.com")}static credential(e,t){return Ki._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ui.credential(t,r)}catch{return null}}}Ui.TWITTER_SIGN_IN_METHOD="twitter.com";Ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(n,e){return Bs(n,"POST","/v1/accounts:signUp",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Cs._fromIdTokenResponse(e,r,i),u=NR(r);return new Jr({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=NR(r);return new Jr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function NR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5(n){var e;if(Tt(n.app))return Promise.reject(An(n));const t=Mt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Jr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await qx(t,{returnSecureToken:!0}),i=await Jr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends Zn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,og.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new og(e,t,r,i)}}function Hx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?og._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(n,e){const t=xe(n);await Gg(!0,t,e);const{providerUserInfo:r}=await l4(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=$x(r||[]);return t.providerData=t.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function sb(n,e,t=!1){const r=await Vs(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Jr._forOperation(n,"link",r)}async function Gg(n,e,t){await Hd(e);const r=$x(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";me(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(n,e,t=!1){const{auth:r}=n;if(Tt(r.app))return Promise.reject(An(r));const i="reauthenticate";try{const o=await Vs(n,Hx(r,i,e,n),t);me(o.idToken,r,"internal-error");const u=qg(o.idToken);me(u,r,"internal-error");const{sub:h}=u;return me(n.uid===h,r,"user-mismatch"),Jr._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Rn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(n,e,t=!1){if(Tt(n.app))return Promise.reject(An(n));const r="signIn",i=await Hx(n,r,e),o=await Jr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function Kg(n,e){return Kx(Mt(n),e)}async function Wx(n,e){const t=xe(n);return await Gg(!1,t,e.providerId),sb(t,e)}async function Qx(n,e){return Gx(xe(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5(n,e){return Bs(n,"POST","/v1/accounts:signInWithCustomToken",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u5(n,e){if(Tt(n.app))return Promise.reject(An(n));const t=Mt(n),r=await l5(t,{token:e,returnSecureToken:!0}),i=await Jr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?ab._fromServerResponse(e,t):"totpInfo"in t?ob._fromServerResponse(e,t):Rn(e,"internal-error")}}class ab extends bf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new ab(t)}}class ob extends bf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new ob(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(n,e,t){var r;me(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),me(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),me(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(me(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(me(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lb(n){const e=Mt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function c5(n,e,t){const r=Mt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Wg(r,i,t),await ja(r,i,"getOobCode",G4,"EMAIL_PASSWORD_PROVIDER")}async function h5(n,e,t){await zx(xe(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lb(n),r})}async function d5(n,e){await q4(xe(n),{oobCode:e})}async function Yx(n,e){const t=xe(n),r=await zx(t,{oobCode:e}),i=r.requestType;switch(me(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(r.mfaInfo,t,"internal-error");default:me(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=bf._fromServerResponse(Mt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function f5(n,e){const{data:t}=await Yx(xe(n),e);return t.email}async function Xx(n,e,t){if(Tt(n.app))return Promise.reject(An(n));const r=Mt(n),u=await ja(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qx,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&lb(n),d}),h=await Jr._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function Jx(n,e,t){return Tt(n.app)?Promise.reject(An(n)):Kg(xe(n),lo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lb(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p5(n,e,t){const r=Mt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){me(h.handleCodeInApp,r,"argument-error"),h&&Wg(r,u,h)}o(i,t),await ja(r,i,"getOobCode",K4,"EMAIL_PASSWORD_PROVIDER")}function m5(n,e){const t=$g.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function g5(n,e,t){if(Tt(n.app))return Promise.reject(An(n));const r=xe(n),i=lo.credentialWithLink(e,t||qd());return me(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Kg(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y5(n,e){return $t(n,"POST","/v1/accounts:createAuthUri",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5(n,e){const t=nb()?qd():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await y5(xe(n),r);return i||[]}async function v5(n,e){const t=xe(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Wg(t.auth,i,e);const{email:o}=await $4(t.auth,i);o!==n.email&&await n.reload()}async function E5(n,e,t){const r=xe(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Wg(r.auth,o,t);const{email:u}=await W4(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b5(n,e){return $t(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=xe(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Vs(r,b5(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function T5(n,e){const t=xe(n);return Tt(t.auth.app)?Promise.reject(An(t.auth)):Zx(t,e,null)}function S5(n,e){return Zx(xe(n),null,e)}async function Zx(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await Vs(n,B4(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const u=(t=(e=qg(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(u){const h=u!=="anonymous"&&u!=="custom"?u:null;return new Bu(o,h)}}if(!r)return null;switch(r){case"facebook.com":return new R5(o,i);case"github.com":return new I5(o,i);case"google.com":return new C5(o,i);case"twitter.com":return new x5(o,i,n.screenName||null);case"custom":case"anonymous":return new Bu(o,null);default:return new Bu(o,r,i)}}class Bu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class eP extends Bu{constructor(e,t,r,i){super(e,t,r),this.username=i}}class R5 extends Bu{constructor(e,t){super(e,"facebook.com",t)}}class I5 extends eP{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class C5 extends Bu{constructor(e,t){super(e,"google.com",t)}}class x5 extends eP{constructor(e,t,r){super(e,"twitter.com",t,r)}}function P5(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:A5(t)}function O5(n,e,t,r){return xe(n).onIdTokenChanged(e,t,r)}function D5(n,e,t){return xe(n).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new nl("enroll",e,t)}static _fromMfaPendingCredential(e){return new nl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return nl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return nl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Mt(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(h=>bf._fromServerResponse(r,h));me(i.mfaPendingCredential,r,"internal-error");const u=nl._fromMfaPendingCredential(i.mfaPendingCredential);return new ub(u,o,async h=>{const d=await h._process(r,u);delete i.mfaInfo,delete i.mfaPendingCredential;const f=Object.assign(Object.assign({},i),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const g=await Jr._fromIdTokenResponse(r,t.operationType,f);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return me(t.user,r,"internal-error"),Jr._forOperation(t.user,t.operationType,f);default:Rn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function N5(n,e){var t;const r=xe(n),i=e;return me(e.customData.operationType,r,"argument-error"),me((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),ub._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:start",Ht(n,e))}function k5(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(n,e))}function V5(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(n,e))}class cb{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>bf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new cb(e)}async getSession(){return nl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),o=await Vs(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Vs(this.user,V5(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const i0=new WeakMap;function M5(n){const e=xe(n);return i0.has(e)||i0.set(e,cb._fromUser(e)),i0.get(e)}const lg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lg,"1"),this.storage.removeItem(lg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=1e3,U5=10;class nP extends tP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Mx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);_4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,U5):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},L5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nP.type="LOCAL";const Qg=nP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP extends tP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rP.type="SESSION";const Ka=rP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Yg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async f=>f(t.origin,o)),d=await j5(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const f=wf("",20);i.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(_){const v=_;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return window}function B5(n){rn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(){return typeof rn().WorkerGlobalScope<"u"&&typeof rn().importScripts=="function"}async function z5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function q5(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function H5(){return hb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="firebaseLocalStorageDb",$5=1,ug="firebaseLocalStorage",sP="fbase_key";class Tf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xg(n,e){return n.transaction([ug],e?"readwrite":"readonly").objectStore(ug)}function G5(){const n=indexedDB.deleteDatabase(iP);return new Tf(n).toPromise()}function j0(){const n=indexedDB.open(iP,$5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ug,{keyPath:sP})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(ug)?e(r):(r.close(),await G5(),e(await j0()))})})}async function VR(n,e,t){const r=Xg(n,!0).put({[sP]:e,value:t});return new Tf(r).toPromise()}async function K5(n,e){const t=Xg(n,!1).get(e),r=await new Tf(t).toPromise();return r===void 0?null:r.value}function MR(n,e){const t=Xg(n,!0).delete(e);return new Tf(t).toPromise()}const W5=800,Q5=3;class aP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await j0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Q5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yg._getInstance(H5()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await z5(),!this.activeServiceWorker)return;this.sender=new F5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||q5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await j0();return await VR(e,lg,"1"),await MR(e,lg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>VR(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>K5(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>MR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Xg(i,!1).getAll();return new Tf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aP.type="LOCAL";const Xu=aP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:start",Ht(n,e))}function Y5(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:finalize",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=Ux("rcb"),X5=new yf(3e4,6e4);class J5{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=rn().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return me(Z5(t),e,"argument-error"),this.shouldResolveImmediately(t)&&AR(rn().grecaptcha)?Promise.resolve(rn().grecaptcha):new Promise((r,i)=>{const o=rn().setTimeout(()=>{i(pn(e,"network-request-failed"))},X5.get());rn()[s0]=()=>{rn().clearTimeout(o),delete rn()[s0];const h=rn().grecaptcha;if(!h||!AR(h)){i(pn(e,"internal-error"));return}const d=h.render;h.render=(f,g)=>{const _=d(f,g);return this.counter++,_},this.hostLanguage=t,r(h)};const u=`${A4()}?${Tc({onload:s0,render:"explicit",hl:t})}`;ib(u).catch(()=>{clearTimeout(o),i(pn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=rn().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Z5(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class ej{async load(e){return new P4(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="recaptcha",tj={theme:"light",type:"image"};let nj=class{constructor(e,t,r=Object.assign({},tj)){this.parameters=r,this.type=Id,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mt(e),this.isInvisible=this.parameters.size==="invisible",me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;me(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ej:new J5,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),i(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=rn()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){me(nb()&&!hb(),this.auth,"internal-error"),await rj(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await a4(this.auth);me(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function rj(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ll._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function ij(n,e,t){if(Tt(n.app))return Promise.reject(An(n));const r=Mt(n),i=await Jg(r,e,xe(t));return new db(i,o=>Kg(r,o))}async function sj(n,e,t){const r=xe(n);await Gg(!1,r,"phone");const i=await Jg(r.auth,e,xe(t));return new db(i,o=>Wx(r,o))}async function aj(n,e,t){const r=xe(n);if(Tt(r.auth.app))return Promise.reject(An(r.auth));const i=await Jg(r.auth,e,xe(t));return new db(i,o=>Qx(r,o))}async function Jg(n,e,t){var r;if(!n._getRecaptchaConfig())try{await M4(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){me(o.type==="enroll",n,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await ja(n,u,"mfaSmsEnrollment",async(g,_)=>{if(_.phoneEnrollmentInfo.captchaResponse===Rd){me((t==null?void 0:t.type)===Id,g,"argument-error");const v=await a0(g,_,t);return kR(g,v)}return kR(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{me(o.type==="signin",n,"internal-error");const u=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;me(u,n,"missing-multi-factor-info");const h={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await ja(n,h,"mfaSmsSignIn",async(_,v)=>{if(v.phoneSignInInfo.captchaResponse===Rd){me((t==null?void 0:t.type)===Id,_,"argument-error");const T=await a0(_,v,t);return LR(_,T)}return LR(_,v)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await ja(n,o,"sendVerificationCode",async(f,g)=>{if(g.captchaResponse===Rd){me((t==null?void 0:t.type)===Id,f,"argument-error");const _=await a0(f,g,t);return DR(f,_)}return DR(f,g)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t==null||t._reset()}}async function oj(n,e){const t=xe(n);if(Tt(t.auth.app))return Promise.reject(An(t.auth));await sb(t,e)}async function a0(n,e,t){me(t.type===Id,n,"argument-error");const r=await t.verify();me(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,u=i.phoneEnrollmentInfo.captchaResponse,h=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:h,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,u=i.phoneSignInInfo.clientType,h=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:h}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl=class Om{constructor(e){this.providerId=Om.PROVIDER_ID,this.auth=Mt(e)}verifyPhoneNumber(e,t){return Jg(this.auth,e,xe(t))}static credential(e,t){return ll._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Om.credentialFromTaggedObject(t)}static credentialFromError(e){return Om.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?ll._fromTokenResponse(t,r):null}};hl.PROVIDER_ID="phone";hl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(n,e){return e?Rr(e):(me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb extends Rc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ns(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ns(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ns(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lj(n){return Kx(n.auth,new fb(n),n.bypassAuthState)}function uj(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),Gx(t,new fb(n),n.bypassAuthState)}async function cj(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),sb(t,new fb(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lj;case"linkViaPopup":case"linkViaRedirect":return cj;case"reauthViaPopup":case"reauthViaRedirect":return uj;default:Rn(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=new yf(2e3,1e4);async function dj(n,e,t){if(Tt(n.app))return Promise.reject(pn(n,"operation-not-supported-in-this-environment"));const r=Mt(n);Ac(n,e,zs);const i=Al(r,t);return new xs(r,"signInViaPopup",e,i).executeNotNull()}async function fj(n,e,t){const r=xe(n);if(Tt(r.auth.app))return Promise.reject(pn(r.auth,"operation-not-supported-in-this-environment"));Ac(r.auth,e,zs);const i=Al(r.auth,t);return new xs(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function pj(n,e,t){const r=xe(n);Ac(r.auth,e,zs);const i=Al(r.auth,t);return new xs(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class xs extends oP{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=wf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hj.get())};e()}}xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj="pendingRedirect",Cd=new Map;class gj extends oP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Cd.get(this.auth._key());if(!e){try{const r=await yj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Cd.set(this.auth._key(),e)}return this.bypassAuthState||Cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yj(n,e){const t=uP(e),r=lP(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function pb(n,e){return lP(n)._set(uP(e),"true")}function _j(){Cd.clear()}function mb(n,e){Cd.set(n._key(),e)}function lP(n){return Rr(n._redirectPersistence)}function uP(n){return ol(mj,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(n,e,t){return Ej(n,e,t)}async function Ej(n,e,t){if(Tt(n.app))return Promise.reject(An(n));const r=Mt(n);Ac(n,e,zs),await r._initializationPromise;const i=Al(r,t);return await pb(i,r),i._openRedirect(r,e,"signInViaRedirect")}function bj(n,e,t){return wj(n,e,t)}async function wj(n,e,t){const r=xe(n);if(Ac(r.auth,e,zs),Tt(r.auth.app))return Promise.reject(An(r.auth));await r.auth._initializationPromise;const i=Al(r.auth,t);await pb(i,r.auth);const o=await cP(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function Tj(n,e,t){return Sj(n,e,t)}async function Sj(n,e,t){const r=xe(n);Ac(r.auth,e,zs),await r.auth._initializationPromise;const i=Al(r.auth,t);await Gg(!1,r,e.providerId),await pb(i,r.auth);const o=await cP(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function Aj(n,e){return await Mt(n)._initializationPromise,Zg(n,e,!1)}async function Zg(n,e,t=!1){if(Tt(n.app))return Promise.reject(An(n));const r=Mt(n),i=Al(r,e),u=await new gj(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function cP(n){const e=wf(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=10*60*1e3;class hP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ij(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!dP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(pn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Rj&&this.cachedEventUids.clear(),this.cachedEventUids.has(UR(e))}saveEventToCache(e){this.cachedEventUids.add(UR(e)),this.lastProcessedEventTime=Date.now()}}function UR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function dP({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ij(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dP(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(n,e={}){return $t(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xj=/^https?/;async function Pj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await fP(n);for(const t of e)try{if(Oj(t))return}catch{}Rn(n,"unauthorized-domain")}function Oj(n){const e=qd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!xj.test(t))return!1;if(Cj.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=new yf(3e4,6e4);function jR(){const n=rn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Nj(n){return new Promise((e,t)=>{var r,i,o;function u(){jR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jR(),t(pn(n,"network-request-failed"))},timeout:Dj.get()})}if(!((i=(r=rn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=rn().gapi)===null||o===void 0)&&o.load)u();else{const h=Ux("iframefcb");return rn()[h]=()=>{gapi.load?u():t(pn(n,"network-request-failed"))},ib(`${I4()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw Dm=null,e})}let Dm=null;function kj(n){return Dm=Dm||Nj(n),Dm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=new yf(5e3,15e3),Mj="__/auth/iframe",Lj="emulator/auth/iframe",Uj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fj(n){const e=n.config;me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?rb(e,Lj):`https://${n.config.authDomain}/${Mj}`,r={apiKey:e.apiKey,appName:n.name,v:oo},i=jj.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Tc(r).slice(1)}`}async function Bj(n){const e=await kj(n),t=rn().gapi;return me(t,n,"internal-error"),e.open({where:document.body,url:Fj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uj,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=pn(n,"network-request-failed"),h=rn().setTimeout(()=>{o(u)},Vj.get());function d(){rn().clearTimeout(h),i(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qj=500,Hj=600,$j="_blank",Gj="http://localhost";class FR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Kj(n,e,t,r=qj,i=Hj){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},zj),{width:r.toString(),height:i.toString(),top:o,left:u}),f=Vt().toLowerCase();t&&(h=Dx(f)?$j:t),Px(f)&&(e=e||Gj,d.scrollbars="yes");const g=Object.entries(d).reduce((v,[T,w])=>`${v}${T}=${w},`,"");if(y4(f)&&h!=="_self")return Wj(e||"",h),new FR(null);const _=window.open(e||"",h,g);me(_,n,"popup-blocked");try{_.focus()}catch{}return new FR(_)}function Wj(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="__/auth/handler",Yj="emulator/auth/handler",Xj=encodeURIComponent("fac");async function F0(n,e,t,r,i,o){me(n.config.authDomain,n,"auth-domain-config-required"),me(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:oo,eventId:i};if(e instanceof zs){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",RL(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries(o||{}))u[g]=_}if(e instanceof Ic){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await n._getAppCheckToken(),f=d?`#${Xj}=${encodeURIComponent(d)}`:"";return`${Jj(n)}?${Tc(h).slice(1)}${f}`}function Jj({config:n}){return n.emulator?rb(n,Yj):`https://${n.authDomain}/${Qj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="webStorageSupport";class Zj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ka,this._completeRedirectFn=Zg,this._overrideRedirectResult=mb}async _openPopup(e,t,r,i){var o;hi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await F0(e,t,r,qd(),i);return Kj(e,u,wf())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await F0(e,t,r,qd(),i);return B5(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(hi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Bj(e),r=new hP(e);return t.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(o0,{type:o0},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[o0];u!==void 0&&t(!!u),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Pj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Mx()||Ox()||vf()}}const pP=Zj;class eF{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return ji("unexpected MultiFactorSessionType")}}}class gb extends eF{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new gb(e)}_finalizeEnroll(e,t,r){return k5(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Y5(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class mP{constructor(){}static assertion(e){return gb._fromCredential(e)}}mP.FACTOR_ID="phone";var BR="@firebase/auth",zR="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rF(n){Ga(new Gi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;me(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lx(n)},f=new T4(r,i,o,d);return U4(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ga(new Gi("auth-internal",e=>{const t=Mt(e.getProvider("auth").getImmediate());return(r=>new tF(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(BR,zR,nF(n)),ci(BR,zR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=5*60,sF=tx("authIdTokenMaxAge")||iF;let qR=null;const aF=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>sF)return;const i=t==null?void 0:t.token;qR!==i&&(qR=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function oF(n=px()){const e=zg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=L4(n,{popupRedirectResolver:pP,persistence:[Xu,Qg,Ka]}),r=tx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=aF(o.toString());D5(t,u,()=>u(t.currentUser)),O5(t,h=>u(h))}}const i=gL("auth");return i&&Fx(t,`http://${i}`),t}function lF(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}S4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=pn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",lF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rF("Browser");var HR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fa,gP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function I(){}I.prototype=C.prototype,M.D=C.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(b,P,O){for(var D=Array(arguments.length-2),te=2;te<arguments.length;te++)D[te-2]=arguments[te];return C.prototype[P].apply(b,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,C,I){I||(I=0);var b=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)b[P]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(P=0;16>P;++P)b[P]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=M.g[0],I=M.g[1],P=M.g[2];var O=M.g[3],D=C+(O^I&(P^O))+b[0]+3614090360&4294967295;C=I+(D<<7&4294967295|D>>>25),D=O+(P^C&(I^P))+b[1]+3905402710&4294967295,O=C+(D<<12&4294967295|D>>>20),D=P+(I^O&(C^I))+b[2]+606105819&4294967295,P=O+(D<<17&4294967295|D>>>15),D=I+(C^P&(O^C))+b[3]+3250441966&4294967295,I=P+(D<<22&4294967295|D>>>10),D=C+(O^I&(P^O))+b[4]+4118548399&4294967295,C=I+(D<<7&4294967295|D>>>25),D=O+(P^C&(I^P))+b[5]+1200080426&4294967295,O=C+(D<<12&4294967295|D>>>20),D=P+(I^O&(C^I))+b[6]+2821735955&4294967295,P=O+(D<<17&4294967295|D>>>15),D=I+(C^P&(O^C))+b[7]+4249261313&4294967295,I=P+(D<<22&4294967295|D>>>10),D=C+(O^I&(P^O))+b[8]+1770035416&4294967295,C=I+(D<<7&4294967295|D>>>25),D=O+(P^C&(I^P))+b[9]+2336552879&4294967295,O=C+(D<<12&4294967295|D>>>20),D=P+(I^O&(C^I))+b[10]+4294925233&4294967295,P=O+(D<<17&4294967295|D>>>15),D=I+(C^P&(O^C))+b[11]+2304563134&4294967295,I=P+(D<<22&4294967295|D>>>10),D=C+(O^I&(P^O))+b[12]+1804603682&4294967295,C=I+(D<<7&4294967295|D>>>25),D=O+(P^C&(I^P))+b[13]+4254626195&4294967295,O=C+(D<<12&4294967295|D>>>20),D=P+(I^O&(C^I))+b[14]+2792965006&4294967295,P=O+(D<<17&4294967295|D>>>15),D=I+(C^P&(O^C))+b[15]+1236535329&4294967295,I=P+(D<<22&4294967295|D>>>10),D=C+(P^O&(I^P))+b[1]+4129170786&4294967295,C=I+(D<<5&4294967295|D>>>27),D=O+(I^P&(C^I))+b[6]+3225465664&4294967295,O=C+(D<<9&4294967295|D>>>23),D=P+(C^I&(O^C))+b[11]+643717713&4294967295,P=O+(D<<14&4294967295|D>>>18),D=I+(O^C&(P^O))+b[0]+3921069994&4294967295,I=P+(D<<20&4294967295|D>>>12),D=C+(P^O&(I^P))+b[5]+3593408605&4294967295,C=I+(D<<5&4294967295|D>>>27),D=O+(I^P&(C^I))+b[10]+38016083&4294967295,O=C+(D<<9&4294967295|D>>>23),D=P+(C^I&(O^C))+b[15]+3634488961&4294967295,P=O+(D<<14&4294967295|D>>>18),D=I+(O^C&(P^O))+b[4]+3889429448&4294967295,I=P+(D<<20&4294967295|D>>>12),D=C+(P^O&(I^P))+b[9]+568446438&4294967295,C=I+(D<<5&4294967295|D>>>27),D=O+(I^P&(C^I))+b[14]+3275163606&4294967295,O=C+(D<<9&4294967295|D>>>23),D=P+(C^I&(O^C))+b[3]+4107603335&4294967295,P=O+(D<<14&4294967295|D>>>18),D=I+(O^C&(P^O))+b[8]+1163531501&4294967295,I=P+(D<<20&4294967295|D>>>12),D=C+(P^O&(I^P))+b[13]+2850285829&4294967295,C=I+(D<<5&4294967295|D>>>27),D=O+(I^P&(C^I))+b[2]+4243563512&4294967295,O=C+(D<<9&4294967295|D>>>23),D=P+(C^I&(O^C))+b[7]+1735328473&4294967295,P=O+(D<<14&4294967295|D>>>18),D=I+(O^C&(P^O))+b[12]+2368359562&4294967295,I=P+(D<<20&4294967295|D>>>12),D=C+(I^P^O)+b[5]+4294588738&4294967295,C=I+(D<<4&4294967295|D>>>28),D=O+(C^I^P)+b[8]+2272392833&4294967295,O=C+(D<<11&4294967295|D>>>21),D=P+(O^C^I)+b[11]+1839030562&4294967295,P=O+(D<<16&4294967295|D>>>16),D=I+(P^O^C)+b[14]+4259657740&4294967295,I=P+(D<<23&4294967295|D>>>9),D=C+(I^P^O)+b[1]+2763975236&4294967295,C=I+(D<<4&4294967295|D>>>28),D=O+(C^I^P)+b[4]+1272893353&4294967295,O=C+(D<<11&4294967295|D>>>21),D=P+(O^C^I)+b[7]+4139469664&4294967295,P=O+(D<<16&4294967295|D>>>16),D=I+(P^O^C)+b[10]+3200236656&4294967295,I=P+(D<<23&4294967295|D>>>9),D=C+(I^P^O)+b[13]+681279174&4294967295,C=I+(D<<4&4294967295|D>>>28),D=O+(C^I^P)+b[0]+3936430074&4294967295,O=C+(D<<11&4294967295|D>>>21),D=P+(O^C^I)+b[3]+3572445317&4294967295,P=O+(D<<16&4294967295|D>>>16),D=I+(P^O^C)+b[6]+76029189&4294967295,I=P+(D<<23&4294967295|D>>>9),D=C+(I^P^O)+b[9]+3654602809&4294967295,C=I+(D<<4&4294967295|D>>>28),D=O+(C^I^P)+b[12]+3873151461&4294967295,O=C+(D<<11&4294967295|D>>>21),D=P+(O^C^I)+b[15]+530742520&4294967295,P=O+(D<<16&4294967295|D>>>16),D=I+(P^O^C)+b[2]+3299628645&4294967295,I=P+(D<<23&4294967295|D>>>9),D=C+(P^(I|~O))+b[0]+4096336452&4294967295,C=I+(D<<6&4294967295|D>>>26),D=O+(I^(C|~P))+b[7]+1126891415&4294967295,O=C+(D<<10&4294967295|D>>>22),D=P+(C^(O|~I))+b[14]+2878612391&4294967295,P=O+(D<<15&4294967295|D>>>17),D=I+(O^(P|~C))+b[5]+4237533241&4294967295,I=P+(D<<21&4294967295|D>>>11),D=C+(P^(I|~O))+b[12]+1700485571&4294967295,C=I+(D<<6&4294967295|D>>>26),D=O+(I^(C|~P))+b[3]+2399980690&4294967295,O=C+(D<<10&4294967295|D>>>22),D=P+(C^(O|~I))+b[10]+4293915773&4294967295,P=O+(D<<15&4294967295|D>>>17),D=I+(O^(P|~C))+b[1]+2240044497&4294967295,I=P+(D<<21&4294967295|D>>>11),D=C+(P^(I|~O))+b[8]+1873313359&4294967295,C=I+(D<<6&4294967295|D>>>26),D=O+(I^(C|~P))+b[15]+4264355552&4294967295,O=C+(D<<10&4294967295|D>>>22),D=P+(C^(O|~I))+b[6]+2734768916&4294967295,P=O+(D<<15&4294967295|D>>>17),D=I+(O^(P|~C))+b[13]+1309151649&4294967295,I=P+(D<<21&4294967295|D>>>11),D=C+(P^(I|~O))+b[4]+4149444226&4294967295,C=I+(D<<6&4294967295|D>>>26),D=O+(I^(C|~P))+b[11]+3174756917&4294967295,O=C+(D<<10&4294967295|D>>>22),D=P+(C^(O|~I))+b[2]+718787259&4294967295,P=O+(D<<15&4294967295|D>>>17),D=I+(O^(P|~C))+b[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+O&4294967295}r.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var I=C-this.blockSize,b=this.B,P=this.h,O=0;O<C;){if(P==0)for(;O<=I;)i(this,M,O),O+=this.blockSize;if(typeof M=="string"){for(;O<C;)if(b[P++]=M.charCodeAt(O++),P==this.blockSize){i(this,b),P=0;break}}else for(;O<C;)if(b[P++]=M[O++],P==this.blockSize){i(this,b),P=0;break}}this.h=P,this.o+=C},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var I=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=I&255,I/=256;for(this.u(M),M=Array(16),C=I=0;4>C;++C)for(var b=0;32>b;b+=8)M[I++]=this.g[C]>>>b&255;return M};function o(M,C){var I=h;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=C(M)}function u(M,C){this.h=C;for(var I=[],b=!0,P=M.length-1;0<=P;P--){var O=M[P]|0;b&&O==C||(I[P]=O,b=!1)}this.g=I}var h={};function d(M){return-128<=M&&128>M?o(M,function(C){return new u([C|0],0>C?-1:0)}):new u([M|0],0>M?-1:0)}function f(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return x(f(-M));for(var C=[],I=1,b=0;M>=I;b++)C[b]=M/I|0,I*=4294967296;return new u(C,0)}function g(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return x(g(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=f(Math.pow(C,8)),b=_,P=0;P<M.length;P+=8){var O=Math.min(8,M.length-P),D=parseInt(M.substring(P,P+O),C);8>O?(O=f(Math.pow(C,O)),b=b.j(O).add(f(D))):(b=b.j(I),b=b.add(f(D)))}return b}var _=d(0),v=d(1),T=d(16777216);n=u.prototype,n.m=function(){if(R(this))return-x(this).m();for(var M=0,C=1,I=0;I<this.g.length;I++){var b=this.i(I);M+=(0<=b?b:4294967296+b)*C,C*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(w(this))return"0";if(R(this))return"-"+x(this).toString(M);for(var C=f(Math.pow(M,6)),I=this,b="";;){var P=$(I,C).g;I=U(I,P.j(C));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=P,w(I))return O+b;for(;6>O.length;)O="0"+O;b=O+b}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function w(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function R(M){return M.h==-1}n.l=function(M){return M=U(this,M),R(M)?-1:w(M)?0:1};function x(M){for(var C=M.g.length,I=[],b=0;b<C;b++)I[b]=~M.g[b];return new u(I,~M.h).add(v)}n.abs=function(){return R(this)?x(this):this},n.add=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],b=0,P=0;P<=C;P++){var O=b+(this.i(P)&65535)+(M.i(P)&65535),D=(O>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);b=D>>>16,O&=65535,D&=65535,I[P]=D<<16|O}return new u(I,I[I.length-1]&-2147483648?-1:0)};function U(M,C){return M.add(x(C))}n.j=function(M){if(w(this)||w(M))return _;if(R(this))return R(M)?x(this).j(x(M)):x(x(this).j(M));if(R(M))return x(this.j(x(M)));if(0>this.l(T)&&0>M.l(T))return f(this.m()*M.m());for(var C=this.g.length+M.g.length,I=[],b=0;b<2*C;b++)I[b]=0;for(b=0;b<this.g.length;b++)for(var P=0;P<M.g.length;P++){var O=this.i(b)>>>16,D=this.i(b)&65535,te=M.i(P)>>>16,F=M.i(P)&65535;I[2*b+2*P]+=D*F,L(I,2*b+2*P),I[2*b+2*P+1]+=O*F,L(I,2*b+2*P+1),I[2*b+2*P+1]+=D*te,L(I,2*b+2*P+1),I[2*b+2*P+2]+=O*te,L(I,2*b+2*P+2)}for(b=0;b<C;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=C;b<2*C;b++)I[b]=0;return new u(I,0)};function L(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function j(M,C){this.g=M,this.h=C}function $(M,C){if(w(C))throw Error("division by zero");if(w(M))return new j(_,_);if(R(M))return C=$(x(M),C),new j(x(C.g),x(C.h));if(R(C))return C=$(M,x(C)),new j(x(C.g),C.h);if(30<M.g.length){if(R(M)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var I=v,b=C;0>=b.l(M);)I=z(I),b=z(b);var P=H(I,1),O=H(b,1);for(b=H(b,2),I=H(I,2);!w(b);){var D=O.add(b);0>=D.l(M)&&(P=P.add(I),O=D),b=H(b,1),I=H(I,1)}return C=U(M,P.j(C)),new j(P,C)}for(P=_;0<=M.l(C);){for(I=Math.max(1,Math.floor(M.m()/C.m())),b=Math.ceil(Math.log(I)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),O=f(I),D=O.j(C);R(D)||0<D.l(M);)I-=b,O=f(I),D=O.j(C);w(O)&&(O=v),P=P.add(O),M=U(M,D)}return new j(P,M)}n.A=function(M){return $(this,M).h},n.and=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],b=0;b<C;b++)I[b]=this.i(b)&M.i(b);return new u(I,this.h&M.h)},n.or=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],b=0;b<C;b++)I[b]=this.i(b)|M.i(b);return new u(I,this.h|M.h)},n.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],b=0;b<C;b++)I[b]=this.i(b)^M.i(b);return new u(I,this.h^M.h)};function z(M){for(var C=M.g.length+1,I=[],b=0;b<C;b++)I[b]=M.i(b)<<1|M.i(b-1)>>>31;return new u(I,M.h)}function H(M,C){var I=C>>5;C%=32;for(var b=M.g.length-I,P=[],O=0;O<b;O++)P[O]=0<C?M.i(O+I)>>>C|M.i(O+I+1)<<32-C:M.i(O+I);return new u(P,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gP=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=f,u.fromString=g,Fa=u}).apply(typeof HR<"u"?HR:typeof self<"u"?self:typeof window<"u"?window:{});var fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yP,vd,_P,Nm,B0,vP,EP,bP;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,S){return p==Array.prototype||p==Object.prototype||(p[E]=S.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof fm=="object"&&fm];for(var E=0;E<p.length;++E){var S=p[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(p,E){if(E)e:{var S=r;p=p.split(".");for(var V=0;V<p.length-1;V++){var Y=p[V];if(!(Y in S))break e;S=S[Y]}p=p[p.length-1],V=S[p],E=E(V),E!=V&&E!=null&&e(S,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var S=0,V=!1,Y={next:function(){if(!V&&S<p.length){var re=S++;return{value:E(re,p[re]),done:!1}}return V=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(p){return p||function(){return o(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function f(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,S){return p.call.apply(p.bind,arguments)}function _(p,E,S){if(!p)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,V),p.apply(E,Y)}}return function(){return p.apply(E,arguments)}}function v(p,E,S){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,v.apply(null,arguments)}function T(p,E){var S=Array.prototype.slice.call(arguments,1);return function(){var V=S.slice();return V.push.apply(V,arguments),p.apply(this,V)}}function w(p,E){function S(){}S.prototype=E.prototype,p.aa=E.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(V,Y,re){for(var ge=Array(arguments.length-2),We=2;We<arguments.length;We++)ge[We-2]=arguments[We];return E.prototype[Y].apply(V,ge)}}function R(p){const E=p.length;if(0<E){const S=Array(E);for(let V=0;V<E;V++)S[V]=p[V];return S}return[]}function x(p,E){for(let S=1;S<arguments.length;S++){const V=arguments[S];if(d(V)){const Y=p.length||0,re=V.length||0;p.length=Y+re;for(let ge=0;ge<re;ge++)p[Y+ge]=V[ge]}else p.push(V)}}class U{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function L(p){return/^[\s\xa0]*$/.test(p)}function j(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function $(p){return $[" "](p),p}$[" "]=function(){};var z=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function H(p,E,S){for(const V in p)E.call(S,p[V],V,p)}function M(p,E){for(const S in p)E.call(void 0,p[S],S,p)}function C(p){const E={};for(const S in p)E[S]=p[S];return E}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(p,E){let S,V;for(let Y=1;Y<arguments.length;Y++){V=arguments[Y];for(S in V)p[S]=V[S];for(let re=0;re<I.length;re++)S=I[re],Object.prototype.hasOwnProperty.call(V,S)&&(p[S]=V[S])}}function P(p){var E=1;p=p.split(":");const S=[];for(;0<E&&p.length;)S.push(p.shift()),E--;return p.length&&S.push(p.join(":")),S}function O(p){h.setTimeout(()=>{throw p},0)}function D(){var p=Te;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class te{constructor(){this.h=this.g=null}add(E,S){const V=F.get();V.set(E,S),this.h?this.h.next=V:this.g=V,this.h=V}}var F=new U(()=>new ee,p=>p.reset());class ee{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ue=!1,Te=new te,q=()=>{const p=h.Promise.resolve(void 0);ie=()=>{p.then(ae)}};var ae=()=>{for(var p;p=D();){try{p.h.call(p.g)}catch(S){O(S)}var E=F;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}ue=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};h.addEventListener("test",S,E),h.removeEventListener("test",S,E)}catch{}return p}();function Oe(p,E){if(ve.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,V=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(z){e:{try{$(E.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(E=null)}}else S=="mouseover"?E=p.fromElement:S=="mouseout"&&(E=p.toElement);this.relatedTarget=E,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:De[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Oe.aa.h.call(this)}}w(Oe,ve);var De={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),ze=0;function _t(p,E,S,V,Y){this.listener=p,this.proxy=null,this.src=E,this.type=S,this.capture=!!V,this.ha=Y,this.key=++ze,this.da=this.fa=!1}function $e(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Et(p){this.src=p,this.g={},this.h=0}Et.prototype.add=function(p,E,S,V,Y){var re=p.toString();p=this.g[re],p||(p=this.g[re]=[],this.h++);var ge=at(p,E,V,Y);return-1<ge?(E=p[ge],S||(E.fa=!1)):(E=new _t(E,this.src,re,!!V,Y),E.fa=S,p.push(E)),E};function Je(p,E){var S=E.type;if(S in p.g){var V=p.g[S],Y=Array.prototype.indexOf.call(V,E,void 0),re;(re=0<=Y)&&Array.prototype.splice.call(V,Y,1),re&&($e(E),p.g[S].length==0&&(delete p.g[S],p.h--))}}function at(p,E,S,V){for(var Y=0;Y<p.length;++Y){var re=p[Y];if(!re.da&&re.listener==E&&re.capture==!!S&&re.ha==V)return Y}return-1}var Jt="closure_lm_"+(1e6*Math.random()|0),dr={};function Vn(p,E,S,V,Y){if(Array.isArray(E)){for(var re=0;re<E.length;re++)Vn(p,E[re],S,V,Y);return null}return S=Hf(S),p&&p[Ct]?p.K(E,S,f(V)?!!V.capture:!1,Y):Or(p,E,S,!1,V,Y)}function Or(p,E,S,V,Y,re){if(!E)throw Error("Invalid event type");var ge=f(Y)?!!Y.capture:!!Y,We=Bc(p);if(We||(p[Jt]=We=new Et(p)),S=We.add(E,S,V,ge,re),S.proxy)return S;if(V=Mn(),S.proxy=V,V.src=p,V.listener=S,p.addEventListener)ye||(Y=ge),Y===void 0&&(Y=!1),p.addEventListener(E.toString(),V,Y);else if(p.attachEvent)p.attachEvent(Pl(E.toString()),V);else if(p.addListener&&p.removeListener)p.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Mn(){function p(S){return E.call(p.src,p.listener,S)}const E=Gy;return p}function nr(p,E,S,V,Y){if(Array.isArray(E))for(var re=0;re<E.length;re++)nr(p,E[re],S,V,Y);else V=f(V)?!!V.capture:!!V,S=Hf(S),p&&p[Ct]?(p=p.i,E=String(E).toString(),E in p.g&&(re=p.g[E],S=at(re,S,V,Y),-1<S&&($e(re[S]),Array.prototype.splice.call(re,S,1),re.length==0&&(delete p.g[E],p.h--)))):p&&(p=Bc(p))&&(E=p.g[E.toString()],p=-1,E&&(p=at(E,S,V,Y)),(S=-1<p?E[p]:null)&&ei(S))}function ei(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[Ct])Je(E.i,p);else{var S=p.type,V=p.proxy;E.removeEventListener?E.removeEventListener(S,V,p.capture):E.detachEvent?E.detachEvent(Pl(S),V):E.addListener&&E.removeListener&&E.removeListener(V),(S=Bc(E))?(Je(S,p),S.h==0&&(S.src=null,E[Jt]=null)):$e(p)}}}function Pl(p){return p in dr?dr[p]:dr[p]="on"+p}function Gy(p,E){if(p.da)p=!0;else{E=new Oe(E,this);var S=p.listener,V=p.ha||p.src;p.fa&&ei(p),p=S.call(V,E)}return p}function Bc(p){return p=p[Jt],p instanceof Et?p:null}var rr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hf(p){return typeof p=="function"?p:(p[rr]||(p[rr]=function(E){return p.handleEvent(E)}),p[rr])}function ln(){be.call(this),this.i=new Et(this),this.M=this,this.F=null}w(ln,be),ln.prototype[Ct]=!0,ln.prototype.removeEventListener=function(p,E,S,V){nr(this,p,E,S,V)};function gn(p,E){var S,V=p.F;if(V)for(S=[];V;V=V.F)S.push(V);if(p=p.M,V=E.type||E,typeof E=="string")E=new ve(E,p);else if(E instanceof ve)E.target=E.target||p;else{var Y=E;E=new ve(V,p),b(E,Y)}if(Y=!0,S)for(var re=S.length-1;0<=re;re--){var ge=E.g=S[re];Y=Zi(ge,V,!0,E)&&Y}if(ge=E.g=p,Y=Zi(ge,V,!0,E)&&Y,Y=Zi(ge,V,!1,E)&&Y,S)for(re=0;re<S.length;re++)ge=E.g=S[re],Y=Zi(ge,V,!1,E)&&Y}ln.prototype.N=function(){if(ln.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var S=p.g[E],V=0;V<S.length;V++)$e(S[V]);delete p.g[E],p.h--}}this.F=null},ln.prototype.K=function(p,E,S,V){return this.i.add(String(p),E,!1,S,V)},ln.prototype.L=function(p,E,S,V){return this.i.add(String(p),E,!0,S,V)};function Zi(p,E,S,V){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var Y=!0,re=0;re<E.length;++re){var ge=E[re];if(ge&&!ge.da&&ge.capture==S){var We=ge.listener,cn=ge.ha||ge.src;ge.fa&&Je(p.i,ge),Y=We.call(cn,V)!==!1&&Y}}return Y&&!V.defaultPrevented}function $f(p,E,S){if(typeof p=="function")S&&(p=v(p,S));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:h.setTimeout(p,E||0)}function zc(p){p.g=$f(()=>{p.g=null,p.i&&(p.i=!1,zc(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class Ky extends be{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:zc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mo(p){be.call(this),this.h=p,this.g={}}w(mo,be);var Ks=[];function Ln(p){H(p.g,function(E,S){this.g.hasOwnProperty(S)&&ei(E)},p),p.g={}}mo.prototype.N=function(){mo.aa.N.call(this),Ln(this)},mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qc=h.JSON.stringify,fi=h.JSON.parse,Gn=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function Hc(){}Hc.prototype.h=null;function Gf(p){return p.h||(p.h=p.i())}function Kf(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ws(){ve.call(this,"d")}w(Ws,ve);function ti(){ve.call(this,"c")}w(ti,ve);var Dr={},Qs=null;function Ol(){return Qs=Qs||new ln}Dr.La="serverreachability";function $c(p){ve.call(this,Dr.La,p)}w($c,ve);function Ys(p){const E=Ol();gn(E,new $c(E))}Dr.STAT_EVENT="statevent";function Dl(p,E){ve.call(this,Dr.STAT_EVENT,p),this.stat=E}w(Dl,ve);function Gt(p){const E=Ol();gn(E,new Dl(E,p))}Dr.Ma="timingevent";function Wf(p,E){ve.call(this,Dr.Ma,p),this.size=E}w(Wf,ve);function Xs(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},E)}function Js(){this.g=!0}Js.prototype.xa=function(){this.g=!1};function Qf(p,E,S,V,Y,re){p.info(function(){if(p.g)if(re)for(var ge="",We=re.split("&"),cn=0;cn<We.length;cn++){var Qe=We[cn].split("=");if(1<Qe.length){var vn=Qe[0];Qe=Qe[1];var hn=vn.split("_");ge=2<=hn.length&&hn[1]=="type"?ge+(vn+"="+Qe+"&"):ge+(vn+"=redacted&")}}else ge=null;else ge=re;return"XMLHTTP REQ ("+V+") [attempt "+Y+"]: "+E+`
`+S+`
`+ge})}function Yf(p,E,S,V,Y,re,ge){p.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+Y+"]: "+E+`
`+S+`
`+re+" "+ge})}function Zs(p,E,S,V){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+yn(p,S)+(V?" "+V:"")})}function mi(p,E){p.info(function(){return"TIMEOUT: "+E})}Js.prototype.info=function(){};function yn(p,E){if(!p.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var V=S[p];if(!(2>V.length)){var Y=V[1];if(Array.isArray(Y)&&!(1>Y.length)){var re=Y[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ge=1;ge<Y.length;ge++)Y[ge]=""}}}}return qc(S)}catch{return E}}var un={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},es={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},go;function Nl(){}w(Nl,Hc),Nl.prototype.g=function(){return new XMLHttpRequest},Nl.prototype.i=function(){return{}},go=new Nl;function gi(p,E,S,V){this.j=p,this.i=E,this.l=S,this.R=V||1,this.U=new mo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gc}function Gc(){this.i=null,this.g="",this.h=!1}var ea={},yo={};function ni(p,E,S){p.L=1,p.v=Eo(Lt(E)),p.m=S,p.P=!0,ts(p,null)}function ts(p,E){p.F=Date.now(),xt(p),p.A=Lt(p.v);var S=p.A,V=p.R;Array.isArray(V)||(V=[String(V)]),is(S.i,"t",V),p.C=0,S=p.j.J,p.h=new Gc,p.g=cp(p.j,S?E:null,!p.m),0<p.O&&(p.M=new Ky(v(p.Y,p,p.g),p.O)),E=p.U,S=p.g,V=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Ks[0]=Y.toString()),Y=Ks);for(var re=0;re<Y.length;re++){var ge=Vn(S,Y[re],V||E.handleEvent,!1,E.h||E);if(!ge)break;E.g[ge.key]=ge}E=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),Ys(),Qf(p.i,p.u,p.A,p.l,p.R,p.m)}gi.prototype.ca=function(p){p=p.target;const E=this.M;E&&Lr(p)==3?E.j():this.Y(p)},gi.prototype.Y=function(p){try{if(p==this.g)e:{const hn=Lr(this.g);var E=this.g.Ba();const ls=this.g.Z();if(!(3>hn)&&(hn!=3||this.g&&(this.h.h||this.g.oa()||np(this.g)))){this.J||hn!=4||E==7||(E==8||0>=ls?Ys(3):Ys(2)),kl(this);var S=this.g.Z();this.X=S;t:if(ta(this)){var V=np(this.g);p="";var Y=V.length,re=Lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ir(this),fr(this);var ge="";break t}this.h.i=new h.TextDecoder}for(E=0;E<Y;E++)this.h.h=!0,p+=this.h.i.decode(V[E],{stream:!(re&&E==Y-1)});V.length=0,this.h.g+=p,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=S==200,Yf(this.i,this.u,this.A,this.l,this.R,hn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var We,cn=this.g;if((We=cn.g?cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(We)){var Qe=We;break t}}Qe=null}if(S=Qe)Zs(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pr(this,S);else{this.o=!1,this.s=3,Gt(12),ir(this),fr(this);break e}}if(this.P){S=!0;let In;for(;!this.J&&this.C<ge.length;)if(In=na(this,ge),In==yo){hn==4&&(this.s=4,Gt(14),S=!1),Zs(this.i,this.l,null,"[Incomplete Response]");break}else if(In==ea){this.s=4,Gt(15),Zs(this.i,this.l,ge,"[Invalid Chunk]"),S=!1;break}else Zs(this.i,this.l,In,null),pr(this,In);if(ta(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hn!=4||ge.length!=0||this.h.h||(this.s=1,Gt(16),S=!1),this.o=this.o&&S,!S)Zs(this.i,this.l,ge,"[Invalid Chunked Response]"),ir(this),fr(this);else if(0<ge.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Io(vn),vn.M=!0,Gt(11))}}else Zs(this.i,this.l,ge,null),pr(this,ge);hn==4&&ir(this),this.o&&!this.J&&(hn==4?op(this.j,this):(this.o=!1,xt(this)))}else Zy(this.g),S==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),ir(this),fr(this)}}}catch{}finally{}};function ta(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function na(p,E){var S=p.C,V=E.indexOf(`
`,S);return V==-1?yo:(S=Number(E.substring(S,V)),isNaN(S)?ea:(V+=1,V+S>E.length?yo:(E=E.slice(V,V+S),p.C=V+S,E)))}gi.prototype.cancel=function(){this.J=!0,ir(this)};function xt(p){p.S=Date.now()+p.I,Kc(p,p.I)}function Kc(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Xs(v(p.ba,p),E)}function kl(p){p.B&&(h.clearTimeout(p.B),p.B=null)}gi.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(mi(this.i,this.A),this.L!=2&&(Ys(),Gt(17)),ir(this),this.s=2,fr(this)):Kc(this,this.S-p)};function fr(p){p.j.G==0||p.J||op(p.j,p)}function ir(p){kl(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,Ln(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function pr(p,E){try{var S=p.j;if(S.G!=0&&(S.g==p||ra(S.h,p))){if(!p.K&&ra(S.h,p)&&S.G==3){try{var V=S.Da.g.parse(E)}catch{V=null}if(Array.isArray(V)&&V.length==3){var Y=V;if(Y[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)Hl(S),zl(S);else break e;ih(S),Gt(18)}}else S.za=Y[1],0<S.za-S.T&&37500>Y[2]&&S.F&&S.v==0&&!S.C&&(S.C=Xs(v(S.Za,S),6e3));if(1>=Xf(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else os(S,11)}else if((p.K||S.g==p)&&Hl(S),!L(E))for(Y=S.Da.g.parse(E),E=0;E<Y.length;E++){let Qe=Y[E];if(S.T=Qe[0],Qe=Qe[1],S.G==2)if(Qe[0]=="c"){S.K=Qe[1],S.ia=Qe[2];const vn=Qe[3];vn!=null&&(S.la=vn,S.j.info("VER="+S.la));const hn=Qe[4];hn!=null&&(S.Aa=hn,S.j.info("SVER="+S.Aa));const ls=Qe[5];ls!=null&&typeof ls=="number"&&0<ls&&(V=1.5*ls,S.L=V,S.j.info("backChannelRequestTimeoutMs_="+V)),V=S;const In=p.g;if(In){const Ti=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var re=V.h;re.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(ia(re,re.h),re.h=null))}if(V.D){const ah=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;ah&&(V.ya=ah,Ze(V.I,V.D,ah))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),V=S;var ge=p;if(V.qa=up(V,V.J?V.ia:null,V.W),ge.K){Nr(V.h,ge);var We=ge,cn=V.L;cn&&(We.I=cn),We.B&&(kl(We),xt(We)),V.g=ge}else sp(V);0<S.i.length&&ql(S)}else Qe[0]!="stop"&&Qe[0]!="close"||os(S,7);else S.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?os(S,7):nh(S):Qe[0]!="noop"&&S.l&&S.l.ta(Qe),S.v=0)}}Ys(4)}catch{}}var Wy=class{constructor(p,E){this.g=p,this.map=E}};function Wc(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qc(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Xf(p){return p.h?1:p.g?p.g.size:0}function ra(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function ia(p,E){p.g?p.g.add(E):p.h=E}function Nr(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Wc.prototype.cancel=function(){if(this.i=Kn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Kn(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const S of p.g.values())E=E.concat(S.D);return E}return R(p.i)}function Jf(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(d(p)){for(var E=[],S=p.length,V=0;V<S;V++)E.push(p[V]);return E}E=[],S=0;for(V in p)E[S++]=p[V];return E}function Qy(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(d(p)||typeof p=="string"){var E=[];p=p.length;for(var S=0;S<p;S++)E.push(S);return E}E=[],S=0;for(const V in p)E[S++]=V;return E}}}function _o(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(d(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var S=Qy(p),V=Jf(p),Y=V.length,re=0;re<Y;re++)E.call(void 0,V[re],S&&S[re],p)}var Yc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vl(p,E){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var V=p[S].indexOf("="),Y=null;if(0<=V){var re=p[S].substring(0,V);Y=p[S].substring(V+1)}else re=p[S];E(re,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ns(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof ns){this.h=p.h,sa(this,p.j),this.o=p.o,this.g=p.g,vo(this,p.s),this.l=p.l;var E=p.i,S=new yi;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),Ml(this,S),this.m=p.m}else p&&(E=String(p).match(Yc))?(this.h=!1,sa(this,E[1]||"",!0),this.o=aa(E[2]||""),this.g=aa(E[3]||"",!0),vo(this,E[4]),this.l=aa(E[5]||"",!0),Ml(this,E[6]||"",!0),this.m=aa(E[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}ns.prototype.toString=function(){var p=[],E=this.j;E&&p.push(kr(E,Xc,!0),":");var S=this.g;return(S||E=="file")&&(p.push("//"),(E=this.o)&&p.push(kr(E,Xc,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(kr(S,S.charAt(0)=="/"?Jc:Zf,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",kr(S,Jy)),p.join("")};function Lt(p){return new ns(p)}function sa(p,E,S){p.j=S?aa(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function vo(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function Ml(p,E,S){E instanceof yi?(p.i=E,Zc(p.i,p.h)):(S||(E=kr(E,Xy)),p.i=new yi(E,p.h))}function Ze(p,E,S){p.i.set(E,S)}function Eo(p){return Ze(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function aa(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function kr(p,E,S){return typeof p=="string"?(p=encodeURI(p).replace(E,Yy),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Yy(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Xc=/[#\/\?@]/g,Zf=/[#\?:]/g,Jc=/[#\?]/g,Xy=/[#\?@]/g,Jy=/#/g;function yi(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Vr(p){p.g||(p.g=new Map,p.h=0,p.i&&Vl(p.i,function(E,S){p.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}n=yi.prototype,n.add=function(p,E){Vr(this),this.i=null,p=ss(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(E),this.h+=1,this};function Ll(p,E){Vr(p),E=ss(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function rs(p,E){return Vr(p),E=ss(p,E),p.g.has(E)}n.forEach=function(p,E){Vr(this),this.g.forEach(function(S,V){S.forEach(function(Y){p.call(E,Y,V,this)},this)},this)},n.na=function(){Vr(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let V=0;V<E.length;V++){const Y=p[V];for(let re=0;re<Y.length;re++)S.push(E[V])}return S},n.V=function(p){Vr(this);let E=[];if(typeof p=="string")rs(this,p)&&(E=E.concat(this.g.get(ss(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)E=E.concat(p[S])}return E},n.set=function(p,E){return Vr(this),this.i=null,p=ss(this,p),rs(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function is(p,E,S){Ll(p,E),0<S.length&&(p.i=null,p.g.set(ss(p,E),R(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var V=E[S];const re=encodeURIComponent(String(V)),ge=this.V(V);for(V=0;V<ge.length;V++){var Y=re;ge[V]!==""&&(Y+="="+encodeURIComponent(String(ge[V]))),p.push(Y)}}return this.i=p.join("&")};function ss(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function Zc(p,E){E&&!p.j&&(Vr(p),p.i=null,p.g.forEach(function(S,V){var Y=V.toLowerCase();V!=Y&&(Ll(this,V),is(this,Y,S))},p)),p.j=E}function ep(p,E){const S=new Js;if(h.Image){const V=new Image;V.onload=T(Mr,S,"TestLoadImage: loaded",!0,E,V),V.onerror=T(Mr,S,"TestLoadImage: error",!1,E,V),V.onabort=T(Mr,S,"TestLoadImage: abort",!1,E,V),V.ontimeout=T(Mr,S,"TestLoadImage: timeout",!1,E,V),h.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=p}else E(!1)}function bo(p,E){const S=new Js,V=new AbortController,Y=setTimeout(()=>{V.abort(),Mr(S,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:V.signal}).then(re=>{clearTimeout(Y),re.ok?Mr(S,"TestPingServer: ok",!0,E):Mr(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Y),Mr(S,"TestPingServer: error",!1,E)})}function Mr(p,E,S,V,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),V(S)}catch{}}function wo(){this.g=new Gn}function _i(p,E,S){const V=S||"";try{_o(p,function(Y,re){let ge=Y;f(Y)&&(ge=qc(Y)),E.push(V+re+"="+encodeURIComponent(ge))})}catch(Y){throw E.push(V+"type="+encodeURIComponent("_badmap")),Y}}function oa(p){this.l=p.Ub||null,this.j=p.eb||!1}w(oa,Hc),oa.prototype.g=function(){return new as(this.l,this.j)},oa.prototype.i=function(p){return function(){return p}}({});function as(p,E){ln.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(as,ln),n=as.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,Ei(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||h).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eh(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function eh(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?vi(this):Ei(this),this.readyState==3&&eh(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,vi(this))},n.Qa=function(p){this.g&&(this.response=p,vi(this))},n.ga=function(){this.g&&vi(this)};function vi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Ei(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=E.next();return p.join(`\r
`)};function Ei(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(as.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function th(p){let E="";return H(p,function(S,V){E+=V,E+=":",E+=S,E+=`\r
`}),E}function _n(p,E,S){e:{for(V in S){var V=!1;break e}V=!0}V||(S=th(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):Ze(p,E,S))}function st(p){ln.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(st,ln);var Ul=/^https?$/i,To=["POST","PUT"];n=st.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,S,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():go.g(),this.v=this.o?Gf(this.o):Gf(go),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(re){tp(this,re);return}if(p=S||"",S=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var Y in V)S.set(Y,V[Y]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const re of V.keys())S.set(re,V.get(re));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(S.keys()).find(re=>re.toLowerCase()=="content-type"),Y=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(To,E,void 0))||V||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ge]of S)this.g.setRequestHeader(re,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{So(this),this.u=!0,this.g.send(p),this.u=!1}catch(re){tp(this,re)}};function tp(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,jl(p),bi(p)}function jl(p){p.A||(p.A=!0,gn(p,"complete"),gn(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,gn(this,"complete"),gn(this,"abort"),bi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fl(this):this.bb())},n.bb=function(){Fl(this)};function Fl(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Lr(p)!=4||p.Z()!=2)){if(p.u&&Lr(p)==4)$f(p.Ea,0,p);else if(gn(p,"readystatechange"),Lr(p)==4){p.h=!1;try{const ge=p.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var V;if(V=ge===0){var Y=String(p.D).match(Yc)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),V=!Ul.test(Y?Y.toLowerCase():"")}S=V}if(S)gn(p,"complete"),gn(p,"success");else{p.m=6;try{var re=2<Lr(p)?p.g.statusText:""}catch{re=""}p.l=re+" ["+p.Z()+"]",jl(p)}}finally{bi(p)}}}}function bi(p,E){if(p.g){So(p);const S=p.g,V=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||gn(p,"ready");try{S.onreadystatechange=V}catch{}}}function So(p){p.I&&(h.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Lr(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Lr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),fi(E)}};function np(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Zy(p){const E={};p=(p.g&&2<=Lr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<p.length;V++){if(L(p[V]))continue;var S=P(p[V]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const re=E[Y]||[];E[Y]=re,re.push(S)}M(E,function(V){return V.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ao(p,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||E}function Bl(p){this.Aa=0,this.i=[],this.j=new Js,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ao("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ao("baseRetryDelayMs",5e3,p),this.cb=Ao("retryDelaySeedMs",1e4,p),this.Wa=Ao("forwardChannelMaxRetries",2,p),this.wa=Ao("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Wc(p&&p.concurrentRequestLimit),this.Da=new wo,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Bl.prototype,n.la=8,n.G=1,n.connect=function(p,E,S,V){Gt(0),this.W=p,this.H=E||{},S&&V!==void 0&&(this.H.OSID=S,this.H.OAID=V),this.F=this.X,this.I=up(this,null,this.W),ql(this)};function nh(p){if(rp(p),p.G==3){var E=p.U++,S=Lt(p.I);if(Ze(S,"SID",p.K),Ze(S,"RID",E),Ze(S,"TYPE","terminate"),Ro(p,S),E=new gi(p,p.j,E),E.L=2,E.v=Eo(Lt(S)),S=!1,h.navigator&&h.navigator.sendBeacon)try{S=h.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&h.Image&&(new Image().src=E.v,S=!0),S||(E.g=cp(E.j,null),E.g.ea(E.v)),E.F=Date.now(),xt(E)}lp(p)}function zl(p){p.g&&(Io(p),p.g.cancel(),p.g=null)}function rp(p){zl(p),p.u&&(h.clearTimeout(p.u),p.u=null),Hl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function ql(p){if(!Qc(p.h)&&!p.s){p.s=!0;var E=p.Ga;ie||q(),ue||(ie(),ue=!0),Te.add(E,p),p.B=0}}function e_(p,E){return Xf(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Xs(v(p.Ga,p,E),sh(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new gi(this,this.j,p);let re=this.o;if(this.S&&(re?(re=C(re),b(re,this.S)):re=this.S),this.m!==null||this.O||(Y.H=re,re=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var V=this.i[S];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(E+=V,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=ip(this,Y,E),S=Lt(this.I),Ze(S,"RID",p),Ze(S,"CVER",22),this.D&&Ze(S,"X-HTTP-Session-Id",this.D),Ro(this,S),re&&(this.O?E="headers="+encodeURIComponent(String(th(re)))+"&"+E:this.m&&_n(S,this.m,re)),ia(this.h,Y),this.Ua&&Ze(S,"TYPE","init"),this.P?(Ze(S,"$req",E),Ze(S,"SID","null"),Y.T=!0,ni(Y,S,null)):ni(Y,S,E),this.G=2}}else this.G==3&&(p?rh(this,p):this.i.length==0||Qc(this.h)||rh(this))};function rh(p,E){var S;E?S=E.l:S=p.U++;const V=Lt(p.I);Ze(V,"SID",p.K),Ze(V,"RID",S),Ze(V,"AID",p.T),Ro(p,V),p.m&&p.o&&_n(V,p.m,p.o),S=new gi(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),E&&(p.i=E.D.concat(p.i)),E=ip(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),ia(p.h,S),ni(S,V,E)}function Ro(p,E){p.H&&H(p.H,function(S,V){Ze(E,V,S)}),p.l&&_o({},function(S,V){Ze(E,V,S)})}function ip(p,E,S){S=Math.min(p.i.length,S);var V=p.l?v(p.l.Na,p.l,p):null;e:{var Y=p.i;let re=-1;for(;;){const ge=["count="+S];re==-1?0<S?(re=Y[0].g,ge.push("ofs="+re)):re=0:ge.push("ofs="+re);let We=!0;for(let cn=0;cn<S;cn++){let Qe=Y[cn].g;const vn=Y[cn].map;if(Qe-=re,0>Qe)re=Math.max(0,Y[cn].g-100),We=!1;else try{_i(vn,ge,"req"+Qe+"_")}catch{V&&V(vn)}}if(We){V=ge.join("&");break e}}}return p=p.i.splice(0,S),E.D=p,V}function sp(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;ie||q(),ue||(ie(),ue=!0),Te.add(E,p),p.v=0}}function ih(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Xs(v(p.Fa,p),sh(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,ap(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Xs(v(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),zl(this),ap(this))};function Io(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function ap(p){p.g=new gi(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=Lt(p.qa);Ze(E,"RID","rpc"),Ze(E,"SID",p.K),Ze(E,"AID",p.T),Ze(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&Ze(E,"TO",p.ja),Ze(E,"TYPE","xmlhttp"),Ro(p,E),p.m&&p.o&&_n(E,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=Eo(Lt(E)),S.m=null,S.P=!0,ts(S,p)}n.Za=function(){this.C!=null&&(this.C=null,zl(this),ih(this),Gt(19))};function Hl(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function op(p,E){var S=null;if(p.g==E){Hl(p),Io(p),p.g=null;var V=2}else if(ra(p.h,E))S=E.D,Nr(p.h,E),V=1;else return;if(p.G!=0){if(E.o)if(V==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var Y=p.B;V=Ol(),gn(V,new Wf(V,S)),ql(p)}else sp(p);else if(Y=E.s,Y==3||Y==0&&0<E.X||!(V==1&&e_(p,E)||V==2&&ih(p)))switch(S&&0<S.length&&(E=p.h,E.i=E.i.concat(S)),Y){case 1:os(p,5);break;case 4:os(p,10);break;case 3:os(p,6);break;default:os(p,2)}}}function sh(p,E){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*E}function os(p,E){if(p.j.info("Error code "+E),E==2){var S=v(p.fb,p),V=p.Xa;const Y=!V;V=new ns(V||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||sa(V,"https"),Eo(V),Y?ep(V.toString(),S):bo(V.toString(),S)}else Gt(2);p.G=0,p.l&&p.l.sa(E),lp(p),rp(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function lp(p){if(p.G=0,p.ka=[],p.l){const E=Kn(p.h);(E.length!=0||p.i.length!=0)&&(x(p.ka,E),x(p.ka,p.i),p.h.i.length=0,R(p.i),p.i.length=0),p.l.ra()}}function up(p,E,S){var V=S instanceof ns?Lt(S):new ns(S);if(V.g!="")E&&(V.g=E+"."+V.g),vo(V,V.s);else{var Y=h.location;V=Y.protocol,E=E?E+"."+Y.hostname:Y.hostname,Y=+Y.port;var re=new ns(null);V&&sa(re,V),E&&(re.g=E),Y&&vo(re,Y),S&&(re.l=S),V=re}return S=p.D,E=p.ya,S&&E&&Ze(V,S,E),Ze(V,"VER",p.la),Ro(p,V),V}function cp(p,E,S){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new st(new oa({eb:S})):new st(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function hp(){}n=hp.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $l(){}$l.prototype.g=function(p,E){return new Wn(p,E)};function Wn(p,E){ln.call(this),this.g=new Bl(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!L(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!L(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new wi(this)}w(Wn,ln),Wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wn.prototype.close=function(){nh(this.g)},Wn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=qc(p),p=S);E.i.push(new Wy(E.Ya++,p)),E.G==3&&ql(E)},Wn.prototype.N=function(){this.g.l=null,delete this.j,nh(this.g),delete this.g,Wn.aa.N.call(this)};function dp(p){Ws.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const S in E){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}w(dp,Ws);function fp(){ti.call(this),this.status=1}w(fp,ti);function wi(p){this.g=p}w(wi,hp),wi.prototype.ua=function(){gn(this.g,"a")},wi.prototype.ta=function(p){gn(this.g,new dp(p))},wi.prototype.sa=function(p){gn(this.g,new fp)},wi.prototype.ra=function(){gn(this.g,"b")},$l.prototype.createWebChannel=$l.prototype.g,Wn.prototype.send=Wn.prototype.o,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,bP=function(){return new $l},EP=function(){return Ol()},vP=Dr,B0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},un.NO_ERROR=0,un.TIMEOUT=8,un.HTTP_ERROR=6,Nm=un,es.COMPLETE="complete",_P=es,Kf.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",ln.prototype.listen=ln.prototype.K,vd=Kf,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,yP=st}).apply(typeof fm<"u"?fm:typeof self<"u"?self:typeof window<"u"?window:{});const $R="@firebase/firestore",GR="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new Bg("@firebase/firestore");function Pu(){return Wa.logLevel}function uF(n){Wa.setLogLevel(n)}function pe(n,...e){if(Wa.logLevel<=Be.DEBUG){const t=e.map(yb);Wa.debug(`Firestore (${Cc}): ${n}`,...t)}}function Wt(n,...e){if(Wa.logLevel<=Be.ERROR){const t=e.map(yb);Wa.error(`Firestore (${Cc}): ${n}`,...t)}}function Wi(n,...e){if(Wa.logLevel<=Be.WARN){const t=e.map(yb);Wa.warn(`Firestore (${Cc}): ${n}`,...t)}}function yb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n="Unexpected state"){const e=`FIRESTORE (${Cc}) INTERNAL ASSERTION FAILED: `+n;throw Wt(e),new Error(e)}function Ae(n,e){n||we()}function cF(n,e){n||we()}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Zn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Sn.UNAUTHENTICATED))}shutdown(){}}class dF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fF{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new kn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new kn,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},h=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new kn)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new wP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new Sn(e)}}class pF{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class mF{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new pF(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gF{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Tt(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new KR(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string"),this.R=t.token,new KR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=yF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Ne(n,e){return n<e?-1:n>e?1:0}function Ju(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function SP(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=-62135596800,QR=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*QR);return new Rt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<WR)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QR}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-WR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Rt(0,0))}static max(){return new Ie(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="__name__";class Oi{constructor(e,t,r){t===void 0?t=0:t>e.length&&we(),r===void 0?r=e.length-t:r>e.length-t&&we(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Oi.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Oi.isNumericId(e),i=Oi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Oi.extractNumericId(e).compare(Oi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fa.fromString(e.substring(4,e.length-2))}}class qe extends Oi{construct(e,t,r){return new qe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new qe(t)}static emptyPath(){return new qe([])}}const _F=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends Oi{construct(e,t,r){return new St(e,t,r)}static isValidIdentifier(e){return _F.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YR}static keyField(){return new St([YR])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(o(),i++)}if(o(),u)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(t)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(qe.fromString(e))}static fromName(e){return new _e(qe.fromString(e).popFirst(5))}static empty(){return new _e(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=-1;class cg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function z0(n){return n.fields.find(e=>e.kind===2)}function Qo(n){return n.fields.filter(e=>e.kind!==2)}cg.UNKNOWN_ID=-1;class km{constructor(e,t){this.fieldPath=e,this.kind=t}}class Gd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Gd(0,Pr.min())}}function AP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new Rt(t+1,0):new Rt(t,r));return new Pr(i,_e.empty(),e)}function RP(n){return new Pr(n.readTime,n.key,Zu)}class Pr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Pr(Ie.min(),_e.empty(),Zu)}static max(){return new Pr(Ie.max(),_e.empty(),Zu)}}function _b(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Ne(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==IP)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let i=0,o=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++o,u&&o===i&&t()},d=>r(d))}),u=!0,o===i&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(i=>i?X.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new X((r,i)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next(g=>{u[f]=g,++h,h===o&&r(u)},g=>i(g))}})}static doWhile(e,t){return new X((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="SimpleDb";class ey{static open(e,t,r,i){try{return new ey(t,e.transaction(i,r))}catch(o){throw new xd(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new kn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new xd(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=vb(r.target.error);this.m.reject(new xd(e,i))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(pe(Tr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new EF(t)}}class zi{static delete(e){return pe(Tr,"Removing database:",e),Xo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Fd())return!1;if(zi.v())return!0;const e=Vt(),t=zi.C(e),r=0<t&&t<10,i=xP(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.O=r,zi.C(Vt())===12.2&&Wt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(pe(Tr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const u=o.target.result;t(u)},i.onblocked=()=>{r(new xd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new de(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new de(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new xd(e,u))},i.onupgradeneeded=o=>{pe(Tr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.O.B(u,i.transaction,o.oldVersion,this.version).next(()=>{pe(Tr,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.N(e);const h=ey.open(this.db,e,o?"readonly":"readwrite",r),d=i(h).next(f=>(h.S(),f)).catch(f=>(h.abort(f),X.reject(f))).toPromise();return d.catch(()=>{}),await h.p,d}catch(h){const d=h,f=d.name!=="FirebaseError"&&u<3;if(pe(Tr,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function xP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class vF{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return Xo(this.q.delete())}}class xd extends de{constructor(e,t){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function co(n){return n.name==="IndexedDbTransactionError"}class EF{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(pe(Tr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(pe(Tr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Xo(r)}add(e){return pe(Tr,"ADD",this.store.name,e,e),Xo(this.store.add(e))}get(e){return Xo(this.store.get(e)).next(t=>(t===void 0&&(t=null),pe(Tr,"GET",this.store.name,e,t),t))}delete(e){return pe(Tr,"DELETE",this.store.name,e),Xo(this.store.delete(e))}count(){return pe(Tr,"COUNT",this.store.name),Xo(this.store.count())}G(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new X((u,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{u(d.target.result)}})}{const o=this.cursor(r),u=[];return this.j(o,(h,d)=>{u.push(d)}).next(()=>u)}}H(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new X((i,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}J(e,t){pe(Tr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(o,u,h)=>h.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new X((r,i)=>{t.onerror=o=>{const u=vb(o.target.error);i(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}j(e,t){const r=[];return new X((i,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const d=new vF(h),f=t(h.primaryKey,h.value,d);if(f instanceof X){const g=f.catch(_=>(d.done(),X.reject(_)));r.push(g)}d.isDone?i():d.U===null?h.continue():h.continue(d.U)}}).next(()=>X.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Xo(n){return new X((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=vb(r.target.error);t(i)}})}let XR=!1;function vb(n){const e=zi.C(Vt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return XR||(XR=!0,setTimeout(()=>{throw r},0)),r}}return n}const Pd="IndexBackfiller";class bF{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){pe(Pd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ee.ne();pe(Pd,`Documents written: ${t}`)}catch(t){co(t)?pe(Pd,"Ignoring IndexedDB error during index backfill: ",t):await uo(t)}await this.te(6e4)})}}class wF{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){const r=new Set;let i=t,o=!0;return X.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!r.has(u))return pe(Pd,`Processing collection: ${u}`),this.ie(e,u,i).next(h=>{i-=h,r.add(u)});o=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.se(i,o)).next(h=>(pe(Pd,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}se(e,t){let r=e;return t.changes.forEach((i,o)=>{const u=RP(o);_b(u,r)>0&&(r=u)}),new Pr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}or.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=-1;function Sf(n){return n==null}function Kd(n){return n===0&&1/n==-1/0}function PP(n){return typeof n=="number"&&Number.isInteger(n)&&!Kd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="";function Hn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=JR(e)),e=TF(n.get(t),e);return JR(e)}function TF(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case hg:t+="";break;default:t+=o}}return t}function JR(n){return n+hg+""}function Fi(n){const e=n.length;if(Ae(e>=2),e===2)return Ae(n.charAt(0)===hg&&n.charAt(1)===""),qe.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const u=n.indexOf(hg,o);switch((u<0||u>t)&&we(),n.charAt(u+1)){case"":const h=n.substring(o,u);let d;i.length===0?d=h:(i+=h,d=i,i=""),r.push(d);break;case"":i+=n.substring(o,u),i+="\0";break;case"":i+=n.substring(o,u+1);break;default:we()}o=u+2}return new qe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="remoteDocuments",Af="owner",vu="owner",Wd="mutationQueues",SF="userId",li="mutations",ZR="batchId",rl="userMutationsIndex",eI=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(n,e){return[n,Hn(e)]}function OP(n,e,t){return[n,Hn(e),t]}const AF={},ec="documentMutations",dg="remoteDocumentsV14",RF=["prefixPath","collectionGroup","readTime","documentId"],Mm="documentKeyIndex",IF=["prefixPath","collectionGroup","documentId"],DP="collectionGroupIndex",CF=["collectionGroup","readTime","prefixPath","documentId"],Qd="remoteDocumentGlobal",q0="remoteDocumentGlobalKey",tc="targets",NP="queryTargetsIndex",xF=["canonicalId","targetId"],nc="targetDocuments",PF=["targetId","path"],Eb="documentTargetsIndex",OF=["path","targetId"],fg="targetGlobalKey",ul="targetGlobal",Yd="collectionParents",DF=["collectionId","parent"],rc="clientMetadata",NF="clientId",ty="bundles",kF="bundleId",ny="namedQueries",VF="name",bb="indexConfiguration",MF="indexId",H0="collectionGroupIndex",LF="collectionGroup",pg="indexState",UF=["indexId","uid"],kP="sequenceNumberIndex",jF=["uid","sequenceNumber"],mg="indexEntries",FF=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],VP="documentKeyIndex",BF=["indexId","uid","orderedDocumentKey"],ry="documentOverlays",zF=["userId","collectionPath","documentId"],$0="collectionPathOverlayIndex",qF=["userId","collectionPath","largestBatchId"],MP="collectionGroupOverlayIndex",HF=["userId","collectionGroup","largestBatchId"],wb="globals",$F="name",LP=[Wd,li,ec,Yo,tc,Af,ul,nc,rc,Qd,Yd,ty,ny],GF=[...LP,ry],UP=[Wd,li,ec,dg,tc,Af,ul,nc,rc,Qd,Yd,ty,ny,ry],jP=UP,Tb=[...jP,bb,pg,mg],KF=Tb,WF=[...Tb,wb];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0 extends CP{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function mn(n,e){const t=Ee(n);return zi.M(t.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ho(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||On.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,On.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,On.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pm(this.root,e,this.comparator,!1)}getReverseIterator(){return new pm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pm(this.root,e,this.comparator,!0)}}class pm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class On{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??On.RED,this.left=i??On.EMPTY,this.right=o??On.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new On(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return On.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return On.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,On.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,On.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,r,i,o){return this}insert(e,t,r){return new On(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nI(this.data.getIterator())}getIteratorFrom(e){return new nI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lt(this.comparator);return t.data=e,t}}class nI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Eu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new lr([])}unionWith(e){let t=new lt(St.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new lr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ju(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new BP("Invalid base64 string: "+o):o}}(e);return new qt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const YF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(n){if(Ae(!!n),typeof n=="string"){let e=0;const t=YF.exec(n);if(Ae(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ls(n){return typeof n=="string"?qt.fromBase64String(n):qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="server_timestamp",qP="__type__",HP="__previous_value__",$P="__local_write_time__";function iy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[qP])===null||t===void 0?void 0:t.stringValue)===zP}function sy(n){const e=n.mapValue.fields[HP];return iy(e)?sy(e):e}function Xd(n){const e=Ms(n.mapValue.fields[$P].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,t,r,i,o,u,h,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=f}}const K0="(default)";class Qa{constructor(e,t){this.projectId=e,this.database=t||K0}static empty(){return new Qa("","")}get isDefaultDatabase(){return this.database===K0}isEqual(e){return e instanceof Qa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="__type__",GP="__max__",Va={mapValue:{fields:{__type__:{stringValue:GP}}}},Ab="__vector__",ic="value",Lm={nullValue:"NULL_VALUE"};function Ya(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?iy(n)?4:KP(n)?9007199254740991:ay(n)?10:11:we()}function Qi(n,e){if(n===e)return!0;const t=Ya(n);if(t!==Ya(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xd(n).isEqual(Xd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Ms(i.timestampValue),h=Ms(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ls(i.bytesValue).isEqual(Ls(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=wt(i.doubleValue),h=wt(o.doubleValue);return u===h?Kd(u)===Kd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Ju(n.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},h=o.mapValue.fields||{};if(tI(u)!==tI(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Qi(u[d],h[d])))return!1;return!0}(n,e);default:return we()}}function Jd(n,e){return(n.values||[]).find(t=>Qi(t,e))!==void 0}function Xa(n,e){if(n===e)return 0;const t=Ya(n),r=Ya(e);if(t!==r)return Ne(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=wt(o.integerValue||o.doubleValue),d=wt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,e);case 3:return rI(n.timestampValue,e.timestampValue);case 4:return rI(Xd(n),Xd(e));case 5:return Ne(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Ls(o),d=Ls(u);return h.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),d=u.split("/");for(let f=0;f<h.length&&f<d.length;f++){const g=Ne(h[f],d[f]);if(g!==0)return g}return Ne(h.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=Ne(wt(o.latitude),wt(u.latitude));return h!==0?h:Ne(wt(o.longitude),wt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return iI(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,d,f,g;const _=o.fields||{},v=u.fields||{},T=(h=_[ic])===null||h===void 0?void 0:h.arrayValue,w=(d=v[ic])===null||d===void 0?void 0:d.arrayValue,R=Ne(((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0,((g=w==null?void 0:w.values)===null||g===void 0?void 0:g.length)||0);return R!==0?R:iI(T,w)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Va.mapValue&&u===Va.mapValue)return 0;if(o===Va.mapValue)return 1;if(u===Va.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),f=u.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let _=0;_<d.length&&_<g.length;++_){const v=Ne(d[_],g[_]);if(v!==0)return v;const T=Xa(h[d[_]],f[g[_]]);if(T!==0)return T}return Ne(d.length,g.length)}(n.mapValue,e.mapValue);default:throw we()}}function rI(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ne(n,e);const t=Ms(n),r=Ms(e),i=Ne(t.seconds,r.seconds);return i!==0?i:Ne(t.nanos,r.nanos)}function iI(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Xa(t[i],r[i]);if(o)return o}return Ne(t.length,r.length)}function sc(n){return W0(n)}function W0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ms(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ls(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=W0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${W0(t.fields[u])}`;return i+"}"}(n.mapValue):we()}function Um(n){switch(Ya(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sy(n);return e?16+Um(e):16;case 5:return 2*n.stringValue.length;case 6:return Ls(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Um(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ho(r.fields,(o,u)=>{i+=o.length+Um(u)}),i}(n.mapValue);default:throw we()}}function dl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Q0(n){return!!n&&"integerValue"in n}function Zd(n){return!!n&&"arrayValue"in n}function sI(n){return!!n&&"nullValue"in n}function aI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jm(n){return!!n&&"mapValue"in n}function ay(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Sb])===null||t===void 0?void 0:t.stringValue)===Ab}function Od(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ho(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Od(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Od(n.arrayValue.values[t]);return e}return Object.assign({},n)}function KP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===GP}const WP={mapValue:{fields:{[Sb]:{stringValue:Ab},[ic]:{arrayValue:{}}}}};function JF(n){return"nullValue"in n?Lm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?dl(Qa.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?ay(n)?WP:{mapValue:{}}:we()}function ZF(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?dl(Qa.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?WP:"mapValue"in n?ay(n)?{mapValue:{}}:Va:we()}function oI(n,e){const t=Xa(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function lI(n,e){const t=Xa(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!jm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Od(t)}setAll(e){let t=St.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=Od(u):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());jm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];jm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ho(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Nn(Od(this.value))}}function QP(n){const e=[];return ho(n.fields,(t,r)=>{const i=new St([t]);if(jm(r)){const o=QP(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new lr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t,r,i,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new vt(e,0,Ie.min(),Ie.min(),Ie.min(),Nn.empty(),0)}static newFoundDocument(e,t,r,i){return new vt(e,1,t,Ie.min(),r,i,0)}static newNoDocument(e,t){return new vt(e,2,t,Ie.min(),Ie.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new vt(e,3,t,Ie.min(),Ie.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,t){this.position=e,this.inclusive=t}}function uI(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),t.key):r=Xa(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function cI(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t="asc"){this.field=e,this.dir=t}}function eB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{}class He extends YP{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new tB(e,t,r):t==="array-contains"?new iB(e,r):t==="in"?new nO(e,r):t==="not-in"?new sB(e,r):t==="array-contains-any"?new aB(e,r):new He(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new nB(e,r):new rB(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Xa(t,this.value)):t!==null&&Ya(this.value)===Ya(t)&&this.matchesComparison(Xa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ot extends YP{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ot(e,t)}matches(e){return ac(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ac(n){return n.op==="and"}function Y0(n){return n.op==="or"}function Rb(n){return XP(n)&&ac(n)}function XP(n){for(const e of n.filters)if(e instanceof ot)return!1;return!0}function X0(n){if(n instanceof He)return n.field.canonicalString()+n.op.toString()+sc(n.value);if(Rb(n))return n.filters.map(e=>X0(e)).join(",");{const e=n.filters.map(t=>X0(t)).join(",");return`${n.op}(${e})`}}function JP(n,e){return n instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&Qi(r.value,i.value)}(n,e):n instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,h)=>o&&JP(u,i.filters[h]),!0):!1}(n,e):void we()}function ZP(n,e){const t=n.filters.concat(e);return ot.create(t,n.op)}function eO(n){return n instanceof He?function(t){return`${t.field.canonicalString()} ${t.op} ${sc(t.value)}`}(n):n instanceof ot?function(t){return t.op.toString()+" {"+t.getFilters().map(eO).join(" ,")+"}"}(n):"Filter"}class tB extends He{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class nB extends He{constructor(e,t){super(e,"in",t),this.keys=tO("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rB extends He{constructor(e,t){super(e,"not-in",t),this.keys=tO("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tO(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class iB extends He{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zd(t)&&Jd(t.arrayValue,this.value)}}class nO extends He{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Jd(this.value.arrayValue,t)}}class sB extends He{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Jd(this.value.arrayValue,t)}}class aB extends He{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Jd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e,t=null,r=[],i=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=h,this.le=null}}function J0(n,e=null,t=[],r=[],i=null,o=null,u=null){return new oB(n,e,t,r,i,o,u)}function fl(n){const e=Ee(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>X0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Sf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>sc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>sc(r)).join(",")),e.le=t}return e.le}function Rf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!eB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!JP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cI(n.startAt,e.startAt)&&cI(n.endAt,e.endAt)}function gg(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function yg(n,e){return n.filters.filter(t=>t instanceof He&&t.field.isEqual(e))}function hI(n,e,t){let r=Lm,i=!0;for(const o of yg(n,e)){let u=Lm,h=!0;switch(o.op){case"<":case"<=":u=JF(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=Lm}oI({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];oI({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}function dI(n,e,t){let r=Va,i=!0;for(const o of yg(n,e)){let u=Va,h=!0;switch(o.op){case">=":case">":u=ZF(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Va}lI({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];lI({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,t=null,r=[],i=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function rO(n,e,t,r,i,o,u,h){return new qs(n,e,t,r,i,o,u,h)}function xc(n){return new qs(n)}function fI(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Ib(n){return n.collectionGroup!==null}function zu(n){const e=Ee(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new lt(St.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(h=h.add(f.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new ef(o,r))}),t.has(St.keyField().canonicalString())||e.he.push(new ef(St.keyField(),r))}return e.he}function er(n){const e=Ee(n);return e.Pe||(e.Pe=lB(e,zu(n))),e.Pe}function lB(n,e){if(n.limitType==="F")return J0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ef(i.field,o)});const t=n.endAt?new Ja(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ja(n.startAt.position,n.startAt.inclusive):null;return J0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Z0(n,e){const t=n.filters.concat([e]);return new qs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _g(n,e,t){return new qs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function If(n,e){return Rf(er(n),er(e))&&n.limitType===e.limitType}function iO(n){return`${fl(er(n))}|lt:${n.limitType}`}function Ou(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>eO(i)).join(", ")}]`),Sf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>sc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>sc(i)).join(",")),`Target(${r})`}(er(n))}; limitType=${n.limitType})`}function Cf(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of zu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,h,d){const f=uI(u,h,d);return u.inclusive?f<=0:f<0}(r.startAt,zu(r),i)||r.endAt&&!function(u,h,d){const f=uI(u,h,d);return u.inclusive?f>=0:f>0}(r.endAt,zu(r),i))}(n,e)}function sO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aO(n){return(e,t)=>{let r=!1;for(const i of zu(n)){const o=uB(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function uB(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(o,u,h){const d=u.data.field(o),f=h.data.field(o);return d!==null&&f!==null?Xa(d,f):we()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ho(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return FP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB=new yt(_e.comparator);function ur(){return cB}const oO=new yt(_e.comparator);function Ed(...n){let e=oO;for(const t of n)e=e.insert(t.key,t);return e}function lO(n){let e=oO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Bi(){return Dd()}function uO(){return Dd()}function Dd(){return new Hs(n=>n.toString(),(n,e)=>n.isEqual(e))}const hB=new yt(_e.comparator),dB=new lt(_e.comparator);function Me(...n){let e=dB;for(const t of n)e=e.add(t);return e}const fB=new lt(Ne);function Cb(){return fB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kd(e)?"-0":e}}function cO(n){return{integerValue:""+n}}function hO(n,e){return PP(e)?cO(e):xb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this._=void 0}}function pB(n,e,t){return n instanceof oc?function(i,o){const u={fields:{[qP]:{stringValue:zP},[$P]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&iy(o)&&(o=sy(o)),o&&(u.fields[HP]=o),{mapValue:u}}(t,e):n instanceof pl?fO(n,e):n instanceof ml?pO(n,e):function(i,o){const u=dO(i,o),h=pI(u)+pI(i.Ie);return Q0(u)&&Q0(i.Ie)?cO(h):xb(i.serializer,h)}(n,e)}function mB(n,e,t){return n instanceof pl?fO(n,e):n instanceof ml?pO(n,e):t}function dO(n,e){return n instanceof lc?function(r){return Q0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class oc extends oy{}class pl extends oy{constructor(e){super(),this.elements=e}}function fO(n,e){const t=mO(e);for(const r of n.elements)t.some(i=>Qi(i,r))||t.push(r);return{arrayValue:{values:t}}}class ml extends oy{constructor(e){super(),this.elements=e}}function pO(n,e){let t=mO(e);for(const r of n.elements)t=t.filter(i=>!Qi(i,r));return{arrayValue:{values:t}}}class lc extends oy{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function pI(n){return wt(n.integerValue||n.doubleValue)}function mO(n){return Zd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t){this.field=e,this.transform=t}}function gB(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof pl&&i instanceof pl||r instanceof ml&&i instanceof ml?Ju(r.elements,i.elements,Qi):r instanceof lc&&i instanceof lc?Qi(r.Ie,i.Ie):r instanceof oc&&i instanceof oc}(n.transform,e.transform)}class yB{constructor(e,t){this.version=e,this.transformResults=t}}class At{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new At}static exists(e){return new At(void 0,e)}static updateTime(e){return new At(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ly{}function gO(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Oc(n.key,At.none()):new Pc(n.key,n.data,At.none());{const t=n.data,r=Nn.empty();let i=new lt(St.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new $s(n.key,r,new lr(i.toArray()),At.none())}}function _B(n,e,t){n instanceof Pc?function(i,o,u){const h=i.value.clone(),d=gI(i.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof $s?function(i,o,u){if(!Fm(i.precondition,o))return void o.convertToUnknownDocument(u.version);const h=gI(i.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(yO(i)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Nd(n,e,t,r){return n instanceof Pc?function(o,u,h,d){if(!Fm(o.precondition,u))return h;const f=o.value.clone(),g=yI(o.fieldTransforms,d,u);return f.setAll(g),u.convertToFoundDocument(u.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof $s?function(o,u,h,d){if(!Fm(o.precondition,u))return h;const f=yI(o.fieldTransforms,d,u),g=u.data;return g.setAll(yO(o)),g.setAll(f),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,u,h){return Fm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function vB(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=dO(r.transform,i||null);o!=null&&(t===null&&(t=Nn.empty()),t.set(r.field,o))}return t||null}function mI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ju(r,i,(o,u)=>gB(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Pc extends ly{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $s extends ly{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function yO(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function gI(n,e,t){const r=new Map;Ae(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,h=e.data.field(o.field);r.set(o.field,mB(u,h,t[i]))}return r}function yI(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,pB(o,u,e))}return r}class Oc extends ly{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pb extends ly{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&_B(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Nd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Nd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=uO();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(i.key)?null:h;const d=gO(u,h);d!==null&&r.set(i.key,d),u.isValidDocument()||u.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&Ju(this.mutations,e.mutations,(t,r)=>mI(t,r))&&Ju(this.baseMutations,e.baseMutations,(t,r)=>mI(t,r))}}class Db{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ae(e.mutations.length===r.length);let i=function(){return hB}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new Db(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,Xe;function _O(n){switch(n){case ne.OK:return we();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return we()}}function vO(n){if(n===void 0)return Wt("GRPC error has no .code"),ne.UNKNOWN;switch(n){case nn.OK:return ne.OK;case nn.CANCELLED:return ne.CANCELLED;case nn.UNKNOWN:return ne.UNKNOWN;case nn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case nn.INTERNAL:return ne.INTERNAL;case nn.UNAVAILABLE:return ne.UNAVAILABLE;case nn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case nn.NOT_FOUND:return ne.NOT_FOUND;case nn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case nn.ABORTED:return ne.ABORTED;case nn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case nn.DATA_LOSS:return ne.DATA_LOSS;default:return we()}}(Xe=nn||(nn={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB=new Fa([4294967295,4294967295],0);function _I(n){const e=EO().encode(n),t=new gP;return t.update(e),new Uint8Array(t.digest())}function vI(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fa([t,r],0),new Fa([i,o],0)]}class kb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new bd(`Invalid padding: ${t}`);if(r<0)throw new bd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new bd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Fa.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Fa.fromNumber(r)));return i.compare(bB)===1&&(i=new Fa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=_I(e),[r,i]=vI(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,i,o);if(!this.Re(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new kb(o,i,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const t=_I(e),[r,i]=vI(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,i,o);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class bd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Of.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Pf(Ie.min(),i,new yt(Ne),ur(),Me())}}class Of{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Of(r,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class bO{constructor(e,t){this.targetId=e,this.ge=t}}class wO{constructor(e,t,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class EI{constructor(){this.pe=0,this.ye=bI(),this.we=qt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Me(),t=Me(),r=Me();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:we()}}),new Of(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=bI()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ae(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class wB{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ur(),this.$e=mm(),this.Ke=mm(),this.Ue=new yt(Ne)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if(gg(o))if(r===0){const u=new _e(o.path);this.ze(t,u,vt.newNoDocument(u,Ie.min()))}else Ae(r===1);else{const u=this.et(t);if(u!==r){const h=this.tt(e),d=h?this.nt(h,e,u):1;if(d!==0){this.Ye(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let u,h;try{u=Ls(r).toUint8Array()}catch(d){if(d instanceof BP)return Wi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new kb(u,i,o)}catch(d){return Wi(d instanceof bd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,u)=>{const h=this.Xe(u);if(h){if(o.current&&gg(h.target)){const d=new _e(h.target.path);this._t(d).has(u)||this.ut(u,d)||this.ze(u,d,vt.newNoDocument(d,e))}o.ve&&(t.set(u,o.Fe()),o.Me())}});let r=Me();this.Ke.forEach((o,u)=>{let h=!0;u.forEachWhile(d=>{const f=this.Xe(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(e));const i=new Pf(e,t,this.Ue,this.Qe,r);return this.Qe=ur(),this.$e=mm(),this.Ke=mm(),this.Ue=new yt(Ne),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new EI,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new lt(Ne),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new lt(Ne),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new EI),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function mm(){return new yt(_e.comparator)}function bI(){return new yt(_e.comparator)}const TB={asc:"ASCENDING",desc:"DESCENDING"},SB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AB={and:"AND",or:"OR"};class RB{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function eE(n,e){return n.useProto3Json||Sf(e)?e:{value:e}}function uc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function IB(n,e){return uc(n,e.toTimestamp())}function Qt(n){return Ae(!!n),Ie.fromTimestamp(function(t){const r=Ms(t);return new Rt(r.seconds,r.nanos)}(n))}function Vb(n,e){return tE(n,e).canonicalString()}function tE(n,e){const t=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function SO(n){const e=qe.fromString(n);return Ae(kO(e)),e}function tf(n,e){return Vb(n.databaseId,e.path)}function qi(n,e){const t=SO(e);if(t.get(1)!==n.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(IO(t))}function AO(n,e){return Vb(n.databaseId,e)}function RO(n){const e=SO(n);return e.length===4?qe.emptyPath():IO(e)}function nE(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function IO(n){return Ae(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function wI(n,e,t){return{name:tf(n,e),fields:t.value.mapValue.fields}}function CO(n,e,t){const r=qi(n,e.name),i=Qt(e.updateTime),o=e.createTime?Qt(e.createTime):Ie.min(),u=new Nn({mapValue:{fields:e.fields}}),h=vt.newFoundDocument(r,i,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function CB(n,e){return"found"in e?function(r,i){Ae(!!i.found),i.found.name,i.found.updateTime;const o=qi(r,i.found.name),u=Qt(i.found.updateTime),h=i.found.createTime?Qt(i.found.createTime):Ie.min(),d=new Nn({mapValue:{fields:i.found.fields}});return vt.newFoundDocument(o,u,h,d)}(n,e):"missing"in e?function(r,i){Ae(!!i.missing),Ae(!!i.readTime);const o=qi(r,i.missing),u=Qt(i.readTime);return vt.newNoDocument(o,u)}(n,e):we()}function xB(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,g){return f.useProto3Json?(Ae(g===void 0||typeof g=="string"),qt.fromBase64String(g||"")):(Ae(g===void 0||g instanceof Buffer||g instanceof Uint8Array),qt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(f){const g=f.code===void 0?ne.UNKNOWN:vO(f.code);return new de(g,f.message||"")}(u);t=new wO(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=qi(n,r.document.name),o=Qt(r.document.updateTime),u=r.document.createTime?Qt(r.document.createTime):Ie.min(),h=new Nn({mapValue:{fields:r.document.fields}}),d=vt.newFoundDocument(i,o,u,h),f=r.targetIds||[],g=r.removedTargetIds||[];t=new Bm(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=qi(n,r.document),o=r.readTime?Qt(r.readTime):Ie.min(),u=vt.newNoDocument(i,o),h=r.removedTargetIds||[];t=new Bm([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=qi(n,r.document),o=r.removedTargetIds||[];t=new Bm([],o,i,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new EB(i,o),h=r.targetId;t=new bO(h,u)}}return t}function nf(n,e){let t;if(e instanceof Pc)t={update:wI(n,e.key,e.value)};else if(e instanceof Oc)t={delete:tf(n,e.key)};else if(e instanceof $s)t={update:wI(n,e.key,e.data),updateMask:VB(e.fieldMask)};else{if(!(e instanceof Pb))return we();t={verify:tf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof oc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof pl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ml)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof lc)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw we()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:IB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we()}(n,e.precondition)),t}function rE(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?At.updateTime(Qt(o.updateTime)):o.exists!==void 0?At.exists(o.exists):At.none()}(e.currentDocument):At.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,h){let d=null;if("setToServerValue"in h)Ae(h.setToServerValue==="REQUEST_TIME"),d=new oc;else if("appendMissingElements"in h){const g=h.appendMissingElements.values||[];d=new pl(g)}else if("removeAllFromArray"in h){const g=h.removeAllFromArray.values||[];d=new ml(g)}else"increment"in h?d=new lc(u,h.increment):we();const f=St.fromServerFormat(h.fieldPath);return new xf(f,d)}(n,i)):[];if(e.update){e.update.name;const i=qi(n,e.update.name),o=new Nn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(d){const f=d.fieldPaths||[];return new lr(f.map(g=>St.fromServerFormat(g)))}(e.updateMask);return new $s(i,o,u,t,r)}return new Pc(i,o,t,r)}if(e.delete){const i=qi(n,e.delete);return new Oc(i,t)}if(e.verify){const i=qi(n,e.verify);return new Pb(i,t)}return we()}function PB(n,e){return n&&n.length>0?(Ae(e!==void 0),n.map(t=>function(i,o){let u=i.updateTime?Qt(i.updateTime):Qt(o);return u.isEqual(Ie.min())&&(u=Qt(o)),new yB(u,i.transformResults||[])}(t,e))):[]}function xO(n,e){return{documents:[AO(n,e.path)]}}function PO(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=AO(n,i);const o=function(f){if(f.length!==0)return NO(ot.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(f){if(f.length!==0)return f.map(g=>function(v){return{field:Du(v.field),direction:DB(v.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=eE(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:i}}function OO(n){let e=RO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ae(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const v=DO(_);return v instanceof ot&&Rb(v)?v.getFilters():[v]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(v=>function(w){return new ef(Nu(w.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(v))}(t.orderBy));let h=null;t.limit&&(h=function(_){let v;return v=typeof _=="object"?_.value:_,Sf(v)?null:v}(t.limit));let d=null;t.startAt&&(d=function(_){const v=!!_.before,T=_.values||[];return new Ja(T,v)}(t.startAt));let f=null;return t.endAt&&(f=function(_){const v=!_.before,T=_.values||[];return new Ja(T,v)}(t.endAt)),rO(e,i,u,o,h,"F",d,f)}function OB(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DO(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Nu(t.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Nu(t.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Nu(t.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Nu(t.unaryFilter.field);return He.create(u,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(n):n.fieldFilter!==void 0?function(t){return He.create(Nu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ot.create(t.compositeFilter.filters.map(r=>DO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(n):we()}function DB(n){return TB[n]}function NB(n){return SB[n]}function kB(n){return AB[n]}function Du(n){return{fieldPath:n.canonicalString()}}function Nu(n){return St.fromServerFormat(n.fieldPath)}function NO(n){return n instanceof He?function(t){if(t.op==="=="){if(aI(t.value))return{unaryFilter:{field:Du(t.field),op:"IS_NAN"}};if(sI(t.value))return{unaryFilter:{field:Du(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(aI(t.value))return{unaryFilter:{field:Du(t.field),op:"IS_NOT_NAN"}};if(sI(t.value))return{unaryFilter:{field:Du(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Du(t.field),op:NB(t.op),value:t.value}}}(n):n instanceof ot?function(t){const r=t.getFilters().map(i=>NO(i));return r.length===1?r[0]:{compositeFilter:{op:kB(t.op),filters:r}}}(n):we()}function VB(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t,r,i,o=Ie.min(),u=Ie.min(),h=qt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.Tt=e}}function MB(n,e){let t;if(e.document)t=CO(n.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=yl(e.noDocument.readTime);t=vt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return we();{const r=_e.fromSegments(e.unknownDocument.path),i=yl(e.unknownDocument.version);t=vt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new Rt(i[0],i[1]);return Ie.fromTimestamp(o)}(e.readTime)),t}function TI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:vg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,u){return{name:tf(o,u.key),fields:u.data.value.mapValue.fields,updateTime:uc(o,u.version.toTimestamp()),createTime:uc(o,u.createTime.toTimestamp())}}(n.Tt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:gl(e.version)};else{if(!e.isUnknownDocument())return we();r.unknownDocument={path:t.path.toArray(),version:gl(e.version)}}return r}function vg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function gl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yl(n){const e=new Rt(n.seconds,n.nanoseconds);return Ie.fromTimestamp(e)}function Jo(n,e){const t=(e.baseMutations||[]).map(o=>rE(n.Tt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>rE(n.Tt,o)),i=Rt.fromMillis(e.localWriteTimeMs);return new Ob(e.batchId,i,t,r)}function wd(n){const e=yl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?yl(n.lastLimboFreeSnapshotVersion):Ie.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return Ae(o.documents.length===1),er(xc(RO(o.documents[0])))}(n.query):function(o){return er(OO(o))}(n.query),new Ps(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,qt.fromBase64String(n.resumeToken))}function MO(n,e){const t=gl(e.snapshotVersion),r=gl(e.lastLimboFreeSnapshotVersion);let i;i=gg(e.target)?xO(n.Tt,e.target):PO(n.Tt,e.target).ht;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Mb(n){const e=OO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_g(e,e.limit,"L"):e}function l0(n,e){return new Nb(e.largestBatchId,rE(n.Tt,e.overlayMutation))}function SI(n,e){const t=e.path.lastSegment();return[n,Hn(e.path.popLast()),t]}function AI(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:gl(r.readTime),documentKey:Hn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{getBundleMetadata(e,t){return RI(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:yl(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return RI(e).put(function(i){return{bundleId:i.id,createTime:gl(Qt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return II(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:Mb(o.bundledQuery),readTime:yl(o.readTime)}}(r)})}saveNamedQuery(e,t){return II(e).put(function(i){return{name:i.name,readTime:gl(Qt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function RI(n){return mn(n,ty)}function II(n){return mn(n,ny)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const r=t.uid||"";return new uy(e,r)}getOverlay(e,t){return Xh(e).get(SI(this.userId,t)).next(r=>r?l0(this.serializer,r):null)}getOverlays(e,t){const r=Bi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,u)=>{const h=new Nb(t,u);i.push(this.Et(e,h))}),X.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Hn(u.getCollectionPath())));const o=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(Xh(e).J($0,h))}),X.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Bi(),o=Hn(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Xh(e).G($0,u).next(h=>{for(const d of h){const f=l0(this.serializer,d);i.set(f.getKey(),f)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Bi();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Xh(e).Z({index:MP,range:h},(d,f,g)=>{const _=l0(this.serializer,f);o.size()<i||_.largestBatchId===u?(o.set(_.getKey(),_),u=_.largestBatchId):g.done()}).next(()=>o)}Et(e,t){return Xh(e).put(function(i,o,u){const[h,d,f]=SI(o,u.mutation.key);return{userId:o,collectionPath:d,documentId:f,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:nf(i.Tt,u.mutation)}}(this.serializer,this.userId,t))}}function Xh(n){return mn(n,ry)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{dt(e){return mn(e,wb)}getSessionToken(e){return this.dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?qt.fromUint8Array(r):qt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(wt(e.integerValue));else if("doubleValue"in e){const r=wt(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),Kd(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=Ms(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Ls(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?KP(e)?this.ft(t,Number.MAX_SAFE_INTEGER):ay(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):we()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;const o=e.fields||{};this.ft(t,53);const u=ic,h=((i=(r=o[u].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(wt(h)),this.wt(u,t),this.Rt(o[u],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),_e.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}St(e){e.gt(2)}}Zo.xt=new Zo;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=255;function jB(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function CI(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const u=jB(255&r[o]);if(i+=u,u!==8)break}return i}(n);return Math.ceil(e/8)}class FB{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Nt(r.value),r=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.kt(r.value),r=t.next();this.qt()}Qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const i=t.codePointAt(0);this.Nt(240|i>>>18),this.Nt(128|63&i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i)}}this.Bt()}$t(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const i=t.codePointAt(0);this.kt(240|i>>>18),this.kt(128|63&i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i)}}this.qt()}Kt(e){const t=this.Ut(e),r=CI(t);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Gt(e){const t=this.Ut(e),r=CI(t);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}zt(){this.jt(bu),this.jt(255)}Ht(){this.Jt(bu),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Nt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===bu?(this.jt(bu),this.jt(0)):this.jt(t)}kt(e){const t=255&e;t===0?(this.Jt(0),this.Jt(255)):t===bu?(this.Jt(bu),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class BB{constructor(e){this.Zt=e}bt(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class zB{constructor(e){this.Zt=e}bt(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class Jh{constructor(){this.Zt=new FB,this.Xt=new BB(this.Zt),this.en=new zB(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}nn(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new el(this.indexId,this.documentKey,this.arrayValue,r)}}function xa(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=xI(n.arrayValue,e.arrayValue),t!==0?t:(t=xI(n.directionalValue,e.directionalValue),t!==0?t:_e.comparator(n.documentKey,e.documentKey)))}function xI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.rn=new lt((t,r)=>St.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const r=t;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(e){if(Ae(e.collectionGroup===this.collectionId),this.an)return!1;const t=z0(e);if(t!==void 0&&!this.cn(t))return!1;const r=Qo(e);let i=new Set,o=0,u=0;for(;o<r.length&&this.cn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.rn.size>0){const h=this.rn.getIterator().getNext();if(!i.has(h.field.canonicalString())){const d=r[o];if(!this.ln(h,d)||!this.hn(this.sn[u++],d))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.sn.length||!this.hn(this.sn[u++],h))return!1}return!0}Pn(){if(this.an)return null;let e=new lt(St.comparator);const t=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new km(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new km(r.field,0))}for(const r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new km(r.field,r.dir==="asc"?0:1)));return new cg(cg.UNKNOWN_ID,this.collectionId,t,Gd.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(n){var e,t;if(Ae(n instanceof He||n instanceof ot),n instanceof He){if(n instanceof nO){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>He.create(n.field,"==",o)))||[];return ot.create(i,"or")}return n}const r=n.filters.map(i=>LO(i));return ot.create(r,n.op)}function qB(n){if(n.getFilters().length===0)return[];const e=aE(LO(n));return Ae(UO(e)),iE(e)||sE(e)?[e]:e.getFilters()}function iE(n){return n instanceof He}function sE(n){return n instanceof ot&&Rb(n)}function UO(n){return iE(n)||sE(n)||function(t){if(t instanceof ot&&Y0(t)){for(const r of t.getFilters())if(!iE(r)&&!sE(r))return!1;return!0}return!1}(n)}function aE(n){if(Ae(n instanceof He||n instanceof ot),n instanceof He)return n;if(n.filters.length===1)return aE(n.filters[0]);const e=n.filters.map(r=>aE(r));let t=ot.create(e,n.op);return t=Eg(t),UO(t)?t:(Ae(t instanceof ot),Ae(ac(t)),Ae(t.filters.length>1),t.filters.reduce((r,i)=>Lb(r,i)))}function Lb(n,e){let t;return Ae(n instanceof He||n instanceof ot),Ae(e instanceof He||e instanceof ot),t=n instanceof He?e instanceof He?function(i,o){return ot.create([i,o],"and")}(n,e):OI(n,e):e instanceof He?OI(e,n):function(i,o){if(Ae(i.filters.length>0&&o.filters.length>0),ac(i)&&ac(o))return ZP(i,o.getFilters());const u=Y0(i)?i:o,h=Y0(i)?o:i,d=u.filters.map(f=>Lb(f,h));return ot.create(d,"or")}(n,e),Eg(t)}function OI(n,e){if(ac(e))return ZP(e,n.getFilters());{const t=e.filters.map(r=>Lb(n,r));return ot.create(t,"or")}}function Eg(n){if(Ae(n instanceof He||n instanceof ot),n instanceof He)return n;const e=n.getFilters();if(e.length===1)return Eg(e[0]);if(XP(n))return n;const t=e.map(i=>Eg(i)),r=[];return t.forEach(i=>{i instanceof He?r.push(i):i instanceof ot&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ot.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(){this.Tn=new Ub}addToCollectionParentIndex(e,t){return this.Tn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Pr.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class Ub{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new lt(qe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="IndexedDbIndexManager",gm=new Uint8Array(0);class $B{constructor(e,t){this.databaseId=t,this.In=new Ub,this.En=new Hs(r=>fl(r),(r,i)=>Rf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});const o={collectionId:r,parent:Hn(i)};return NI(e).put(o)}return X.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[SP(t),""],!1,!0);return NI(e).G(i).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(Fi(u.parent))}return r})}addFieldIndex(e,t){const r=Zh(e),i=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const u=Tu(e);return o.next(h=>{u.put(AI(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=Zh(e),i=Tu(e),o=wu(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Zh(e),r=wu(e),i=Tu(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return X.forEach(this.dn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new PI(r).Pn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=wu(e);let i=!0;const o=new Map;return X.forEach(this.dn(t),u=>this.An(e,u).next(h=>{i&&(i=!!h),o.set(u,h)})).next(()=>{if(i){let u=Me();const h=[];return X.forEach(o,(d,f)=>{pe(DI,`Using index ${function(j){return`id=${j.indexId}|cg=${j.collectionGroup}|f=${j.fields.map($=>`${$.fieldPath}:${$.kind}`).join(",")}`}(d)} to execute ${fl(t)}`);const g=function(j,$){const z=z0($);if(z===void 0)return null;for(const H of yg(j,z.fieldPath))switch(H.op){case"array-contains-any":return H.value.arrayValue.values||[];case"array-contains":return[H.value]}return null}(f,d),_=function(j,$){const z=new Map;for(const H of Qo($))for(const M of yg(j,H.fieldPath))switch(M.op){case"==":case"in":z.set(H.fieldPath.canonicalString(),M.value);break;case"not-in":case"!=":return z.set(H.fieldPath.canonicalString(),M.value),Array.from(z.values())}return null}(f,d),v=function(j,$){const z=[];let H=!0;for(const M of Qo($)){const C=M.kind===0?hI(j,M.fieldPath,j.startAt):dI(j,M.fieldPath,j.startAt);z.push(C.value),H&&(H=C.inclusive)}return new Ja(z,H)}(f,d),T=function(j,$){const z=[];let H=!0;for(const M of Qo($)){const C=M.kind===0?dI(j,M.fieldPath,j.endAt):hI(j,M.fieldPath,j.endAt);z.push(C.value),H&&(H=C.inclusive)}return new Ja(z,H)}(f,d),w=this.Rn(d,f,v),R=this.Rn(d,f,T),x=this.Vn(d,f,_),U=this.mn(d.indexId,g,w,v.inclusive,R,T.inclusive,x);return X.forEach(U,L=>r.H(L,t.limit).next(j=>{j.forEach($=>{const z=_e.fromSegments($.documentKey);u.has(z)||(u=u.add(z),h.push(z))})}))}).next(()=>h)}return X.resolve(null)})}dn(e){let t=this.En.get(e);return t||(e.filters.length===0?t=[e]:t=qB(ot.create(e.filters,"and")).map(r=>J0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t),t)}mn(e,t,r,i,o,u,h){const d=(t!=null?t.length:1)*Math.max(r.length,o.length),f=d/(t!=null?t.length:1),g=[];for(let _=0;_<d;++_){const v=t?this.fn(t[_/f]):gm,T=this.gn(e,v,r[_%f],i),w=this.pn(e,v,o[_%f],u),R=h.map(x=>this.gn(e,v,x,!0));g.push(...this.createRange(T,w,R))}return g}gn(e,t,r,i){const o=new el(e,_e.empty(),t,r);return i?o:o.nn()}pn(e,t,r,i){const o=new el(e,_e.empty(),t,r);return i?o.nn():o}An(e,t){const r=new PI(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let u=null;for(const h of o)r.un(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const i=this.dn(t);return X.forEach(i,o=>this.An(e,o).next(u=>{u?r!==0&&u.fields.length<function(d){let f=new lt(St.comparator),g=!1;for(const _ of d.filters)for(const v of _.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:f=f.add(v.field));for(const _ of d.orderBy)_.field.isKeyField()||(f=f.add(_.field));return f.size+(g?1:0)}(o)&&(r=1):r=0})).next(()=>function(u){return u.limit!==null}(t)&&i.length>1&&r===2?1:r)}yn(e,t){const r=new Jh;for(const i of Qo(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const u=r.tn(i.kind);Zo.xt.At(o,u)}return r.Yt()}fn(e){const t=new Jh;return Zo.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const r=new Jh;return Zo.xt.At(dl(this.databaseId,t),r.tn(function(o){const u=Qo(o);return u.length===0?0:u[u.length-1].kind}(e))),r.Yt()}Vn(e,t,r){if(r===null)return[];let i=[];i.push(new Jh);let o=0;for(const u of Qo(e)){const h=r[o++];for(const d of i)if(this.Sn(t,u.fieldPath)&&Zd(h))i=this.bn(i,u,h);else{const f=d.tn(u.kind);Zo.xt.At(h,f)}}return this.Dn(i)}Rn(e,t,r){return this.Vn(e,t,r.position)}Dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Yt();return t}bn(e,t,r){const i=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of i){const d=new Jh;d.seed(h.Yt()),Zo.xt.At(u,d.tn(t.kind)),o.push(d)}return o}Sn(e,t){return!!e.filters.find(r=>r instanceof He&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=Zh(e),i=Tu(e);return(t?r.G(H0,IDBKeyRange.bound(t,t)):r.G()).next(o=>{const u=[];return X.forEach(o,h=>i.get([h.indexId,this.uid]).next(d=>{u.push(function(g,_){const v=_?new Gd(_.sequenceNumber,new Pr(yl(_.readTime),new _e(Fi(_.documentKey)),_.largestBatchId)):Gd.empty(),T=g.fields.map(([w,R])=>new km(St.fromServerFormat(w),R));return new cg(g.indexId,g.collectionGroup,T,v)}(h,d))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Ne(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Zh(e),o=Tu(e);return this.vn(e).next(u=>i.G(H0,IDBKeyRange.bound(t,t)).next(h=>X.forEach(h,d=>o.put(AI(d.indexId,this.uid,u,r)))))}updateIndexEntries(e,t){const r=new Map;return X.forEach(t,(i,o)=>{const u=r.get(i.collectionGroup);return(u?X.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),X.forEach(h,d=>this.Cn(e,i,d).next(f=>{const g=this.Fn(o,d);return f.isEqual(g)?X.resolve():this.Mn(e,o,d,f,g)}))))})}xn(e,t,r,i){return wu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.wn(r,t.key),documentKey:t.key.path.toArray()})}On(e,t,r,i){return wu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.wn(r,t.key),t.key.path.toArray()])}Cn(e,t,r){const i=wu(e);let o=new lt(xa);return i.Z({index:VP,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,t)])},(u,h)=>{o=o.add(new el(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}Fn(e,t){let r=new lt(xa);const i=this.yn(t,e);if(i==null)return r;const o=z0(t);if(o!=null){const u=e.data.field(o.fieldPath);if(Zd(u))for(const h of u.arrayValue.values||[])r=r.add(new el(t.indexId,e.key,this.fn(h),i))}else r=r.add(new el(t.indexId,e.key,gm,i));return r}Mn(e,t,r,i,o){pe(DI,"Updating index entries for document '%s'",t.key);const u=[];return function(d,f,g,_,v){const T=d.getIterator(),w=f.getIterator();let R=Eu(T),x=Eu(w);for(;R||x;){let U=!1,L=!1;if(R&&x){const j=g(R,x);j<0?L=!0:j>0&&(U=!0)}else R!=null?L=!0:U=!0;U?(_(x),x=Eu(w)):L?(v(R),R=Eu(T)):(R=Eu(T),x=Eu(w))}}(i,o,xa,h=>{u.push(this.xn(e,t,r,h))},h=>{u.push(this.On(e,t,r,h))}),X.waitFor(u)}vn(e){let t=1;return Tu(e).Z({index:kP,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>xa(u,h)).filter((u,h,d)=>!h||xa(u,d[h-1])!==0);const i=[];i.push(e);for(const u of r){const h=xa(u,e),d=xa(u,t);if(h===0)i[0]=e.nn();else if(h>0&&d<0)i.push(u),i.push(u.nn());else if(d>0)break}i.push(t);const o=[];for(let u=0;u<i.length;u+=2){if(this.Nn(i[u],i[u+1]))return[];const h=[i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,gm,[]],d=[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,gm,[]];o.push(IDBKeyRange.bound(h,d))}return o}Nn(e,t){return xa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(kI)}getMinOffset(e,t){return X.mapArray(this.dn(t),r=>this.An(e,r).next(i=>i||we())).next(kI)}}function NI(n){return mn(n,Yd)}function wu(n){return mn(n,mg)}function Zh(n){return mn(n,bb)}function Tu(n){return mn(n,pg)}function kI(n){Ae(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;_b(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Pr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jO=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(n,e,t){const r=n.store(li),i=n.store(ec),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const d=r.Z({range:u},(g,_,v)=>(h++,v.delete()));o.push(d.next(()=>{Ae(h===1)}));const f=[];for(const g of t.mutations){const _=OP(e,g.key.path,t.batchId);o.push(i.delete(_)),f.push(g.key)}return X.waitFor(o).next(()=>f)}function bg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw we();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(jO,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);class cy{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Bn={}}static It(e,t,r,i){Ae(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new cy(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pa(e).Z({index:rl,range:r},(i,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=ku(e),u=Pa(e);return u.add({}).next(h=>{Ae(typeof h=="number");const d=new Ob(h,t,r,i),f=function(T,w,R){const x=R.baseMutations.map(L=>nf(T.Tt,L)),U=R.mutations.map(L=>nf(T.Tt,L));return{userId:w,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:x,mutations:U}}(this.serializer,this.userId,d),g=[];let _=new lt((v,T)=>Ne(v.canonicalString(),T.canonicalString()));for(const v of i){const T=OP(this.userId,v.key.path,h);_=_.add(v.key.path.popLast()),g.push(u.put(f)),g.push(o.put(T,AF))}return _.forEach(v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.Bn[h]=d.keys()}),X.waitFor(g).next(()=>d)})}lookupMutationBatch(e,t){return Pa(e).get(t).next(r=>r?(Ae(r.userId===this.userId),Jo(this.serializer,r)):null)}Ln(e,t){return this.Bn[t]?X.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Pa(e).Z({index:rl,range:i},(u,h,d)=>{h.userId===this.userId&&(Ae(h.batchId>=r),o=Jo(this.serializer,h)),d.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ba;return Pa(e).Z({index:rl,range:t,reverse:!0},(i,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ba],[this.userId,Number.POSITIVE_INFINITY]);return Pa(e).G(rl,t).next(r=>r.map(i=>Jo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Vm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return ku(e).Z({range:i},(u,h,d)=>{const[f,g,_]=u,v=Fi(g);if(f===this.userId&&t.path.isEqual(v))return Pa(e).get(_).next(T=>{if(!T)throw we();Ae(T.userId===this.userId),o.push(Jo(this.serializer,T))});d.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(Ne);const i=[];return t.forEach(o=>{const u=Vm(this.userId,o.path),h=IDBKeyRange.lowerBound(u),d=ku(e).Z({range:h},(f,g,_)=>{const[v,T,w]=f,R=Fi(T);v===this.userId&&o.path.isEqual(R)?r=r.add(w):_.done()});i.push(d)}),X.waitFor(i).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=Vm(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new lt(Ne);return ku(e).Z({range:u},(d,f,g)=>{const[_,v,T]=d,w=Fi(v);_===this.userId&&r.isPrefixOf(w)?w.length===i&&(h=h.add(T)):g.done()}).next(()=>this.kn(e,h))}kn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Pa(e).get(o).next(u=>{if(u===null)throw we();Ae(u.userId===this.userId),r.push(Jo(this.serializer,u))}))}),X.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return FO(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),X.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return X.resolve();const r=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),i=[];return ku(e).Z({range:r},(o,u,h)=>{if(o[0]===this.userId){const d=Fi(o[1]);i.push(d)}else h.done()}).next(()=>{Ae(i.length===0)})})}containsKey(e,t){return BO(e,this.userId,t)}Qn(e){return zO(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Ba,lastStreamToken:""})}}function BO(n,e,t){const r=Vm(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return ku(n).Z({range:o,Y:!0},(h,d,f)=>{const[g,_,v]=h;g===e&&_===i&&(u=!0),f.done()}).next(()=>u)}function Pa(n){return mn(n,li)}function ku(n){return mn(n,ec)}function zO(n){return mn(n,Wd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new _l(0)}static Un(){return new _l(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{const r=new _l(t.highestTargetId);return t.highestTargetId=r.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(t=>Ie.fromTimestamp(new Rt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Wn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Gn(e,i)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(t,r),this.Gn(e,r))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Su(e).delete(t.targetId)).next(()=>this.Wn(e)).next(r=>(Ae(r.targetCount>0),r.targetCount-=1,this.Gn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Su(e).Z((u,h)=>{const d=wd(h);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,o.push(this.removeTargetData(e,d)))}).next(()=>X.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Su(e).Z((r,i)=>{const o=wd(i);t(o)})}Wn(e){return MI(e).get(fg).next(t=>(Ae(t!==null),t))}Gn(e,t){return MI(e).put(fg,t)}zn(e,t){return Su(e).put(MO(this.serializer,t))}jn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=fl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Su(e).Z({range:i,index:NP},(u,h,d)=>{const f=wd(h);Rf(t,f.target)&&(o=f,d.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=ka(e);return t.forEach(u=>{const h=Hn(u.path);i.push(o.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),X.waitFor(i)}removeMatchingKeys(e,t,r){const i=ka(e);return X.forEach(t,o=>{const u=Hn(o.path);return X.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=ka(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=ka(e);let o=Me();return i.Z({range:r,Y:!0},(u,h,d)=>{const f=Fi(u[1]),g=new _e(f);o=o.add(g)}).next(()=>o)}containsKey(e,t){const r=Hn(t.path),i=IDBKeyRange.bound([r],[SP(r)],!1,!0);let o=0;return ka(e).Z({index:Eb,Y:!0,range:i},([u,h],d,f)=>{u!==0&&(o++,f.done())}).next(()=>o>0)}lt(e,t){return Su(e).get(t).next(r=>r?wd(r):null)}}function Su(n){return mn(n,tc)}function MI(n){return mn(n,ul)}function ka(n){return mn(n,nc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="LruGarbageCollector",KB=1048576;function UI([n,e],[t,r]){const i=Ne(n,t);return i===0?Ne(e,r):i}class WB{constructor(e){this.Hn=e,this.buffer=new lt(UI),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();UI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(LI,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){co(t)?pe(LI,"Ignoring IndexedDB error during garbage collection: ",t):await uo(t)}await this.er(3e5)})}}class QB{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(or.ae);const r=new WB(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(VI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VI):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,u,h,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,u=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(f=Date.now(),Pu()<=Be.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function HO(n,e){return new QB(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,t){this.db=e,this.garbageCollector=HO(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(r,i)=>t(i))}addReference(e,t,r){return ym(e,r)}removeReference(e,t,r){return ym(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return ym(e,t)}ar(e,t){return function(i,o){let u=!1;return zO(i).X(h=>BO(i,h,o).next(d=>(d&&(u=!0),X.resolve(!d)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this._r(e,(u,h)=>{if(h<=t){const d=this.ar(e,u).next(f=>{if(!f)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Ie.min()),ka(e).delete(function(_){return[0,Hn(_.path)]}(u))))});i.push(d)}}).next(()=>X.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return ym(e,t)}_r(e,t){const r=ka(e);let i,o=or.ae;return r.Z({index:Eb},([u,h],{path:d,sequenceNumber:f})=>{u===0?(o!==or.ae&&t(new _e(Fi(i)),o),o=f,i=d):o=or.ae}).next(()=>{o!==or.ae&&t(new _e(Fi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ym(n,e){return ka(n).put(function(r,i){return{targetId:0,path:Hn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.changes=new Hs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Go(e).put(r)}removeEntry(e,t,r){return Go(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],vg(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.ur(e,r)))}getEntry(e,t){let r=vt.newInvalidDocument(t);return Go(e).Z({index:Mm,range:IDBKeyRange.only(ed(t))},(i,o)=>{r=this.cr(t,o)}).next(()=>r)}lr(e,t){let r={size:0,document:vt.newInvalidDocument(t)};return Go(e).Z({index:Mm,range:IDBKeyRange.only(ed(t))},(i,o)=>{r={document:this.cr(t,o),size:bg(o)}}).next(()=>r)}getEntries(e,t){let r=ur();return this.hr(e,t,(i,o)=>{const u=this.cr(i,o);r=r.insert(i,u)}).next(()=>r)}Pr(e,t){let r=ur(),i=new yt(_e.comparator);return this.hr(e,t,(o,u)=>{const h=this.cr(o,u);r=r.insert(o,h),i=i.insert(o,bg(u))}).next(()=>({documents:r,Tr:i}))}hr(e,t,r){if(t.isEmpty())return X.resolve();let i=new lt(BI);t.forEach(d=>i=i.add(d));const o=IDBKeyRange.bound(ed(i.first()),ed(i.last())),u=i.getIterator();let h=u.getNext();return Go(e).Z({index:Mm,range:o},(d,f,g)=>{const _=_e.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;h&&BI(h,_)<0;)r(h,null),h=u.getNext();h&&h.isEqual(_)&&(r(h,f),h=u.hasNext()?u.getNext():null),h?g.W(ed(h)):g.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),vg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Go(e).G(IDBKeyRange.bound(h,d,!0)).next(f=>{o==null||o.incrementDocumentReadCount(f.length);let g=ur();for(const _ of f){const v=this.cr(_e.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);v.isFoundDocument()&&(Cf(t,v)||i.has(v.key))&&(g=g.insert(v.key,v))}return g})}getAllFromCollectionGroup(e,t,r,i){let o=ur();const u=FI(t,r),h=FI(t,Pr.max());return Go(e).Z({index:DP,range:IDBKeyRange.bound(u,h,!0)},(d,f,g)=>{const _=this.cr(_e.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(_.key,_),o.size===i&&g.done()}).next(()=>o)}newChangeBuffer(e){return new JB(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return jI(e).get(q0).next(t=>(Ae(!!t),t))}ur(e,t){return jI(e).put(q0,t)}cr(e,t){if(t){const r=MB(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ie.min())))return r}return vt.newInvalidDocument(e)}}function GO(n){return new XB(n)}class JB extends $O{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new Hs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new lt((o,u)=>Ne(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Er.get(o);if(t.push(this.Ir.removeEntry(e,o,h.readTime)),u.isValidDocument()){const d=TI(this.Ir.serializer,u);i=i.add(o.path.popLast());const f=bg(d);r+=f-h.size,t.push(this.Ir.addEntry(e,o,d))}else if(r-=h.size,this.trackRemovals){const d=TI(this.Ir.serializer,u.convertToNoDocument(Ie.min()));t.push(this.Ir.addEntry(e,o,d))}}),i.forEach(o=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Ir.updateMetadata(e,r)),X.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(r=>(this.Er.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:r,Tr:i})=>(i.forEach((o,u)=>{this.Er.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function jI(n){return mn(n,Qd)}function Go(n){return mn(n,dg)}function ed(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function FI(n,e){const t=e.documentKey.path.toArray();return[n,vg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function BI(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=Ne(t[o],r[o]),i)return i;return i=Ne(t.length,r.length),i||(i=Ne(t[t.length-2],r[r.length-2]),i||Ne(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Nd(r.mutation,i,lr.empty(),Rt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){const i=Bi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=Ed();return o.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Bi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let o=ur();const u=Dd(),h=function(){return Dd()}();return t.forEach((d,f)=>{const g=r.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof $s)?o=o.insert(f.key,f):g!==void 0?(u.set(f.key,g.mutation.getFieldMask()),Nd(g.mutation,f,g.mutation.getFieldMask(),Rt.now())):u.set(f.key,lr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,g)=>u.set(f,g)),t.forEach((f,g)=>{var _;return h.set(f,new ZB(g,(_=u.get(f))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Dd();let i=new yt((u,h)=>u-h),o=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let g=r.get(d)||lr.empty();g=h.applyToLocalView(f,g),r.set(d,g);const _=(i.get(h.batchId)||Me()).add(d);i=i.insert(h.batchId,_)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),f=d.key,g=d.value,_=uO();g.forEach(v=>{if(!o.has(v)){const T=gO(t.get(v),r.get(v));T!==null&&_.set(v,T),o=o.add(v)}}),u.push(this.documentOverlayCache.saveOverlays(e,f,_))}return X.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ib(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):X.resolve(Bi());let h=Zu,d=o;return u.next(f=>X.forEach(f,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{d=d.insert(g,v)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,Me())).next(g=>({batchId:h,changes:lO(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=Ed();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let u=Ed();return this.indexManager.getCollectionParents(e,o).next(h=>X.forEach(h,d=>{const f=function(_,v){return new qs(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(g=>{g.forEach((_,v)=>{u=u.insert(_,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(u=>{o.forEach((d,f)=>{const g=f.getKey();u.get(g)===null&&(u=u.insert(g,vt.newInvalidDocument(g)))});let h=Ed();return u.forEach((d,f)=>{const g=o.get(d);g!==void 0&&Nd(g.mutation,f,lr.empty(),Rt.now()),Cf(t,f)&&(h=h.insert(d,f))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return X.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Qt(i.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:Mb(i.bundledQuery),readTime:Qt(i.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(){this.overlays=new yt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Bi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const i=Bi(),o=t.length+1,u=new _e(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new yt((f,g)=>f-g);const u=this.overlays.getIterator();for(;u.hasNext();){const f=u.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=Bi(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const h=Bi(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,g)=>h.set(f,g)),!(h.size()>=i)););return X.resolve(h)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Nb(t,r));let o=this.Rr.get(t);o===void 0&&(o=Me(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(){this.Vr=new lt(Tn.mr),this.gr=new lt(Tn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Tn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Tn(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new _e(new qe([])),r=new Tn(t,e),i=new Tn(t,e+1),o=[];return this.gr.forEachInRange([r,i],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new qe([])),r=new Tn(t,e),i=new Tn(t,e+1);let o=Me();return this.gr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Tn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Tn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Ne(e.Cr,t.Cr)}static pr(e,t){return Ne(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new lt(Tn.mr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Ob(o,t,r,i);this.mutationQueue.push(u);for(const h of i)this.Mr=this.Mr.add(new Tn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),o=i<0?0:i;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Ba:this.Fr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Tn(t,0),i=new Tn(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],u=>{const h=this.Or(u.Cr);o.push(h)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(Ne);return t.forEach(i=>{const o=new Tn(i,0),u=new Tn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],h=>{r=r.add(h.Cr)})}),X.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const u=new Tn(new _e(o),0);let h=new lt(Ne);return this.Mr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(h=h.add(d.Cr)),!0)},u),X.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return X.forEach(t.mutations,i=>{const o=new Tn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Tn(t,0),i=this.Mr.firstAfterOrEqual(r);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.kr=e,this.docs=function(){return new yt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(t))}getEntries(e,t){let r=ur();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vt.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=ur();const u=t.path,h=new _e(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!u.isPrefixOf(f.path))break;f.path.length>u.length+1||_b(RP(g),r)<=0||(i.has(g.key)||Cf(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,t,r,i){we()}qr(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sz(this)}getSize(e){return X.resolve(this.size)}}class sz extends $O{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e){this.persistence=e,this.Qr=new Hs(t=>fl(t),Rf),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.$r=0,this.Kr=new jb,this.targetCount=0,this.Ur=_l.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),X.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new _l(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.zn(t),X.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),X.waitFor(o).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new or(0),this.zr=!1,this.zr=!0,this.jr=new nz,this.referenceDelegate=e(this),this.Hr=new az(this),this.indexManager=new HB,this.remoteDocumentCache=function(i){return new iz(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new VO(t),this.Yr=new ez(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new rz(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const i=new oz(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return X.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class oz extends CP{constructor(e){super(),this.currentSequenceNumber=e}}class hy{constructor(e){this.persistence=e,this.ti=new jb,this.ni=null}static ri(e){return new hy(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),X.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,Ie.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return X.or([()=>X.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class wg{constructor(e,t){this.persistence=e,this.oi=new Hs(r=>Hn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=HO(this,t)}static ri(e,t){return new wg(e,t)}Zr(){}Xr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return X.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?X.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,u=>this.ar(e,u,t).next(h=>{h||(r++,o.removeEntry(u,Ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Um(e.data.value)),t}ar(e,t,r){return X.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e){this.serializer=e}B(e,t,r,i){const o=new ey("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore(Af)}(e),function(d){d.createObjectStore(Wd,{keyPath:SF}),d.createObjectStore(li,{keyPath:ZR,autoIncrement:!0}).createIndex(rl,eI,{unique:!0}),d.createObjectStore(ec)}(e),zI(e),function(d){d.createObjectStore(Yo)}(e));let u=X.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore(nc),d.deleteObjectStore(tc),d.deleteObjectStore(ul)}(e),zI(e)),u=u.next(()=>function(d){const f=d.store(ul),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ie.min().toTimestamp(),targetCount:0};return f.put(fg,g)}(o))),r<4&&i>=4&&(r!==0&&(u=u.next(()=>function(d,f){return f.store(li).G().next(_=>{d.deleteObjectStore(li),d.createObjectStore(li,{keyPath:ZR,autoIncrement:!0}).createIndex(rl,eI,{unique:!0});const v=f.store(li),T=_.map(w=>v.put(w));return X.waitFor(T)})}(e,o))),u=u.next(()=>{(function(d){d.createObjectStore(rc,{keyPath:NF})})(e)})),r<5&&i>=5&&(u=u.next(()=>this._i(o))),r<6&&i>=6&&(u=u.next(()=>(function(d){d.createObjectStore(Qd)}(e),this.ai(o)))),r<7&&i>=7&&(u=u.next(()=>this.ui(o))),r<8&&i>=8&&(u=u.next(()=>this.ci(e,o))),r<9&&i>=9&&(u=u.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(u=u.next(()=>this.li(o))),r<11&&i>=11&&(u=u.next(()=>{(function(d){d.createObjectStore(ty,{keyPath:kF})})(e),function(d){d.createObjectStore(ny,{keyPath:VF})}(e)})),r<12&&i>=12&&(u=u.next(()=>{(function(d){const f=d.createObjectStore(ry,{keyPath:zF});f.createIndex($0,qF,{unique:!1}),f.createIndex(MP,HF,{unique:!1})})(e)})),r<13&&i>=13&&(u=u.next(()=>function(d){const f=d.createObjectStore(dg,{keyPath:RF});f.createIndex(Mm,IF),f.createIndex(DP,CF)}(e)).next(()=>this.hi(e,o)).next(()=>e.deleteObjectStore(Yo))),r<14&&i>=14&&(u=u.next(()=>this.Pi(e,o))),r<15&&i>=15&&(u=u.next(()=>function(d){d.createObjectStore(bb,{keyPath:MF,autoIncrement:!0}).createIndex(H0,LF,{unique:!1}),d.createObjectStore(pg,{keyPath:UF}).createIndex(kP,jF,{unique:!1}),d.createObjectStore(mg,{keyPath:FF}).createIndex(VP,BF,{unique:!1})}(e))),r<16&&i>=16&&(u=u.next(()=>{t.objectStore(pg).clear()}).next(()=>{t.objectStore(mg).clear()})),r<17&&i>=17&&(u=u.next(()=>{(function(d){d.createObjectStore(wb,{keyPath:$F})})(e)})),u}ai(e){let t=0;return e.store(Yo).Z((r,i)=>{t+=bg(i)}).next(()=>{const r={byteSize:t};return e.store(Qd).put(q0,r)})}_i(e){const t=e.store(Wd),r=e.store(li);return t.G().next(i=>X.forEach(i,o=>{const u=IDBKeyRange.bound([o.userId,Ba],[o.userId,o.lastAcknowledgedBatchId]);return r.G(rl,u).next(h=>X.forEach(h,d=>{Ae(d.userId===o.userId);const f=Jo(this.serializer,d);return FO(e,o.userId,f).next(()=>{})}))}))}ui(e){const t=e.store(nc),r=e.store(Yo);return e.store(ul).get(fg).next(i=>{const o=[];return r.Z((u,h)=>{const d=new qe(u),f=function(_){return[0,Hn(_)]}(d);o.push(t.get(f).next(g=>g?X.resolve():(_=>t.put({targetId:0,path:Hn(_),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>X.waitFor(o))})}ci(e,t){e.createObjectStore(Yd,{keyPath:DF});const r=t.store(Yd),i=new Ub,o=u=>{if(i.add(u)){const h=u.lastSegment(),d=u.popLast();return r.put({collectionId:h,parent:Hn(d)})}};return t.store(Yo).Z({Y:!0},(u,h)=>{const d=new qe(u);return o(d.popLast())}).next(()=>t.store(ec).Z({Y:!0},([u,h,d],f)=>{const g=Fi(h);return o(g.popLast())}))}li(e){const t=e.store(tc);return t.Z((r,i)=>{const o=wd(i),u=MO(this.serializer,o);return t.put(u)})}hi(e,t){const r=t.store(Yo),i=[];return r.Z((o,u)=>{const h=t.store(dg),d=function(_){return _.document?new _e(qe.fromString(_.document.name).popFirst(5)):_.noDocument?_e.fromSegments(_.noDocument.path):_.unknownDocument?_e.fromSegments(_.unknownDocument.path):we()}(u).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(f))}).next(()=>X.waitFor(i))}Pi(e,t){const r=t.store(li),i=GO(this.serializer),o=new Fb(hy.ri,this.serializer.Tt);return r.G().next(u=>{const h=new Map;return u.forEach(d=>{var f;let g=(f=h.get(d.userId))!==null&&f!==void 0?f:Me();Jo(this.serializer,d).keys().forEach(_=>g=g.add(_)),h.set(d.userId,g)}),X.forEach(h,(d,f)=>{const g=new Sn(f),_=uy.It(this.serializer,g),v=o.getIndexManager(g),T=cy.It(g,this.serializer,v,o.referenceDelegate);return new KO(i,T,_,v).recalculateAndSaveOverlaysForDocumentKeys(new G0(t,or.ae),d).next()})})}}function zI(n){n.createObjectStore(nc,{keyPath:PF}).createIndex(Eb,OF,{unique:!0}),n.createObjectStore(tc,{keyPath:"targetId"}).createIndex(NP,xF,{unique:!0}),n.createObjectStore(ul)}const Oa="IndexedDbPersistence",u0=18e5,c0=5e3,h0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",WO="main";class Bb{constructor(e,t,r,i,o,u,h,d,f,g,_=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ti=o,this.window=u,this.document=h,this.Ii=f,this.Ei=g,this.di=_,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=v=>Promise.resolve(),!Bb.D())throw new de(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new YB(this,i),this.gi=t+WO,this.serializer=new VO(d),this.pi=new zi(this.gi,this.di,new lz(this.serializer)),this.jr=new UB,this.Hr=new GB(this.referenceDelegate,this.serializer),this.remoteDocumentCache=GO(this.serializer),this.Yr=new LB,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,g===!1&&Wt(Oa,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(ne.FAILED_PRECONDITION,h0);return this.Si(),this.bi(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new or(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>_m(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(t=>{t||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(co(e))return pe(Oa,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe(Oa,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return td(e).get(vu).next(t=>X.resolve(this.Ni(t)))}Bi(e){return _m(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,u0)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=mn(t,rc);return r.G().next(i=>{const o=this.qi(i,u0),u=i.filter(h=>o.indexOf(h)===-1);return X.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?X.resolve(!0):td(e).get(vu).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,c0)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new de(ne.FAILED_PRECONDITION,h0);return!1}}return!(!this.networkEnabled||!this.inForeground)||_m(e).G().next(r=>this.qi(r,c0).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(o||u&&h)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&pe(Oa,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[Af,rc],e=>{const t=new G0(e,or.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(r=>this.ki(r.updateTimeMs,t)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>_m(e).G().next(t=>this.qi(t,u0).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return cy.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $B(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return uy.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe(Oa,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(d){return d===17?WF:d===16?KF:d===15?Tb:d===14?jP:d===13?UP:d===12?GF:d===11?LP:void we()}(this.di);let u;return this.pi.runTransaction(e,i,o,h=>(u=new G0(h,this.Gr?this.Gr.next():or.ae),t==="readwrite-primary"?this.Fi(u).next(d=>!!d||this.Mi(u)).next(d=>{if(!d)throw Wt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new de(ne.FAILED_PRECONDITION,IP);return r(u)}).next(d=>this.Oi(u).next(()=>d)):this.ji(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}ji(e){return td(e).get(vu).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,c0)&&!this.$i(t.ownerId)&&!this.Ni(t)&&!(this.Ei||this.allowTabSynchronization&&t.allowTabSynchronization))throw new de(ne.FAILED_PRECONDITION,h0)})}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return td(e).put(vu,t)}static D(){return zi.D()}xi(e){const t=td(e);return t.get(vu).next(r=>this.Ni(r)?(pe(Oa,"Releasing primary lease."),t.delete(vu)):X.resolve())}ki(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Wt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Si(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}bi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const t=/(?:Version|Mobile)\/1[456]/;sx()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const r=((t=this.yi)===null||t===void 0?void 0:t.getItem(this.Qi(e)))!==null;return pe(Oa,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Wt(Oa,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){Wt("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function td(n){return mn(n,Af)}function _m(n){return mn(n,rc)}function zb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Me(),i=Me();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new qb(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return sx()?8:xP(Vt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new uz;return this._s(e,t,u).next(h=>{if(o.result=h,this.Xi)return this.us(e,t,u,h.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Pu()<=Be.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Ou(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(Pu()<=Be.DEBUG&&pe("QueryEngine","Query:",Ou(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Pu()<=Be.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Ou(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(t))):X.resolve())}rs(e,t){if(fI(t))return X.resolve(null);let r=er(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=_g(t,null,"F"),r=er(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Me(...o);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.cs(t,h);return this.ls(t,f,u,d.readTime)?this.rs(e,_g(t,null,"F")):this.hs(e,f,t,d)}))})))}ss(e,t,r,i){return fI(t)||i.isEqual(Ie.min())?X.resolve(null):this.ns.getDocuments(e,r).next(o=>{const u=this.cs(t,o);return this.ls(t,u,r,i)?X.resolve(null):(Pu()<=Be.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ou(t)),this.hs(e,u,t,AP(i,Zu)).next(h=>h))})}cs(e,t){let r=new lt(aO(e));return t.forEach((i,o)=>{Cf(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return Pu()<=Be.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Ou(t)),this.ns.getDocumentsMatchingQuery(e,t,Pr.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="LocalStore",cz=3e8;class hz{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new yt(Ne),this.Is=new Hs(o=>fl(o),Rf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function YO(n,e,t,r){return new hz(n,e,t,r)}async function XO(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let d=Me();for(const f of i){u.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of o){h.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next(f=>({Rs:f,removedBatchIds:u,addedBatchIds:h}))})})}function dz(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,f,g){const _=f.batch,v=_.keys();let T=X.resolve();return v.forEach(w=>{T=T.next(()=>g.getEntry(d,w)).next(R=>{const x=f.docVersions.get(w);Ae(x!==null),R.version.compareTo(x)<0&&(_.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),g.addEntry(R)))})}),T.next(()=>h.mutationQueue.removeMutationBatch(d,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=Me();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(d=d.add(h.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function JO(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function fz(n,e){const t=Ee(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const h=[];e.targetChanges.forEach((g,_)=>{const v=i.get(_);if(!v)return;h.push(t.Hr.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(o,g.addedDocuments,_)));let T=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(qt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(_,T),function(R,x,U){return R.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=cz?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(v,T,g)&&h.push(t.Hr.updateTargetData(o,T))});let d=ur(),f=Me();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(ZO(o,u,e.documentUpdates).next(g=>{d=g.Vs,f=g.fs})),!r.isEqual(Ie.min())){const g=t.Hr.getLastRemoteSnapshotVersion(o).next(_=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(g)}return X.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(t.Ts=i,o))}function ZO(n,e,t){let r=Me(),i=Me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=ur();return t.forEach((h,d)=>{const f=o.get(h);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(h)),d.isNoDocument()&&d.version.isEqual(Ie.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):pe(Hb,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",d.version)}),{Vs:u,fs:i}})}function pz(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ba),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cc(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,X.resolve(i)):t.Hr.allocateTargetId(r).next(u=>(i=new Ps(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function hc(n,e,t){const r=Ee(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!co(u))throw u;pe(Hb,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Tg(n,e,t){const r=Ee(n);let i=Ie.min(),o=Me();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,f,g){const _=Ee(d),v=_.Is.get(g);return v!==void 0?X.resolve(_.Ts.get(v)):_.Hr.getTargetData(f,g)}(r,u,er(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,h.targetId).next(d=>{o=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?i:Ie.min(),t?o:Me())).next(h=>(nD(r,sO(e),h),{documents:h,gs:o})))}function eD(n,e){const t=Ee(n),r=Ee(t.Hr),i=t.Ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.lt(o,e).next(u=>u?u.target:null))}function tD(n,e){const t=Ee(n),r=t.Es.get(e)||Ie.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ds.getAllFromCollectionGroup(i,e,AP(r,Zu),Number.MAX_SAFE_INTEGER)).then(i=>(nD(t,e,i),i))}function nD(n,e,t){let r=n.Es.get(e)||Ie.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}async function mz(n,e,t,r){const i=Ee(n);let o=Me(),u=ur();for(const f of t){const g=e.ps(f.metadata.name);f.document&&(o=o.add(g));const _=e.ys(f);_.setReadTime(e.ws(f.metadata.readTime)),u=u.insert(g,_)}const h=i.ds.newChangeBuffer({trackRemovals:!0}),d=await cc(i,function(g){return er(xc(qe.fromString(`__bundle__/docs/${g}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",f=>ZO(f,h,u).next(g=>(h.apply(f),g)).next(g=>i.Hr.removeMatchingKeysForTargetId(f,d.targetId).next(()=>i.Hr.addMatchingKeys(f,o,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,g.Vs,g.fs)).next(()=>g.Vs)))}async function gz(n,e,t=Me()){const r=await cc(n,er(Mb(e.bundledQuery))),i=Ee(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const u=Qt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Yr.saveNamedQuery(o,e);const h=r.withResumeToken(qt.EMPTY_BYTE_STRING,u);return i.Ts=i.Ts.insert(h.targetId,h),i.Hr.updateTargetData(o,h).next(()=>i.Hr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Hr.addMatchingKeys(o,t,r.targetId)).next(()=>i.Yr.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="firestore_clients";function qI(n,e){return`${rD}_${n}_${e}`}const iD="firestore_mutations";function HI(n,e,t){let r=`${iD}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const sD="firestore_targets";function d0(n,e){return`${sD}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="SharedClientState";class Sg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ss(e,t,r){const i=JSON.parse(r);let o,u=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return u&&i.error&&(u=typeof i.error.message=="string"&&typeof i.error.code=="string",u&&(o=new de(i.error.code,i.error.message))),u?new Sg(e,t,i.state,o):(Wt(Di,`Failed to parse mutation state for ID '${t}': ${r}`),null)}bs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kd{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ss(e,t){const r=JSON.parse(t);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new de(r.error.code,r.error.message))),o?new kd(e,r.state,i):(Wt(Di,`Failed to parse target state for ID '${e}': ${t}`),null)}bs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ag{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ss(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Cb();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=PP(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new Ag(e,o):(Wt(Di,`Failed to parse client data for instance '${e}': ${t}`),null)}}class $b{constructor(e,t){this.clientId=e,this.onlineState=t}static Ss(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new $b(t.clientId,t.onlineState):(Wt(Di,`Failed to parse online state: ${e}`),null)}}class oE{constructor(){this.activeTargetIds=Cb()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f0{constructor(e,t,r,i,o){this.window=e,this.Ti=t,this.persistenceKey=r,this.Cs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new yt(Ne),this.started=!1,this.Os=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ns=qI(this.persistenceKey,this.Cs),this.Bs=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new oE),this.Ls=new RegExp(`^${rD}_${u}_([^_]*)$`),this.ks=new RegExp(`^${iD}_${u}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${sD}_${u}_(\\d+)$`),this.Qs=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.$s=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const r of e){if(r===this.Cs)continue;const i=this.getItem(qI(this.persistenceKey,r));if(i){const o=Ag.Ss(r,i);o&&(this.xs=this.xs.insert(o.clientId,o))}}this.Ks();const t=this.storage.getItem(this.Qs);if(t){const r=this.Us(t);r&&this.Ws(r)}for(const r of this.Os)this.Ms(r);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,r){this.zs(e,t,r),this.js(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(d0(this.persistenceKey,e));if(i){const o=kd.Ss(e,i);o&&(r=o.state)}}return t&&this.Hs.Ds(e),this.Ks(),r}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(d0(this.persistenceKey,e))}updateQueryState(e,t,r){this.Js(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.js(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pe(Di,"READ",e,t),t}setItem(e,t){pe(Di,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){pe(Di,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(pe(Di,"EVENT",t.key,t.newValue),t.key===this.Ns)return void Wt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ls.test(t.key)){if(t.newValue==null){const r=this.Xs(t.key);return this.eo(r,null)}{const r=this.no(t.key,t.newValue);if(r)return this.eo(r.clientId,r)}}else if(this.ks.test(t.key)){if(t.newValue!==null){const r=this.ro(t.key,t.newValue);if(r)return this.io(r)}}else if(this.qs.test(t.key)){if(t.newValue!==null){const r=this.so(t.key,t.newValue);if(r)return this.oo(r)}}else if(t.key===this.Qs){if(t.newValue!==null){const r=this.Us(t.newValue);if(r)return this.Ws(r)}}else if(t.key===this.Bs){const r=function(o){let u=or.ae;if(o!=null)try{const h=JSON.parse(o);Ae(typeof h=="number"),u=h}catch(h){Wt(Di,"Failed to read sequence number from WebStorage",h)}return u}(t.newValue);r!==or.ae&&this.sequenceNumberHandler(r)}else if(t.key===this.$s){const r=this._o(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ao(i)))}}}else this.Os.push(t)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.bs())}zs(e,t,r){const i=new Sg(this.currentUser,e,t,r),o=HI(this.persistenceKey,this.currentUser,e);this.setItem(o,i.bs())}js(e){const t=HI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,r){const i=d0(this.persistenceKey,e),o=new kd(e,t,r);this.setItem(i,o.bs())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const r=this.Xs(e);return Ag.Ss(r,t)}ro(e,t){const r=this.ks.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Sg.Ss(new Sn(o),i,t)}so(e,t){const r=this.qs.exec(e),i=Number(r[1]);return kd.Ss(i,t)}Us(e){return $b.Ss(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);pe(Di,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const r=t?this.xs.insert(e,t):this.xs.remove(e),i=this.Gs(this.xs),o=this.Gs(r),u=[],h=[];return o.forEach(d=>{i.has(d)||u.push(d)}),i.forEach(d=>{o.has(d)||h.push(d)}),this.syncEngine.lo(u,h).then(()=>{this.xs=r})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=Cb();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class aD{constructor(){this.ho=new oE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new oE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="ConnectivityMonitor";class GI{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe($I,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe($I,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm=null;function lE(){return vm===null?vm=function(){return 268435456+Math.round(2147483648*Math.random())}():vm++,"0x"+vm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="RestConnection",_z={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vz{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===K0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,o){const u=lE(),h=this.bo(e,t.toUriEncodedString());pe(p0,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,o),this.vo(e,h,d,r).then(f=>(pe(p0,`Received RPC '${e}' ${u}: `,f),f),f=>{throw Wi(p0,`RPC '${e}' ${u} failed with error: `,f,"url: ",h,"request:",r),f})}Co(e,t,r,i,o,u){return this.So(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,t){const r=_z[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="WebChannelConnection";class bz extends vz{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const o=lE();return new Promise((u,h)=>{const d=new yP;d.setWithCredentials(!0),d.listenOnce(_P.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Nm.NO_ERROR:const g=d.getResponseJson();pe(Fn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case Nm.TIMEOUT:pe(Fn,`RPC '${e}' ${o} timed out`),h(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Nm.HTTP_ERROR:const _=d.getStatus();if(pe(Fn,`RPC '${e}' ${o} failed with status:`,_,"response text:",d.getResponseText()),_>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const w=function(x){const U=x.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(U)>=0?U:ne.UNKNOWN}(T.status);h(new de(w,T.message))}else h(new de(ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new de(ne.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{pe(Fn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);pe(Fn,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",f,r,15)})}Wo(e,t,r){const i=lE(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=bP(),h=EP(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const g=o.join("");pe(Fn,`Creating RPC '${e}' stream ${i}: ${g}`,d);const _=u.createWebChannel(g,d);let v=!1,T=!1;const w=new Ez({Fo:x=>{T?pe(Fn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(v||(pe(Fn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),v=!0),pe(Fn,`RPC '${e}' stream ${i} sending:`,x),_.send(x))},Mo:()=>_.close()}),R=(x,U,L)=>{x.listen(U,j=>{try{L(j)}catch($){setTimeout(()=>{throw $},0)}})};return R(_,vd.EventType.OPEN,()=>{T||(pe(Fn,`RPC '${e}' stream ${i} transport opened.`),w.Qo())}),R(_,vd.EventType.CLOSE,()=>{T||(T=!0,pe(Fn,`RPC '${e}' stream ${i} transport closed`),w.Ko())}),R(_,vd.EventType.ERROR,x=>{T||(T=!0,Wi(Fn,`RPC '${e}' stream ${i} transport errored:`,x),w.Ko(new de(ne.UNAVAILABLE,"The operation could not be completed")))}),R(_,vd.EventType.MESSAGE,x=>{var U;if(!T){const L=x.data[0];Ae(!!L);const j=L,$=(j==null?void 0:j.error)||((U=j[0])===null||U===void 0?void 0:U.error);if($){pe(Fn,`RPC '${e}' stream ${i} received error:`,$);const z=$.status;let H=function(I){const b=nn[I];if(b!==void 0)return vO(b)}(z),M=$.message;H===void 0&&(H=ne.INTERNAL,M="Unknown error status: "+z+" with message "+$.message),T=!0,w.Ko(new de(H,M)),_.close()}else pe(Fn,`RPC '${e}' stream ${i} received:`,L),w.Uo(L)}}),R(h,vP.STAT_EVENT,x=>{x.stat===B0.PROXY?pe(Fn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===B0.NOPROXY&&pe(Fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(){return typeof window<"u"?window:null}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(n){return new RB(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="PersistentStream";class lD{constructor(e,t,r,i,o,u,h,d){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Gb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Wt(t.toString()),Wt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new de(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(KI,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe(KI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wz extends lD{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=xB(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ie.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?Qt(u.readTime):Ie.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=nE(this.serializer),t.addTarget=function(o,u){let h;const d=u.target;if(h=gg(d)?{documents:xO(o,d)}:{query:PO(o,d).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=TO(o,u.resumeToken);const f=eE(o,u.expectedCount);f!==null&&(h.expectedCount=f)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=uc(o,u.snapshotVersion.toTimestamp());const f=eE(o,u.expectedCount);f!==null&&(h.expectedCount=f)}return h}(this.serializer,e);const r=OB(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=nE(this.serializer),t.removeTarget=e,this.I_(t)}}class Tz extends lD{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=PB(e.writeResults,e.commitTime),r=Qt(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=nE(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>nf(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{}class Az extends Sz{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.So(e,tE(t,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(ne.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,tE(t,r),i,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ne.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Rz{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Wt(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="RemoteStore";class Iz{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{r.enqueueAndForget(async()=>{fo(this)&&(pe(vl,"Restarting streams for network reachability change."),await async function(d){const f=Ee(d);f.W_.add(4),await Dc(f),f.j_.set("Unknown"),f.W_.delete(4),await Nf(f)}(this))})}),this.j_=new Rz(r,i)}}async function Nf(n){if(fo(n))for(const e of n.G_)await e(!0)}async function Dc(n){for(const e of n.G_)await e(!1)}function dy(n,e){const t=Ee(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Qb(t)?Wb(t):kc(t).c_()&&Kb(t,e))}function dc(n,e){const t=Ee(n),r=kc(t);t.U_.delete(e),r.c_()&&uD(t,e),t.U_.size===0&&(r.c_()?r.P_():fo(t)&&t.j_.set("Unknown"))}function Kb(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kc(n).y_(e)}function uD(n,e){n.H_.Ne(e),kc(n).w_(e)}function Wb(n){n.H_=new wB({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),kc(n).start(),n.j_.B_()}function Qb(n){return fo(n)&&!kc(n).u_()&&n.U_.size>0}function fo(n){return Ee(n).W_.size===0}function cD(n){n.H_=void 0}async function Cz(n){n.j_.set("Online")}async function xz(n){n.U_.forEach((e,t)=>{Kb(n,e)})}async function Pz(n,e){cD(n),Qb(n)?(n.j_.q_(e),Wb(n)):n.j_.set("Unknown")}async function Oz(n,e,t){if(n.j_.set("Online"),e instanceof wO&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const h of o.targetIds)i.U_.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.U_.delete(h),i.H_.removeTarget(h))}(n,e)}catch(r){pe(vl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rg(n,r)}else if(e instanceof Bm?n.H_.We(e):e instanceof bO?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ie.min()))try{const r=await JO(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.H_.ot(u);return h.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.U_.get(f);g&&o.U_.set(f,g.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,f)=>{const g=o.U_.get(d);if(!g)return;o.U_.set(d,g.withResumeToken(qt.EMPTY_BYTE_STRING,g.snapshotVersion)),uD(o,d);const _=new Ps(g.target,d,f,g.sequenceNumber);Kb(o,_)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){pe(vl,"Failed to raise snapshot:",r),await Rg(n,r)}}async function Rg(n,e,t){if(!co(e))throw e;n.W_.add(1),await Dc(n),n.j_.set("Offline"),t||(t=()=>JO(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(vl,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Nf(n)})}function hD(n,e){return e().catch(t=>Rg(n,t,e))}async function Nc(n){const e=Ee(n),t=Za(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Ba;for(;Dz(e);)try{const i=await pz(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,Nz(e,i)}catch(i){await Rg(e,i)}dD(e)&&fD(e)}function Dz(n){return fo(n)&&n.K_.length<10}function Nz(n,e){n.K_.push(e);const t=Za(n);t.c_()&&t.S_&&t.b_(e.mutations)}function dD(n){return fo(n)&&!Za(n).u_()&&n.K_.length>0}function fD(n){Za(n).start()}async function kz(n){Za(n).C_()}async function Vz(n){const e=Za(n);for(const t of n.K_)e.b_(t.mutations)}async function Mz(n,e,t){const r=n.K_.shift(),i=Db.from(r,e,t);await hD(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Nc(n)}async function Lz(n,e){e&&Za(n).S_&&await async function(r,i){if(function(u){return _O(u)&&u!==ne.ABORTED}(i.code)){const o=r.K_.shift();Za(r).h_(),await hD(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Nc(r)}}(n,e),dD(n)&&fD(n)}async function WI(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),pe(vl,"RemoteStore received new credentials");const r=fo(t);t.W_.add(3),await Dc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Nf(t)}async function uE(n,e){const t=Ee(n);e?(t.W_.delete(2),await Nf(t)):e||(t.W_.add(2),await Dc(t),t.j_.set("Unknown"))}function kc(n){return n.J_||(n.J_=function(t,r,i){const o=Ee(t);return o.M_(),new wz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:Cz.bind(null,n),No:xz.bind(null,n),Lo:Pz.bind(null,n),p_:Oz.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Qb(n)?Wb(n):n.j_.set("Unknown")):(await n.J_.stop(),cD(n))})),n.J_}function Za(n){return n.Y_||(n.Y_=function(t,r,i){const o=Ee(t);return o.M_(),new Tz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:kz.bind(null,n),Lo:Lz.bind(null,n),D_:Vz.bind(null,n),v_:Mz.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Nc(n)):(await n.Y_.stop(),n.K_.length>0&&(pe(vl,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,h=new Yb(e,t,u,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vc(n,e){if(Wt("AsyncQueue",`${e}: ${n}`),co(n))return new de(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{static emptySet(e){return new qu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Ed(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new qu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.Z_=new yt(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class fc{constructor(e,t,r,i,o,u,h,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new fc(e,t,qu.emptySet(t),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&If(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class jz{constructor(){this.queries=YI(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=Ee(t),o=i.queries;i.queries=YI(),o.forEach((u,h)=>{for(const d of h.ta)d.onError(r)})})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function YI(){return new Hs(n=>iO(n),If)}async function Xb(n,e){const t=Ee(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new Uz,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=Vc(u,`Initialization of query '${Ou(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&Zb(t)}async function Jb(n,e){const t=Ee(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const u=o.ta.indexOf(e);u>=0&&(o.ta.splice(u,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Fz(n,e){const t=Ee(n);let r=!1;for(const i of e){const o=i.query,u=t.queries.get(o);if(u){for(const h of u.ta)h.oa(i)&&(r=!0);u.ea=i}}r&&Zb(t)}function Bz(n,e,t){const r=Ee(n),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(t);r.queries.delete(e)}function Zb(n){n.ia.forEach(e=>{e.next()})}var cE,XI;(XI=cE||(cE={}))._a="default",XI.Cache="cache";class ew{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=fc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==cE.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.serializer=e}ps(e){return qi(this.serializer,e)}ys(e){return e.metadata.exists?CO(this.serializer,e.document,!1):vt.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return Qt(e)}}class qz{constructor(e,t,r){this.da=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=pD(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const r=qe.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,r=new JI(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.ps(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Me()).add(o);t.set(u,h)}}return t}async complete(){const e=await mz(this.localStore,new JI(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const r of this.queries)await gz(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function pD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.key=e}}class gD{constructor(e){this.key=e}}class yD{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=aO(e),this.wa=new qu(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new QI,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const v=i.get(g),T=Cf(this.query,_)?_:null,w=!!v&&this.mutatedKeys.has(v.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let x=!1;v&&T?v.data.isEqual(T.data)?w!==R&&(r.track({type:3,doc:T}),x=!0):this.va(v,T)||(r.track({type:2,doc:T}),x=!0,(d&&this.ya(T,d)>0||f&&this.ya(T,f)<0)&&(h=!0)):!v&&T?(r.track({type:0,doc:T}),x=!0):v&&!T&&(r.track({type:1,doc:v}),x=!0,(d||f)&&(h=!0)),x&&(T?(u=u.add(T),o=R?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{wa:u,Da:r,ls:h,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((g,_)=>function(T,w){const R=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return R(T)-R(w)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),i=i!=null&&i;const h=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,f=d!==this.ga;return this.ga=d,u.length!==0||f?{snapshot:new fc(this.query,e.wa,o,u,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new QI,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new gD(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new mD(r))}),t}Oa(e){this.fa=e.gs,this.pa=Me();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return fc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const po="SyncEngine";class Hz{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class $z{constructor(e){this.key=e,this.Ba=!1}}class Gz{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Hs(h=>iO(h),If),this.qa=new Map,this.Qa=new Set,this.$a=new yt(_e.comparator),this.Ka=new Map,this.Ua=new jb,this.Wa={},this.Ga=new Map,this.za=_l.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Kz(n,e,t=!0){const r=fy(n);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await _D(r,e,t,!0),i}async function Wz(n,e){const t=fy(n);await _D(t,e,!0,!1)}async function _D(n,e,t,r){const i=await cc(n.localStore,er(e)),o=i.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await tw(n,e,o,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&dy(n.remoteStore,i),h}async function tw(n,e,t,r,i){n.Ha=(_,v,T)=>async function(R,x,U,L){let j=x.view.ba(U);j.ls&&(j=await Tg(R.localStore,x.query,!1).then(({documents:M})=>x.view.ba(M,j)));const $=L&&L.targetChanges.get(x.targetId),z=L&&L.targetMismatches.get(x.targetId)!=null,H=x.view.applyChanges(j,R.isPrimaryClient,$,z);return hE(R,x.targetId,H.Ma),H.snapshot}(n,_,v,T);const o=await Tg(n.localStore,e,!0),u=new yD(e,o.gs),h=u.ba(o.documents),d=Of.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=u.applyChanges(h,n.isPrimaryClient,d);hE(n,t,f.Ma);const g=new Hz(e,t,u);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function Qz(n,e,t){const r=Ee(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(u=>!If(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&dc(r.remoteStore,i.targetId),pc(r,i.targetId)}).catch(uo)):(pc(r,i.targetId),await hc(r.localStore,i.targetId,!0))}async function Yz(n,e){const t=Ee(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),dc(t.remoteStore,r.targetId))}async function Xz(n,e,t){const r=sw(n);try{const i=await function(u,h){const d=Ee(u),f=Rt.now(),g=h.reduce((T,w)=>T.add(w.key),Me());let _,v;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let w=ur(),R=Me();return d.ds.getEntries(T,g).next(x=>{w=x,w.forEach((U,L)=>{L.isValidDocument()||(R=R.add(U))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,w)).next(x=>{_=x;const U=[];for(const L of h){const j=vB(L,_.get(L.key).overlayedDocument);j!=null&&U.push(new $s(L.key,j,QP(j.value.mapValue),At.exists(!0)))}return d.mutationQueue.addMutationBatch(T,f,U,h)}).next(x=>{v=x;const U=x.applyToLocalDocumentSet(_,R);return d.documentOverlayCache.saveOverlays(T,x.batchId,U)})}).then(()=>({batchId:v.batchId,changes:lO(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,h,d){let f=u.Wa[u.currentUser.toKey()];f||(f=new yt(Ne)),f=f.insert(h,d),u.Wa[u.currentUser.toKey()]=f}(r,i.batchId,t),await Gs(r,i.changes),await Nc(r.remoteStore)}catch(i){const o=Vc(i,"Failed to persist write");t.reject(o)}}async function vD(n,e){const t=Ee(n);try{const r=await fz(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t.Ka.get(o);u&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Ba=!0:i.modifiedDocuments.size>0?Ae(u.Ba):i.removedDocuments.size>0&&(Ae(u.Ba),u.Ba=!1))}),await Gs(t,r,e)}catch(r){await uo(r)}}function ZI(n,e,t){const r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((o,u)=>{const h=u.view.sa(e);h.snapshot&&i.push(h.snapshot)}),function(u,h){const d=Ee(u);d.onlineState=h;let f=!1;d.queries.forEach((g,_)=>{for(const v of _.ta)v.sa(h)&&(f=!0)}),f&&Zb(d)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Jz(n,e,t){const r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),o=i&&i.key;if(o){let u=new yt(_e.comparator);u=u.insert(o,vt.newNoDocument(o,Ie.min()));const h=Me().add(o),d=new Pf(Ie.min(),new Map,new yt(Ne),u,h);await vD(r,d),r.$a=r.$a.remove(o),r.Ka.delete(e),iw(r)}else await hc(r.localStore,e,!1).then(()=>pc(r,e,t)).catch(uo)}async function Zz(n,e){const t=Ee(n),r=e.batch.batchId;try{const i=await dz(t.localStore,e);rw(t,r,null),nw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Gs(t,i)}catch(i){await uo(i)}}async function e3(n,e,t){const r=Ee(n);try{const i=await function(u,h){const d=Ee(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return d.mutationQueue.lookupMutationBatch(f,h).next(_=>(Ae(_!==null),g=_.keys(),d.mutationQueue.removeMutationBatch(f,_))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>d.localDocuments.getDocuments(f,g))})}(r.localStore,e);rw(r,e,t),nw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Gs(r,i)}catch(i){await uo(i)}}async function t3(n,e){const t=Ee(n);fo(t.remoteStore)||pe(po,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(u){const h=Ee(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>h.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===Ba)return void e.resolve();const i=t.Ga.get(r)||[];i.push(e),t.Ga.set(r,i)}catch(r){const i=Vc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function nw(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function rw(n,e,t){const r=Ee(n);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function pc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||ED(n,r)})}function ED(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(dc(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),iw(n))}function hE(n,e,t){for(const r of t)r instanceof mD?(n.Ua.addReference(r.key,e),n3(n,r)):r instanceof gD?(pe(po,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||ED(n,r.key)):we()}function n3(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(pe(po,"New document in limbo: "+t),n.Qa.add(r),iw(n))}function iw(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(qe.fromString(e)),r=n.za.next();n.Ka.set(r,new $z(t)),n.$a=n.$a.insert(t,r),dy(n.remoteStore,new Ps(er(xc(t.path)),r,"TargetPurposeLimboResolution",or.ae))}}async function Gs(n,e,t){const r=Ee(n),i=[],o=[],u=[];r.ka.isEmpty()||(r.ka.forEach((h,d)=>{u.push(r.Ha(d,e,t).then(f=>{var g;if((f||t)&&r.isPrimaryClient){const _=f?!f.fromCache:(g=t==null?void 0:t.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(f){i.push(f);const _=qb.Yi(d.targetId,f);o.push(_)}}))}),await Promise.all(u),r.La.p_(i),await async function(d,f){const g=Ee(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>X.forEach(f,v=>X.forEach(v.Hi,T=>g.persistence.referenceDelegate.addReference(_,v.targetId,T)).next(()=>X.forEach(v.Ji,T=>g.persistence.referenceDelegate.removeReference(_,v.targetId,T)))))}catch(_){if(!co(_))throw _;pe(Hb,"Failed to update sequence numbers: "+_)}for(const _ of f){const v=_.targetId;if(!_.fromCache){const T=g.Ts.get(v),w=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(w);g.Ts=g.Ts.insert(v,R)}}}(r.localStore,o))}async function r3(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){pe(po,"User change. New user:",e.toKey());const r=await XO(t.localStore,e);t.currentUser=e,function(o,u){o.Ga.forEach(h=>{h.forEach(d=>{d.reject(new de(ne.CANCELLED,u))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gs(t,r.Rs)}}function i3(n,e){const t=Ee(n),r=t.Ka.get(e);if(r&&r.Ba)return Me().add(r.key);{let i=Me();const o=t.qa.get(e);if(!o)return i;for(const u of o){const h=t.ka.get(u);i=i.unionWith(h.view.Sa)}return i}}async function s3(n,e){const t=Ee(n),r=await Tg(t.localStore,e.query,!0),i=e.view.Oa(r);return t.isPrimaryClient&&hE(t,e.targetId,i.Ma),i}async function a3(n,e){const t=Ee(n);return tD(t.localStore,e).then(r=>Gs(t,r))}async function o3(n,e,t,r){const i=Ee(n),o=await function(h,d){const f=Ee(h),g=Ee(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",_=>g.Ln(_,d).next(v=>v?f.localDocuments.getDocuments(_,v):X.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?await Nc(i.remoteStore):t==="acknowledged"||t==="rejected"?(rw(i,e,r||null),nw(i,e),function(h,d){Ee(Ee(h).mutationQueue).qn(d)}(i.localStore,e)):we(),await Gs(i,o)):pe(po,"Cannot apply mutation batch with id: "+e)}async function l3(n,e){const t=Ee(n);if(fy(t),sw(t),e===!0&&t.ja!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await e1(t,r.toArray());t.ja=!0,await uE(t.remoteStore,!0);for(const o of i)dy(t.remoteStore,o)}else if(e===!1&&t.ja!==!1){const r=[];let i=Promise.resolve();t.qa.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(pc(t,u),hc(t.localStore,u,!0))),dc(t.remoteStore,u)}),await i,await e1(t,r),function(u){const h=Ee(u);h.Ka.forEach((d,f)=>{dc(h.remoteStore,f)}),h.Ua.Dr(),h.Ka=new Map,h.$a=new yt(_e.comparator)}(t),t.ja=!1,await uE(t.remoteStore,!1)}}async function e1(n,e,t){const r=Ee(n),i=[],o=[];for(const u of e){let h;const d=r.qa.get(u);if(d&&d.length!==0){h=await cc(r.localStore,er(d[0]));for(const f of d){const g=r.ka.get(f),_=await s3(r,g);_.snapshot&&o.push(_.snapshot)}}else{const f=await eD(r.localStore,u);h=await cc(r.localStore,f),await tw(r,bD(f),u,!1,h.resumeToken)}i.push(h)}return r.La.p_(o),i}function bD(n){return rO(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function u3(n){return function(t){return Ee(Ee(t).persistence).zi()}(Ee(n).localStore)}async function c3(n,e,t,r){const i=Ee(n);if(i.ja)return void pe(po,"Ignoring unexpected query state notification.");const o=i.qa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await tD(i.localStore,sO(o[0])),h=Pf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",qt.EMPTY_BYTE_STRING);await Gs(i,u,h);break}case"rejected":await hc(i.localStore,e,!0),pc(i,e,r);break;default:we()}}async function h3(n,e,t){const r=fy(n);if(r.ja){for(const i of e){if(r.qa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pe(po,"Adding an already active target "+i);continue}const o=await eD(r.localStore,i),u=await cc(r.localStore,o);await tw(r,bD(o),u.targetId,!1,u.resumeToken),dy(r.remoteStore,u)}for(const i of t)r.qa.has(i)&&await hc(r.localStore,i,!1).then(()=>{dc(r.remoteStore,i),pc(r,i)}).catch(uo)}}function fy(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jz.bind(null,e),e.La.p_=Fz.bind(null,e.eventManager),e.La.Ja=Bz.bind(null,e.eventManager),e}function sw(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e3.bind(null,e),e}function d3(n,e,t){const r=Ee(n);(async function(o,u,h){try{const d=await u.getMetadata();if(await function(T,w){const R=Ee(T),x=Qt(w.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",U=>R.Yr.getBundleMetadata(U,w.id)).then(U=>!!U&&U.createTime.compareTo(x)>=0)}(o.localStore,d))return await u.close(),h._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(d)),Promise.resolve(new Set);h._updateProgress(pD(d));const f=new qz(d,o.localStore,u.serializer);let g=await u.Ya();for(;g;){const v=await f.Aa(g);v&&h._updateProgress(v),g=await u.Ya()}const _=await f.complete();return await Gs(o,_.ma,void 0),await function(T,w){const R=Ee(T);return R.persistence.runTransaction("Save bundle","readwrite",x=>R.Yr.saveBundleMetadata(x,w))}(o.localStore,d),h._completeWith(_.progress),Promise.resolve(_.Va)}catch(d){return Wi(po,`Loading bundle failed with ${d}`),h._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Df(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return YO(this.persistence,new QO,e.initialUser,this.serializer)}Xa(e){return new Fb(hy.ri,this.serializer)}Za(e){return new aD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rf.provider={build:()=>new rf};class f3 extends rf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ae(this.persistence.referenceDelegate instanceof wg);const r=this.persistence.referenceDelegate.garbageCollector;return new qO(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new Fb(r=>wg.ri(r,t),this.serializer)}}class wD extends rf{constructor(e,t,r){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await sw(this.ru.syncEngine),await Nc(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return YO(this.persistence,new QO,e.initialUser,this.serializer)}tu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new qO(r,e.asyncQueue,t)}nu(e,t){const r=new wF(t,this.persistence);return new bF(e.asyncQueue,r)}Xa(e){const t=zb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new Bb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,oD(),zm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new aD}}class p3 extends wD{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof f0&&(this.sharedClientState.syncEngine={uo:o3.bind(null,t),co:c3.bind(null,t),lo:h3.bind(null,t),zi:u3.bind(null,t),ao:a3.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci(async r=>{await l3(this.ru.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Za(e){const t=oD();if(!f0.D(t))throw new de(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=zb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new f0(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class sf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=r3.bind(null,this.syncEngine),await uE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jz}()}createDatastore(e){const t=Df(e.databaseInfo.databaseId),r=function(o){return new bz(o)}(e.databaseInfo);return function(o,u,h,d){return new Az(o,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,u,h){return new Iz(r,i,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>ZI(this.syncEngine,t,0),function(){return GI.D()?new GI:new yz}())}createSyncEngine(e,t){return function(i,o,u,h,d,f,g){const _=new Gz(i,o,u,h,d,f);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ee(i);pe(vl,"RemoteStore shutting down."),o.W_.add(5),await Dc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}sf.provider={build:()=>new sf};function t1(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Wt("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new kn,this.buffer=new Uint8Array,this._u=function(){return new TextDecoder("utf-8")}(),this.au().then(r=>{r&&r.Ea()?this.metadata.resolve(r.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ia)}`))},r=>this.metadata.reject(r))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(e===null)return null;const t=this._u.decode(e),r=Number(t);isNaN(r)&&this.cu(`length string (${t}) is not valid number`);const i=await this.lu(r);return new zz(JSON.parse(i),e.length+r)}hu(){return this.buffer.findIndex(e=>e===123)}async uu(){for(;this.hu()<0&&!await this.Pu(););if(this.buffer.length===0)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new de(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,o){const u=Ee(i),h={documents:o.map(_=>tf(u.serializer,_))},d=await u.Co("BatchGetDocuments",u.serializer.databaseId,qe.emptyPath(),h,o.length),f=new Map;d.forEach(_=>{const v=CB(u.serializer,_);f.set(v.key.toString(),v)});const g=[];return o.forEach(_=>{const v=f.get(_.toString());Ae(!!v),g.push(v)}),g}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Oc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new Pb(i,this.precondition(i)))}),await async function(r,i){const o=Ee(r),u={writes:i.map(h=>nf(o.serializer,h))};await o.So("Commit",o.serializer.databaseId,qe.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw we();t=Ie.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new de(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ie.min())?At.exists(!1):At.updateTime(t):At.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ie.min()))throw new de(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return At.updateTime(t)}return At.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Tu=r.maxAttempts,this.a_=new Gb(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new g3(this.datastore),t=this.du(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})})}du(e){try{const t=this.updateFunction(e);return!Sf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!_O(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="FirestoreClient";class _3{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Sn.UNAUTHENTICATED,this.clientId=TP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{pe(eo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(pe(eo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Vc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function m0(n,e){n.asyncQueue.verifyOperationInProgress(),pe(eo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await XO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function n1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await aw(n);pe(eo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>WI(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>WI(e.remoteStore,i)),n._onlineComponents=e}async function aw(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(eo,"Using user provided OfflineComponentProvider");try{await m0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Wi("Error using user provided cache. Falling back to memory cache: "+t),await m0(n,new rf)}}else pe(eo,"Using default OfflineComponentProvider"),await m0(n,new f3(void 0));return n._offlineComponents}async function my(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(eo,"Using user provided OnlineComponentProvider"),await n1(n,n._uninitializedComponentsProvider._online)):(pe(eo,"Using default OnlineComponentProvider"),await n1(n,new sf))),n._onlineComponents}function TD(n){return aw(n).then(e=>e.persistence)}function ow(n){return aw(n).then(e=>e.localStore)}function SD(n){return my(n).then(e=>e.remoteStore)}function lw(n){return my(n).then(e=>e.syncEngine)}function v3(n){return my(n).then(e=>e.datastore)}async function mc(n){const e=await my(n),t=e.eventManager;return t.onListen=Kz.bind(null,e.syncEngine),t.onUnlisten=Qz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Wz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Yz.bind(null,e.syncEngine),t}function E3(n){return n.asyncQueue.enqueue(async()=>{const e=await TD(n),t=await SD(n);return e.setNetworkEnabled(!0),function(i){const o=Ee(i);return o.W_.delete(0),Nf(o)}(t)})}function b3(n){return n.asyncQueue.enqueue(async()=>{const e=await TD(n),t=await SD(n);return e.setNetworkEnabled(!1),async function(i){const o=Ee(i);o.W_.add(0),await Dc(o),o.j_.set("Offline")}(t)})}function w3(n,e){const t=new kn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await function(f,g){const _=Ee(f);return _.persistence.runTransaction("read document","readonly",v=>_.localDocuments.getDocument(v,g))}(i,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new de(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const d=Vc(h,`Failed to get document '${o} from cache`);u.reject(d)}}(await ow(n),e,t)),t.promise}function AD(n,e,t={}){const r=new kn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,f){const g=new py({next:v=>{g.su(),u.enqueueAndForget(()=>Jb(o,_));const T=v.docs.has(h);!T&&v.fromCache?f.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&d&&d.source==="server"?f.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new ew(xc(h.path),g,{includeMetadataChanges:!0,Ta:!0});return Xb(o,_)}(await mc(n),n.asyncQueue,e,t,r)),r.promise}function T3(n,e){const t=new kn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await Tg(i,o,!0),d=new yD(o,h.gs),f=d.ba(h.documents),g=d.applyChanges(f,!1);u.resolve(g.snapshot)}catch(h){const d=Vc(h,`Failed to execute query '${o} against cache`);u.reject(d)}}(await ow(n),e,t)),t.promise}function RD(n,e,t={}){const r=new kn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,f){const g=new py({next:v=>{g.su(),u.enqueueAndForget(()=>Jb(o,_)),v.fromCache&&d.source==="server"?f.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new ew(h,g,{includeMetadataChanges:!0,Ta:!0});return Xb(o,_)}(await mc(n),n.asyncQueue,e,t,r)),r.promise}function S3(n,e){const t=new py(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ia.add(o),o.next()}(await mc(n),t)),()=>{t.su(),n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ia.delete(o)}(await mc(n),t))}}function A3(n,e,t,r){const i=function(u,h){let d;return d=typeof u=="string"?EO().encode(u):u,function(g,_){return new m3(g,_)}(function(g,_){if(g instanceof Uint8Array)return t1(g,_);if(g instanceof ArrayBuffer)return t1(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),h)}(t,Df(e));n.asyncQueue.enqueueAndForget(async()=>{d3(await lw(n),i,r)})}function R3(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const o=Ee(r);return o.persistence.runTransaction("Get named query","readonly",u=>o.Yr.getNamedQuery(u,i))}(await ow(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(n,e,t){if(!t)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CD(n,e,t,r){if(e===!0&&r===!0)throw new de(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function i1(n){if(!_e.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function s1(n){if(_e.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we()}function nt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gy(n);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function xD(n,e){if(e<=0)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="firestore.googleapis.com",a1=!0;class o1{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PD,this.ssl=a1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:a1;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KB)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ID((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hF;switch(r.type){case"firstParty":return new mF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=r1.get(t);r&&(pe("ComponentProvider","Removing Datastore"),r1.delete(t),r.terminate())}(this),Promise.resolve()}}function I3(n,e,t,r={}){var i;const o=(n=nt(n,kf))._getSettings(),u=`${e}:${t}`;if(o.host!==PD&&o.host!==u&&Wi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:u,ssl:!1})),r.mockUserToken){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=Sn.MOCK_USER;else{h=_L(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Sn(f)}n._authCredentials=new dF(new wP(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tr=class OD{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new OD(this.firestore,e,this._query)}},kt=class DD{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new DD(this.firestore,e,this._key)}},za=class ND extends tr{constructor(e,t,r){super(e,t,xc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new _e(e))}withConverter(e){return new ND(this.firestore,e,this._path)}};function kD(n,e,...t){if(n=xe(n),uw("collection","path",e),n instanceof kf){const r=qe.fromString(e,...t);return s1(r),new za(n,null,r)}{if(!(n instanceof kt||n instanceof za))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return s1(r),new za(n.firestore,null,r)}}function C3(n,e){if(n=nt(n,kf),uw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new tr(n,null,function(r){return new qs(qe.emptyPath(),r)}(e))}function Ig(n,e,...t){if(n=xe(n),arguments.length===1&&(e=TP.newId()),uw("doc","path",e),n instanceof kf){const r=qe.fromString(e,...t);return i1(r),new kt(n,null,new _e(r))}{if(!(n instanceof kt||n instanceof za))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return i1(r),new kt(n.firestore,n instanceof za?n.converter:null,new _e(r))}}function VD(n,e){return n=xe(n),e=xe(e),(n instanceof kt||n instanceof za)&&(e instanceof kt||e instanceof za)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function MD(n,e){return n=xe(n),e=xe(e),n instanceof tr&&e instanceof tr&&n.firestore===e.firestore&&If(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="AsyncQueue";class u1{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Gb(this,"async_queue_retry"),this.Su=()=>{const r=zm();r&&pe(l1,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=zm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=zm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new kn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!co(e))throw e;pe(l1,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw Wt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=Yb.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function dE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class x3{constructor(){this._progressObserver={},this._taskCompletionResolver=new kn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=-1;let Yt=class extends kf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new u1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u1(e),this._firestoreClient=void 0,await e}}};function $n(n){if(n._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||LD(n),n._firestoreClient}function LD(n){var e,t,r;const i=n._freezeSettings(),o=function(h,d,f,g){return new XF(h,d,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,ID(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new _3(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(n._componentsProvider))}function O3(n,e){Wi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return UD(n,sf.provider,{build:r=>new wD(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function D3(n){Wi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();UD(n,sf.provider,{build:t=>new p3(t,e.cacheSizeBytes)})}function UD(n,e,t){if((n=nt(n,Yt))._firestoreClient||n._terminated)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new de(ne.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},LD(n)}function N3(n){if(n._initialized&&!n._terminated)throw new de(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new kn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!zi.D())return Promise.resolve();const i=r+WO;await zi.delete(i)}(zb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function k3(n){return function(t){const r=new kn;return t.asyncQueue.enqueueAndForget(async()=>t3(await lw(t),r)),r.promise}($n(n=nt(n,Yt)))}function V3(n){return E3($n(n=nt(n,Yt)))}function M3(n){return b3($n(n=nt(n,Yt)))}function L3(n,e){const t=$n(n=nt(n,Yt)),r=new x3;return A3(t,n._databaseId,e,r),r}function U3(n,e){return R3($n(n=nt(n,Yt)),e).then(t=>t?new tr(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yi(qt.fromBase64String(e))}catch(t){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yi(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=/^__.*__$/;class F3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pc(e,this.data,t,this.fieldTransforms)}}class jD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function FD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class _y{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new _y(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Cg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(FD(this.Lu)&&j3.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class B3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Df(e)}ju(e,t,r,i=!1){return new _y({Lu:e,methodName:t,zu:r,path:St.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Il(n){const e=n._freezeSettings(),t=Df(n._databaseId);return new B3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vy(n,e,t,r,i,o={}){const u=n.ju(o.merge||o.mergeFields?2:0,e,t,i);yw("Data must be an object, but it was:",u,r);const h=qD(r,u);let d,f;if(o.merge)d=new lr(u.fieldMask),f=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=fE(e,_,t);if(!u.contains(v))throw new de(ne.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);$D(g,v)||g.push(v)}d=new lr(g),f=u.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,f=u.fieldTransforms;return new F3(new Nn(h),d,f)}class Vf extends Rl{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vf}}function BD(n,e,t){return new _y({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class hw extends Rl{_toFieldTransform(e){return new xf(e.path,new oc)}isEqual(e){return e instanceof hw}}class dw extends Rl{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=BD(this,e,!0),r=this.Hu.map(o=>Cl(o,t)),i=new pl(r);return new xf(e.path,i)}isEqual(e){return e instanceof dw&&Gu(this.Hu,e.Hu)}}class fw extends Rl{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=BD(this,e,!0),r=this.Hu.map(o=>Cl(o,t)),i=new ml(r);return new xf(e.path,i)}isEqual(e){return e instanceof fw&&Gu(this.Hu,e.Hu)}}class pw extends Rl{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new lc(e.serializer,hO(e.serializer,this.Ju));return new xf(e.path,t)}isEqual(e){return e instanceof pw&&this.Ju===e.Ju}}function mw(n,e,t,r){const i=n.ju(1,e,t);yw("Data must be an object, but it was:",i,r);const o=[],u=Nn.empty();ho(r,(d,f)=>{const g=_w(e,d,t);f=xe(f);const _=i.Ku(g);if(f instanceof Vf)o.push(g);else{const v=Cl(f,_);v!=null&&(o.push(g),u.set(g,v))}});const h=new lr(o);return new jD(u,h,i.fieldTransforms)}function gw(n,e,t,r,i,o){const u=n.ju(1,e,t),h=[fE(e,r,t)],d=[i];if(o.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)h.push(fE(e,o[v])),d.push(o[v+1]);const f=[],g=Nn.empty();for(let v=h.length-1;v>=0;--v)if(!$D(f,h[v])){const T=h[v];let w=d[v];w=xe(w);const R=u.Ku(T);if(w instanceof Vf)f.push(T);else{const x=Cl(w,R);x!=null&&(f.push(T),g.set(T,x))}}const _=new lr(f);return new jD(g,_,u.fieldTransforms)}function zD(n,e,t,r=!1){return Cl(t,n.ju(r?4:3,e))}function Cl(n,e){if(HD(n=xe(n)))return yw("Unsupported field value:",e,n),qD(n,e);if(n instanceof Rl)return function(r,i){if(!FD(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const h of r){let d=Cl(h,i.Uu(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Rt.fromDate(r);return{timestampValue:uc(i.serializer,o)}}if(r instanceof Rt){const o=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uc(i.serializer,o)}}if(r instanceof yy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yi)return{bytesValue:TO(i.serializer,r._byteString)};if(r instanceof kt){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Vb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof cw)return function(u,h){return{mapValue:{fields:{[Sb]:{stringValue:Ab},[ic]:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw h.Wu("VectorValues must only contain numeric values.");return xb(h.serializer,f)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${gy(r)}`)}(n,e)}function qD(n,e){const t={};return FP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ho(n,(r,i)=>{const o=Cl(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function HD(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Rt||n instanceof yy||n instanceof Yi||n instanceof kt||n instanceof Rl||n instanceof cw)}function yw(n,e,t){if(!HD(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=gy(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function fE(n,e,t){if((e=xe(e))instanceof to)return e._internalPath;if(typeof e=="string")return _w(n,e);throw Cg("Field path arguments must be of type string or ",n,!1,void 0,t)}const z3=new RegExp("[~\\*/\\[\\]]");function _w(n,e,t){if(e.search(z3)>=0)throw Cg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new to(...e.split("."))._internalPath}catch{throw Cg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Cg(n,e,t,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${i}`),d+=")"),new de(ne.INVALID_ARGUMENT,h+n+d)}function $D(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new q3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ey("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class q3 extends af{data(){return super.data()}}function Ey(n,e){return typeof e=="string"?_w(n,e):e instanceof to?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vw{}class Mf extends vw{}function Da(n,e,...t){let r=[];e instanceof vw&&r.push(e),r=r.concat(t),function(o){const u=o.filter(d=>d instanceof Ew).length,h=o.filter(d=>d instanceof by).length;if(u>1||u>0&&h>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class by extends Mf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new by(e,t,r)}_apply(e){const t=this._parse(e);return WD(e._query,t),new tr(e.firestore,e.converter,Z0(e._query,t))}_parse(e){const t=Il(e.firestore);return function(o,u,h,d,f,g,_){let v;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){h1(_,g);const w=[];for(const R of _)w.push(c1(d,o,R));v={arrayValue:{values:w}}}else v=c1(d,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||h1(_,g),v=zD(h,u,_,g==="in"||g==="not-in");return He.create(f,g,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function H3(n,e,t){const r=e,i=Ey("where",n);return by._create(i,r,t)}class Ew extends vw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ew(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ot.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let u=i;const h=o.getFlattenedFilters();for(const d of h)WD(u,d),u=Z0(u,d)}(e._query,t),new tr(e.firestore,e.converter,Z0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bw extends Mf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bw(e,t)}_apply(e){const t=function(i,o,u){if(i.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ef(o,u)}(e._query,this._field,this._direction);return new tr(e.firestore,e.converter,function(i,o){const u=i.explicitOrderBy.concat([o]);return new qs(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function $3(n,e="asc"){const t=e,r=Ey("orderBy",n);return bw._create(r,t)}class wy extends Mf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new wy(e,t,r)}_apply(e){return new tr(e.firestore,e.converter,_g(e._query,this._limit,this._limitType))}}function G3(n){return xD("limit",n),wy._create("limit",n,"F")}function K3(n){return xD("limitToLast",n),wy._create("limitToLast",n,"L")}class Ty extends Mf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ty(e,t,r)}_apply(e){const t=KD(e,this.type,this._docOrFields,this._inclusive);return new tr(e.firestore,e.converter,function(i,o){return new qs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}}function W3(...n){return Ty._create("startAt",n,!0)}function Q3(...n){return Ty._create("startAfter",n,!1)}class Sy extends Mf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Sy(e,t,r)}_apply(e){const t=KD(e,this.type,this._docOrFields,this._inclusive);return new tr(e.firestore,e.converter,function(i,o){return new qs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}}function Y3(...n){return Sy._create("endBefore",n,!1)}function X3(...n){return Sy._create("endAt",n,!0)}function KD(n,e,t,r){if(t[0]=xe(t[0]),t[0]instanceof af)return function(o,u,h,d,f){if(!d)throw new de(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const _ of zu(o))if(_.field.isKeyField())g.push(dl(u,d.key));else{const v=d.data.field(_.field);if(iy(v))throw new de(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const T=_.field.canonicalString();throw new de(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(v)}return new Ja(g,f)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Il(n.firestore);return function(u,h,d,f,g,_){const v=u.explicitOrderBy;if(g.length>v.length)throw new de(ne.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let w=0;w<g.length;w++){const R=g[w];if(v[w].field.isKeyField()){if(typeof R!="string")throw new de(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof R}`);if(!Ib(u)&&R.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${R}' contains a slash.`);const x=u.path.child(qe.fromString(R));if(!_e.isDocumentKey(x))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const U=new _e(x);T.push(dl(h,U))}else{const x=zD(d,f,R);T.push(x)}}return new Ja(T,_)}(n._query,n.firestore._databaseId,i,e,t,r)}}function c1(n,e,t){if(typeof(t=xe(t))=="string"){if(t==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ib(e)&&t.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(qe.fromString(t));if(!_e.isDocumentKey(r))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dl(n,new _e(r))}if(t instanceof kt)return dl(n,t._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gy(t)}.`)}function h1(n,e){if(!Array.isArray(n)||n.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WD(n,e){const t=function(i,o){for(const u of i)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ww{convertValue(e,t="none"){switch(Ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ho(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ic].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>wt(u.doubleValue));return new cw(o)}convertGeoPoint(e){return new yy(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sy(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Xd(e));default:return null}}convertTimestamp(e){const t=Ms(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=qe.fromString(e);Ae(kO(r));const i=new Qa(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(t)||Wt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class J3 extends ww{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Us=class extends af{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ey("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Vd=class extends Us{data(e={}){return super.data(e)}},no=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new il(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Vd(this._firestore,this._userDataWriter,r.key,r,new il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(h=>{const d=new Vd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new il(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new Vd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new il(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return h.type!==0&&(f=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:Z3(h.type),doc:d,oldIndex:f,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Z3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}function QD(n,e){return n instanceof Us&&e instanceof Us?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof no&&e instanceof no&&n._firestore===e._firestore&&MD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(n){n=nt(n,kt);const e=nt(n.firestore,Yt);return AD($n(e),n._key).then(t=>Tw(e,n,t))}class xl extends ww{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}function t6(n){n=nt(n,kt);const e=nt(n.firestore,Yt),t=$n(e),r=new xl(e);return w3(t,n._key).then(i=>new Us(e,r,n._key,i,new il(i!==null&&i.hasLocalMutations,!0),n.converter))}function n6(n){n=nt(n,kt);const e=nt(n.firestore,Yt);return AD($n(e),n._key,{source:"server"}).then(t=>Tw(e,n,t))}function r6(n){n=nt(n,tr);const e=nt(n.firestore,Yt),t=$n(e),r=new xl(e);return GD(n._query),RD(t,n._query).then(i=>new no(e,r,n,i))}function i6(n){n=nt(n,tr);const e=nt(n.firestore,Yt),t=$n(e),r=new xl(e);return T3(t,n._query).then(i=>new no(e,r,n,i))}function s6(n){n=nt(n,tr);const e=nt(n.firestore,Yt),t=$n(e),r=new xl(e);return RD(t,n._query,{source:"server"}).then(i=>new no(e,r,n,i))}function d1(n,e,t){n=nt(n,kt);const r=nt(n.firestore,Yt),i=Ay(n.converter,e,t);return Lf(r,[vy(Il(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,At.none())])}function f1(n,e,t,...r){n=nt(n,kt);const i=nt(n.firestore,Yt),o=Il(i);let u;return u=typeof(e=xe(e))=="string"||e instanceof to?gw(o,"updateDoc",n._key,e,t,r):mw(o,"updateDoc",n._key,e),Lf(i,[u.toMutation(n._key,At.exists(!0))])}function a6(n){return Lf(nt(n.firestore,Yt),[new Oc(n._key,At.none())])}function o6(n,e){const t=nt(n.firestore,Yt),r=Ig(n),i=Ay(n.converter,e);return Lf(t,[vy(Il(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,At.exists(!1))]).then(()=>r)}function YD(n,...e){var t,r,i;n=xe(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||dE(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(dE(e[u])){const _=e[u];e[u]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[u+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[u+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let d,f,g;if(n instanceof kt)f=nt(n.firestore,Yt),g=xc(n._key.path),d={next:_=>{e[u]&&e[u](Tw(f,n,_))},error:e[u+1],complete:e[u+2]};else{const _=nt(n,tr);f=nt(_.firestore,Yt),g=_._query;const v=new xl(f);d={next:T=>{e[u]&&e[u](new no(f,v,_,T))},error:e[u+1],complete:e[u+2]},GD(n._query)}return function(v,T,w,R){const x=new py(R),U=new ew(T,x,w);return v.asyncQueue.enqueueAndForget(async()=>Xb(await mc(v),U)),()=>{x.su(),v.asyncQueue.enqueueAndForget(async()=>Jb(await mc(v),U))}}($n(f),g,h,d)}function l6(n,e){return S3($n(n=nt(n,Yt)),dE(e)?e:{next:e})}function Lf(n,e){return function(r,i){const o=new kn;return r.asyncQueue.enqueueAndForget(async()=>Xz(await lw(r),i,o)),o.promise}($n(n),e)}function Tw(n,e,t){const r=t.docs.get(e._key),i=new xl(n);return new Us(n,i,e._key,r,new il(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c6=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Il(e)}set(e,t,r){this._verifyNotCommitted();const i=Ma(e,this._firestore),o=Ay(i.converter,t,r),u=vy(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(u.toMutation(i._key,At.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Ma(e,this._firestore);let u;return u=typeof(t=xe(t))=="string"||t instanceof to?gw(this._dataReader,"WriteBatch.update",o._key,t,r,i):mw(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,At.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ma(e,this._firestore);return this._mutations=this._mutations.concat(new Oc(t._key,At.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ma(n,e){if((n=xe(n)).firestore!==e)throw new de(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Il(e)}get(e){const t=Ma(e,this._firestore),r=new J3(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return we();const o=i[0];if(o.isFoundDocument())return new af(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new af(this._firestore,r,t._key,null,t.converter);throw we()})}set(e,t,r){const i=Ma(e,this._firestore),o=Ay(i.converter,t,r),u=vy(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const o=Ma(e,this._firestore);let u;return u=typeof(t=xe(t))=="string"||t instanceof to?gw(this._dataReader,"Transaction.update",o._key,t,r,i):mw(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Ma(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d6=class extends h6{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ma(e,this._firestore),r=new xl(this._firestore);return super.get(e).then(i=>new Us(this._firestore,r,t._key,i._document,new il(!1,!1),t.converter))}};function f6(n,e,t){n=nt(n,Yt);const r=Object.assign(Object.assign({},u6),t);return function(o){if(o.maxAttempts<1)throw new de(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,h){const d=new kn;return o.asyncQueue.enqueueAndForget(async()=>{const f=await v3(o);new y3(o.asyncQueue,f,h,u,d).Iu()}),d.promise}($n(n),i=>e(new d6(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(){return new Vf("deleteField")}function m6(){return new hw("serverTimestamp")}function g6(...n){return new dw("arrayUnion",n)}function y6(...n){return new fw("arrayRemove",n)}function _6(n){return new pw("increment",n)}(function(e,t=!0){(function(i){Cc=i})(oo),Ga(new Gi("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Yt(new fF(r.getProvider("auth-internal")),new gF(u,r.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qa(f.options.projectId,g)}(u,i),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),ci($R,GR,e),ci($R,GR,"esm2017")})();const v6="@firebase/firestore-compat",E6="0.3.43";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new de("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){if(typeof Uint8Array>"u")throw new de("unimplemented","Uint8Arrays are not available in this environment.")}function m1(){if(!QF())throw new de("unimplemented","Blobs are unavailable in Firestore in this environment.")}let XD=class pE{constructor(e){this._delegate=e}static fromBase64String(e){return m1(),new pE(Yi.fromBase64String(e))}static fromUint8Array(e){return p1(),new pE(Yi.fromUint8Array(e))}toBase64(){return m1(),this._delegate.toBase64()}toUint8Array(){return p1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(n){return b6(n,["next","error","complete"])}function b6(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{enableIndexedDbPersistence(e,t){return O3(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return D3(e._delegate)}clearIndexedDbPersistence(e){return N3(e._delegate)}}class JD{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Qa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Wi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){I3(this._delegate,e,t,r)}enableNetwork(){return V3(this._delegate)}disableNetwork(){return M3(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,CD("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return k3(this._delegate)}onSnapshotsInSync(e){return l6(this._delegate,e)}get app(){if(!this._appCompat)throw new de("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new gc(this,kD(this._delegate,e))}catch(t){throw Jn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Yr(this,Ig(this._delegate,e))}catch(t){throw Jn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Xn(this,C3(this._delegate,e))}catch(t){throw Jn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return f6(this._delegate,t=>e(new ZD(this,t)))}batch(){return $n(this._delegate),new eN(new c6(this._delegate,e=>Lf(this._delegate,e)))}loadBundle(e){return L3(this._delegate,e)}namedQuery(e){return U3(this._delegate,e).then(t=>t?new Xn(this,t):null)}}class Ry extends ww{constructor(e){super(),this.firestore=e}convertBytes(e){return new XD(new Yi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Yr.forKey(t,this.firestore,null)}}function T6(n){uF(n)}class ZD{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ry(e)}get(e){const t=sl(e);return this._delegate.get(t).then(r=>new of(this._firestore,new Us(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=sl(e);return r?(Sw("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=sl(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=sl(e);return this._delegate.delete(t),this}}class eN{constructor(e){this._delegate=e}set(e,t,r){const i=sl(e);return r?(Sw("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=sl(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=sl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class El{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Vd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lf(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=El.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new El(e,new Ry(e),t),i.set(t,o)),o}}El.INSTANCES=new WeakMap;class Yr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ry(e)}static forPath(e,t,r){if(e.length%2!==0)throw new de("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Yr(t,new kt(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new Yr(t,new kt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new gc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new gc(this.firestore,kD(this._delegate,e))}catch(t){throw Jn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=xe(e),e instanceof kt?VD(this._delegate,e):!1}set(e,t){t=Sw("DocumentReference.set",t);try{return t?d1(this._delegate,e,t):d1(this._delegate,e)}catch(r){throw Jn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?f1(this._delegate,e):f1(this._delegate,e,t,...r)}catch(i){throw Jn(i,"updateDoc()","DocumentReference.update()")}}delete(){return a6(this._delegate)}onSnapshot(...e){const t=tN(e),r=nN(e,i=>new of(this.firestore,new Us(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return YD(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=t6(this._delegate):(e==null?void 0:e.source)==="server"?t=n6(this._delegate):t=e6(this._delegate),t.then(r=>new of(this.firestore,new Us(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Yr(this.firestore,e?this._delegate.withConverter(El.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Jn(n,e,t){return n.message=n.message.replace(e,t),n}function tN(n){for(const e of n)if(typeof e=="object"&&!mE(e))return e;return{}}function nN(n,e){var t,r;let i;return mE(n[0])?i=n[0]:mE(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class of{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Yr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return QD(this._delegate,e._delegate)}}class lf extends of{data(e){const t=this._delegate.data(e);return this._delegate._converter||cF(t!==void 0),t}}class Xn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ry(e)}where(e,t,r){try{return new Xn(this.firestore,Da(this._delegate,H3(e,t,r)))}catch(i){throw Jn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Xn(this.firestore,Da(this._delegate,$3(e,t)))}catch(r){throw Jn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Xn(this.firestore,Da(this._delegate,G3(e)))}catch(t){throw Jn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Xn(this.firestore,Da(this._delegate,K3(e)))}catch(t){throw Jn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Xn(this.firestore,Da(this._delegate,W3(...e)))}catch(t){throw Jn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Xn(this.firestore,Da(this._delegate,Q3(...e)))}catch(t){throw Jn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Xn(this.firestore,Da(this._delegate,Y3(...e)))}catch(t){throw Jn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Xn(this.firestore,Da(this._delegate,X3(...e)))}catch(t){throw Jn(t,"endAt()","Query.endAt()")}}isEqual(e){return MD(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=i6(this._delegate):(e==null?void 0:e.source)==="server"?t=s6(this._delegate):t=r6(this._delegate),t.then(r=>new gE(this.firestore,new no(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=tN(e),r=nN(e,i=>new gE(this.firestore,new no(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return YD(this._delegate,t,r)}withConverter(e){return new Xn(this.firestore,e?this._delegate.withConverter(El.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class S6{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Xn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new S6(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new lf(this._firestore,r))})}isEqual(e){return QD(this._delegate,e._delegate)}}class gc extends Xn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Yr(this.firestore,e):null}doc(e){try{return e===void 0?new Yr(this.firestore,Ig(this._delegate)):new Yr(this.firestore,Ig(this._delegate,e))}catch(t){throw Jn(t,"doc()","CollectionReference.doc()")}}add(e){return o6(this._delegate,e).then(t=>new Yr(this.firestore,t))}isEqual(e){return VD(this._delegate,e._delegate)}withConverter(e){return new gc(this.firestore,e?this._delegate.withConverter(El.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function sl(n){return nt(n,kt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(...e){this._delegate=new to(...e)}static documentId(){return new Aw(St.keyField().canonicalString())}isEqual(e){return e=xe(e),e instanceof to?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{static serverTimestamp(){const e=m6();return e._methodName="FieldValue.serverTimestamp",new tl(e)}static delete(){const e=p6();return e._methodName="FieldValue.delete",new tl(e)}static arrayUnion(...e){const t=g6(...e);return t._methodName="FieldValue.arrayUnion",new tl(t)}static arrayRemove(...e){const t=y6(...e);return t._methodName="FieldValue.arrayRemove",new tl(t)}static increment(e){const t=_6(e);return t._methodName="FieldValue.increment",new tl(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6={Firestore:JD,GeoPoint:yy,Timestamp:Rt,Blob:XD,Transaction:ZD,WriteBatch:eN,DocumentReference:Yr,DocumentSnapshot:of,Query:Xn,QueryDocumentSnapshot:lf,QuerySnapshot:gE,CollectionReference:gc,FieldPath:Aw,FieldValue:tl,setLogLevel:T6,CACHE_SIZE_UNLIMITED:P3};function R6(n,e){n.INTERNAL.registerComponent(new Gi("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},A6)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(n){R6(n,(e,t)=>new JD(e,t,new w6)),n.registerVersion(v6,E6)}I6(Sc);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=2e3;async function x6(n,e,t){var r;const{BuildInfo:i}=bl();hi(e.sessionId,"AuthEvent did not contain a session ID");const o=await k6(e.sessionId),u={};return vf()?u.ibi=i.packageName:_f()?u.apn=i.packageName:Rn(n,"operation-not-supported-in-this-environment"),i.displayName&&(u.appDisplayName=i.displayName),u.sessionId=o,F0(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,u)}async function P6(n){const{BuildInfo:e}=bl(),t={};vf()?t.iosBundleId=e.packageName:_f()?t.androidPackageName=e.packageName:Rn(n,"operation-not-supported-in-this-environment"),await fP(n,t)}function O6(n){const{cordova:e}=bl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,g4()?"_blank":"_system","location=yes"),t(i)})})}async function D6(n,e,t){const{cordova:r}=bl();let i=()=>{};try{await new Promise((o,u)=>{let h=null;function d(){var _;o();const v=(_=r.plugins.browsertab)===null||_===void 0?void 0:_.close;typeof v=="function"&&v(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function f(){h||(h=window.setTimeout(()=>{u(pn(n,"redirect-cancelled-by-user"))},C6))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),_f()&&document.addEventListener("visibilitychange",g,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",g,!1),h&&window.clearTimeout(h)}})}finally{i()}}function N6(n){var e,t,r,i,o,u,h,d,f,g;const _=bl();me(typeof((e=_==null?void 0:_.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),me(typeof((t=_==null?void 0:_.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),me(typeof((o=(i=(r=_==null?void 0:_.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((d=(h=(u=_==null?void 0:_.cordova)===null||u===void 0?void 0:u.plugins)===null||h===void 0?void 0:h.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((g=(f=_==null?void 0:_.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||g===void 0?void 0:g.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function k6(n){const e=V6(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function V6(n){if(hi(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=20;class L6 extends hP{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function U6(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:B6(),postBody:null,tenantId:n.tenantId,error:pn(n,"no-auth-event")}}function j6(n,e){return yE()._set(_E(n),e)}async function g1(n){const e=await yE()._get(_E(n));return e&&await yE()._remove(_E(n)),e}function F6(n,e){var t,r;const i=q6(e);if(i.includes("/__/auth/callback")){const o=qm(i),u=o.firebaseError?z6(decodeURIComponent(o.firebaseError)):null,h=(r=(t=u==null?void 0:u.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=h?pn(h):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function B6(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<M6;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function yE(){return Rr(Qg)}function _E(n){return ol("authEvent",n.config.apiKey,n.name)}function z6(n){try{return JSON.parse(n)}catch{return null}}function q6(n){const e=qm(n),t=e.link?decodeURIComponent(e.link):void 0,r=qm(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return qm(i).link||i||r||t||n}function qm(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return Mu(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=500;class $6{constructor(){this._redirectPersistence=Ka,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zg,this._overrideRedirectResult=mb}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new L6(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Rn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){N6(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),_j(),await this._originValidation(e);const u=U6(e,r,i);await j6(e,u);const h=await x6(e,u,t),d=await O6(h);return D6(e,o,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=P6(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=bl(),u=setTimeout(async()=>{await g1(e),t.onEvent(y1())},H6),h=async g=>{clearTimeout(u);const _=await g1(e);let v=null;_&&(g!=null&&g.url)&&(v=F6(_,g.url)),t.onEvent(v||y1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const d=i,f=`${o.packageName.toLowerCase()}://`;bl().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(f)&&h({url:g}),typeof d=="function")try{d(g)}catch(_){console.error(_)}}}}const G6=$6;function y1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(n,e){Mt(n)._logFramework(e)}var W6="@firebase/auth-compat",Q6="0.5.18";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=1e3;function Md(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function X6(){return Md()==="http:"||Md()==="https:"}function rN(n=Vt()){return!!((Md()==="file:"||Md()==="ionic:"||Md()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function J6(){return WE()||KE()}function Z6(){return ix()&&(document==null?void 0:document.documentMode)===11}function e9(n=Vt()){return/Edge\/\d+/.test(n)}function t9(n=Vt()){return Z6()||e9(n)}function iN(){try{const n=self.localStorage,e=wf();if(n)return n.setItem(e,"1"),n.removeItem(e),t9()?Fd():!0}catch{return Rw()&&Fd()}return!1}function Rw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function g0(){return(X6()||rx()||rN())&&!J6()&&iN()&&!Rw()}function sN(){return rN()&&typeof document<"u"}async function n9(){return sN()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},Y6);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function r9(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr={LOCAL:"local",NONE:"none",SESSION:"session"},nd=me,aN="persistence";function i9(n,e){if(nd(Object.values(Sr).includes(e),n,"invalid-persistence-type"),WE()){nd(e!==Sr.SESSION,n,"unsupported-persistence-type");return}if(KE()){nd(e===Sr.NONE,n,"unsupported-persistence-type");return}if(Rw()){nd(e===Sr.NONE||e===Sr.LOCAL&&Fd(),n,"unsupported-persistence-type");return}nd(e===Sr.NONE||iN(),n,"unsupported-persistence-type")}async function vE(n){await n._initializationPromise;const e=oN(),t=ol(aN,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function s9(n,e){const t=oN();if(!t)return[];const r=ol(aN,n,e);switch(t.getItem(r)){case Sr.NONE:return[Qu];case Sr.LOCAL:return[Xu,Ka];case Sr.SESSION:return[Ka];default:return[]}}function oN(){var n;try{return((n=r9())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=me;class La{constructor(){this.browserResolver=Rr(pP),this.cordovaResolver=Rr(G6),this.underlyingResolver=null,this._redirectPersistence=Ka,this._completeRedirectFn=Zg,this._overrideRedirectResult=mb}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return sN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return a9(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await n9();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(n){return n.unwrap()}function o9(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(n){return uN(n)}function u9(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new c9(n,N5(n,e))}else if(r){const i=uN(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function uN(n){const{_tokenResponse:e}=n instanceof Zn?n.customData:n;if(!e)return null;if(!(n instanceof Zn)&&"temporaryProof"in e&&"phoneNumber"in e)return hl.credentialFromResult(n);const t=e.providerId;if(!t||t===Qh.PASSWORD)return null;let r;switch(t){case Qh.GOOGLE:r=Mi;break;case Qh.FACEBOOK:r=Vi;break;case Qh.GITHUB:r=Li;break;case Qh.TWITTER:r=Ui;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:d}=e;return!o&&!u&&!i&&!h?null:h?t.startsWith("saml.")?Yu._create(t,h):Ki._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:i,accessToken:o}):new Fu(t).credential({idToken:i,accessToken:o,rawNonce:d})}return n instanceof Zn?r.credentialFromError(n):r.credentialFromResult(n)}function ar(n,e){return e.catch(t=>{throw t instanceof Zn&&u9(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:l9(t),additionalUserInfo:P5(t),user:Os.getOrCreate(i)}})}async function EE(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>ar(n,t.confirm(r))}}class c9{constructor(e,t){this.resolver=t,this.auth=o9(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ar(lN(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this._delegate=e,this.multiFactor=M5(e)}static getOrCreate(e){return Os.USER_MAP.has(e)||Os.USER_MAP.set(e,new Os(e)),Os.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ar(this.auth,Wx(this._delegate,e))}async linkWithPhoneNumber(e,t){return EE(this.auth,sj(this._delegate,e,t))}async linkWithPopup(e){return ar(this.auth,pj(this._delegate,e,La))}async linkWithRedirect(e){return await vE(Mt(this.auth)),Tj(this._delegate,e,La)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ar(this.auth,Qx(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return EE(this.auth,aj(this._delegate,e,t))}reauthenticateWithPopup(e){return ar(this.auth,fj(this._delegate,e,La))}async reauthenticateWithRedirect(e){return await vE(Mt(this.auth)),bj(this._delegate,e,La)}sendEmailVerification(e){return v5(this._delegate,e)}async unlink(e){return await o5(this._delegate,e),this}updateEmail(e){return T5(this._delegate,e)}updatePassword(e){return S5(this._delegate,e)}updatePhoneNumber(e){return oj(this._delegate,e)}updateProfile(e){return w5(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return E5(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Os.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=me;let bE=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;rd(r,"invalid-api-key",{appName:e.name}),rd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?La:void 0;this._delegate=t.initialize({options:{persistence:h9(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(XU),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Os.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Fx(this._delegate,e,t)}applyActionCode(e){return d5(this._delegate,e)}checkActionCode(e){return Yx(this._delegate,e)}confirmPasswordReset(e,t){return h5(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ar(this._delegate,Xx(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return _5(this._delegate,e)}isSignInWithEmailLink(e){return m5(this._delegate,e)}async getRedirectResult(){rd(g0(),this._delegate,"operation-not-supported-in-this-environment");const e=await Aj(this._delegate,La);return e?ar(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){K6(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:o,complete:u}=_1(e,t,r);return this._delegate.onAuthStateChanged(i,o,u)}onIdTokenChanged(e,t,r){const{next:i,error:o,complete:u}=_1(e,t,r);return this._delegate.onIdTokenChanged(i,o,u)}sendSignInLinkToEmail(e,t){return p5(this._delegate,e,t)}sendPasswordResetEmail(e,t){return c5(this._delegate,e,t||void 0)}async setPersistence(e){i9(this._delegate,e);let t;switch(e){case Sr.SESSION:t=Ka;break;case Sr.LOCAL:t=await Rr(Xu)._isAvailable()?Xu:Qg;break;case Sr.NONE:t=Qu;break;default:return Rn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ar(this._delegate,a5(this._delegate))}signInWithCredential(e){return ar(this._delegate,Kg(this._delegate,e))}signInWithCustomToken(e){return ar(this._delegate,u5(this._delegate,e))}signInWithEmailAndPassword(e,t){return ar(this._delegate,Jx(this._delegate,e,t))}signInWithEmailLink(e,t){return ar(this._delegate,g5(this._delegate,e,t))}signInWithPhoneNumber(e,t){return EE(this._delegate,ij(this._delegate,e,t))}async signInWithPopup(e){return rd(g0(),this._delegate,"operation-not-supported-in-this-environment"),ar(this._delegate,dj(this._delegate,e,La))}async signInWithRedirect(e){return rd(g0(),this._delegate,"operation-not-supported-in-this-environment"),await vE(this._delegate),vj(this._delegate,e,La)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return f5(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};bE.Persistence=Sr;function _1(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:u=>i(u&&Os.getOrCreate(u)),error:e,complete:t}}function h9(n,e){const t=s9(n,e);if(typeof self<"u"&&!t.includes(Xu)&&t.push(Xu),typeof window<"u")for(const r of[Qg,Ka])t.includes(r)||t.push(r);return t.includes(Qu)||t.push(Qu),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{static credential(e,t){return hl.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new hl(lN(Sc.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Iw.PHONE_SIGN_IN_METHOD=hl.PHONE_SIGN_IN_METHOD;Iw.PROVIDER_ID=hl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=me;class f9{constructor(e,t,r=Sc.app()){var i;d9((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new nj(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9="auth-compat";function m9(n){n.INTERNAL.registerComponent(new Gi(p9,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new bE(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:_u.EMAIL_SIGNIN,PASSWORD_RESET:_u.PASSWORD_RESET,RECOVER_EMAIL:_u.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:_u.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:_u.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:_u.VERIFY_EMAIL}},EmailAuthProvider:lo,FacebookAuthProvider:Vi,GithubAuthProvider:Li,GoogleAuthProvider:Mi,OAuthProvider:Fu,SAMLAuthProvider:ag,PhoneAuthProvider:Iw,PhoneMultiFactorGenerator:mP,RecaptchaVerifier:f9,TwitterAuthProvider:Ui,Auth:bE,AuthCredential:Rc,Error:Zn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(W6,Q6)}m9(Sc);const g9={apiKey:"AIzaSyAV97iDIWNfHCwUOU4l-VqWdkkW2kBQbb0",authDomain:"clone-2025-7f12b.firebaseapp.com",projectId:"clone-2025-7f12b",storageBucket:"clone-2025-7f12b.firebasestorage.app",messagingSenderId:"826672525241",appId:"1:826672525241:web:b9cfe615d0898dcb5a9068"},cN=Sc.initializeApp(g9),xg=oF(cN),hN=cN.firestore();function y9(){const[{basket:n,user:e},t]=W.useContext(Fs);console.log(n.length);const r=n==null?void 0:n.reduce((i,o)=>o.amount+i,0);return N.jsxs("section",{className:Rs.fixed,children:[N.jsx("section",{children:N.jsxs("div",{className:Rs.header__container,children:[" ",N.jsx("div",{className:Rs.logo__container,children:N.jsx(ui,{to:"/",children:N.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amzon logo"})})}),N.jsxs("div",{className:Rs.delivery,children:[N.jsx("span",{children:N.jsx(AV,{})}),N.jsxs("div",{children:[N.jsx("p",{children:"Delivered to"}),N.jsx("span",{children:"USA"})]})]}),N.jsxs("div",{className:Rs.search,children:[N.jsx("select",{name:"",id:"",children:N.jsx("option",{value:"",children:"All"})}),N.jsx("input",{type:"text"}),N.jsx(TV,{size:38})]}),N.jsxs("div",{className:Rs.order__container,children:[N.jsxs(ui,{to:"",className:Rs.language,children:[N.jsx("img",{src:"https://pngimg.com/uploads/flags/flags_PNG14655.png",alt:""}),N.jsx("select",{name:"",id:"",children:N.jsx("option",{value:"",children:"EN"})})]}),N.jsx(ui,{to:!e&&"/auth",children:N.jsx("div",{children:e?N.jsxs(N.Fragment,{children:[N.jsxs("p",{children:["Hello ",e==null?void 0:e.email.split("@")[0]]}),N.jsx("span",{onClick:()=>xg.signOut(),children:"Sign Out"})]}):N.jsxs(N.Fragment,{children:[N.jsx("p",{children:" Hello, Sign In"}),N.jsx("span",{children:"Account & Lists"})]})})}),N.jsxs(ui,{to:"/orders",children:[N.jsx("p",{children:"returns"}),N.jsx("span",{children:"& Orders"})]}),N.jsxs(ui,{to:"/cart",className:Rs.cart,children:[N.jsx(SV,{size:35}),N.jsx("span",{children:r})]})]})]})}),N.jsx(MV,{})]})}var y0={},id={},Em={},bm={},_0={exports:{}},v0,v1;function _9(){if(v1)return v0;v1=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return v0=n,v0}var E0,E1;function v9(){if(E1)return E0;E1=1;var n=_9();function e(){}function t(){}return t.resetWarningCache=e,E0=function(){function r(u,h,d,f,g,_){if(_!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},E0}var b1;function dN(){return b1||(b1=1,_0.exports=v9()()),_0.exports}var w1;function E9(){return w1||(w1=1,function(n){(function(e,t){t(n,so(),dN())})(bm,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=w;var i=u(t),o=u(r);function u(L){return L&&L.__esModule?L:{default:L}}var h=Object.assign||function(L){for(var j=1;j<arguments.length;j++){var $=arguments[j];for(var z in $)Object.prototype.hasOwnProperty.call($,z)&&(L[z]=$[z])}return L};function d(L,j){var $={};for(var z in L)j.indexOf(z)>=0||Object.prototype.hasOwnProperty.call(L,z)&&($[z]=L[z]);return $}function f(L,j){if(!(L instanceof j))throw new TypeError("Cannot call a class as a function")}var g=function(){function L(j,$){for(var z=0;z<$.length;z++){var H=$[z];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(j,H.key,H)}}return function(j,$,z){return $&&L(j.prototype,$),z&&L(j,z),j}}();function _(L,j){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:L}function v(L,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);L.prototype=Object.create(j&&j.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(L,j):L.__proto__=j)}var T=!1;function w(L){T=L}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){w(!0)}}))}catch{}function R(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?L:L.capture}function x(L){if("touches"in L){var j=L.touches[0],$=j.pageX,z=j.pageY;return{x:$,y:z}}var H=L.screenX,M=L.screenY;return{x:H,y:M}}var U=function(L){v(j,L);function j(){var $;f(this,j);for(var z=arguments.length,H=Array(z),M=0;M<z;M++)H[M]=arguments[M];var C=_(this,($=j.__proto__||Object.getPrototypeOf(j)).call.apply($,[this].concat(H)));return C._handleSwipeStart=C._handleSwipeStart.bind(C),C._handleSwipeMove=C._handleSwipeMove.bind(C),C._handleSwipeEnd=C._handleSwipeEnd.bind(C),C._onMouseDown=C._onMouseDown.bind(C),C._onMouseMove=C._onMouseMove.bind(C),C._onMouseUp=C._onMouseUp.bind(C),C._setSwiperRef=C._setSwiperRef.bind(C),C}return g(j,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(z){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(z))}},{key:"_onMouseMove",value:function(z){this.mouseDown&&this._handleSwipeMove(z)}},{key:"_onMouseUp",value:function(z){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(z)}},{key:"_handleSwipeStart",value:function(z){var H=x(z),M=H.x,C=H.y;this.moveStart={x:M,y:C},this.props.onSwipeStart(z)}},{key:"_handleSwipeMove",value:function(z){if(this.moveStart){var H=x(z),M=H.x,C=H.y,I=M-this.moveStart.x,b=C-this.moveStart.y;this.moving=!0;var P=this.props.onSwipeMove({x:I,y:b},z);P&&z.cancelable&&z.preventDefault(),this.movePosition={deltaX:I,deltaY:b}}}},{key:"_handleSwipeEnd",value:function(z){this.props.onSwipeEnd(z);var H=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-H?this.props.onSwipeLeft(1,z):this.movePosition.deltaX>H&&this.props.onSwipeRight(1,z),this.movePosition.deltaY<-H?this.props.onSwipeUp(1,z):this.movePosition.deltaY>H&&this.props.onSwipeDown(1,z)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(z){this.swiper=z,this.props.innerRef(z)}},{key:"render",value:function(){var z=this.props;z.tagName;var H=z.className,M=z.style,C=z.children;z.allowMouseEvents,z.onSwipeUp,z.onSwipeDown,z.onSwipeLeft,z.onSwipeRight,z.onSwipeStart,z.onSwipeMove,z.onSwipeEnd,z.innerRef,z.tolerance;var I=d(z,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,h({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:H,style:M},I),C)}}]),j}(t.Component);U.displayName="ReactSwipe",U.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},U.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=U})}(bm)),bm}var T1;function fN(){return T1||(T1=1,function(n){(function(e,t){t(n,E9())})(Em,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})}(Em)),Em}var sd={},b0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var S1;function b9(){return S1||(S1=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=i(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=i(u,h));return u}function i(o,u){return u?o?o+" "+u:o+u:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(b0)),b0.exports}var A1;function pN(){if(A1)return sd;A1=1,Object.defineProperty(sd,"__esModule",{value:!0}),sd.default=void 0;var n=e(b9());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,u){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":u==="horizontal","axis-vertical":u!=="horizontal"})},SLIDER:function(o,u){return(0,n.default)({thumbs:!o,slider:o,animated:!u})},ITEM:function(o,u,h){return(0,n.default)({thumb:!o,slide:o,selected:u,previous:h})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return sd.default=r,sd}var ad={},od={},R1;function w9(){if(R1)return od;R1=1,Object.defineProperty(od,"__esModule",{value:!0}),od.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return od.outerWidth=n,od}var ld={},I1;function Cw(){if(I1)return ld;I1=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.default=void 0;var n=function(t,r,i){var o=t===0?t:t+r,u=i==="horizontal"?[o,0,0]:[0,o,0],h="translate3d",d="("+u.join(",")+")";return h+d};return ld.default=n,ld}var ud={},C1;function mN(){if(C1)return ud;C1=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.default=void 0;var n=function(){return window};return ud.default=n,ud}var x1;function gN(){if(x1)return ad;x1=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.default=void 0;var n=d(so()),e=u(pN()),t=w9(),r=u(Cw()),i=u(fN()),o=u(mN());function u(C){return C&&C.__esModule?C:{default:C}}function h(){if(typeof WeakMap!="function")return null;var C=new WeakMap;return h=function(){return C},C}function d(C){if(C&&C.__esModule)return C;if(C===null||f(C)!=="object"&&typeof C!="function")return{default:C};var I=h();if(I&&I.has(C))return I.get(C);var b={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in C)if(Object.prototype.hasOwnProperty.call(C,O)){var D=P?Object.getOwnPropertyDescriptor(C,O):null;D&&(D.get||D.set)?Object.defineProperty(b,O,D):b[O]=C[O]}return b.default=C,I&&I.set(C,b),b}function f(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(b){return typeof b}:f=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},f(C)}function g(){return g=Object.assign||function(C){for(var I=1;I<arguments.length;I++){var b=arguments[I];for(var P in b)Object.prototype.hasOwnProperty.call(b,P)&&(C[P]=b[P])}return C},g.apply(this,arguments)}function _(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}function v(C,I){for(var b=0;b<I.length;b++){var P=I[b];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}function T(C,I,b){return I&&v(C.prototype,I),C}function w(C,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(I&&I.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),I&&R(C,I)}function R(C,I){return R=Object.setPrototypeOf||function(P,O){return P.__proto__=O,P},R(C,I)}function x(C){var I=j();return function(){var P=$(C),O;if(I){var D=$(this).constructor;O=Reflect.construct(P,arguments,D)}else O=P.apply(this,arguments);return U(this,O)}}function U(C,I){return I&&(f(I)==="object"||typeof I=="function")?I:L(C)}function L(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function $(C){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)},$(C)}function z(C,I,b){return I in C?Object.defineProperty(C,I,{value:b,enumerable:!0,configurable:!0,writable:!0}):C[I]=b,C}var H=function(I){return I.hasOwnProperty("key")},M=function(C){w(b,C);var I=x(b);function b(P){var O;return _(this,b),O=I.call(this,P),z(L(O),"itemsWrapperRef",void 0),z(L(O),"itemsListRef",void 0),z(L(O),"thumbsRef",void 0),z(L(O),"setItemsWrapperRef",function(D){O.itemsWrapperRef=D}),z(L(O),"setItemsListRef",function(D){O.itemsListRef=D}),z(L(O),"setThumbsRef",function(D,te){O.thumbsRef||(O.thumbsRef=[]),O.thumbsRef[te]=D}),z(L(O),"updateSizes",function(){if(!(!O.props.children||!O.itemsWrapperRef||!O.thumbsRef)){var D=n.Children.count(O.props.children),te=O.itemsWrapperRef.clientWidth,F=O.props.thumbWidth?O.props.thumbWidth:(0,t.outerWidth)(O.thumbsRef[0]),ee=Math.floor(te/F),ie=ee<D,ue=ie?D-ee:0;O.setState(function(Te,q){return{itemSize:F,visibleItems:ee,firstItem:ie?O.getFirstItem(q.selectedItem):0,lastPosition:ue,showArrows:ie}})}}),z(L(O),"handleClickItem",function(D,te,F){if(!H(F)||F.key==="Enter"){var ee=O.props.onSelectItem;typeof ee=="function"&&ee(D,te)}}),z(L(O),"onSwipeStart",function(){O.setState({swiping:!0})}),z(L(O),"onSwipeEnd",function(){O.setState({swiping:!1})}),z(L(O),"onSwipeMove",function(D){var te=D.x;if(!O.state.itemSize||!O.itemsWrapperRef||!O.state.visibleItems)return!1;var F=0,ee=n.Children.count(O.props.children),ie=-(O.state.firstItem*100)/O.state.visibleItems,ue=Math.max(ee-O.state.visibleItems,0),Te=-ue*100/O.state.visibleItems;ie===F&&te>0&&(te=0),ie===Te&&te<0&&(te=0);var q=O.itemsWrapperRef.clientWidth,ae=ie+100/(q/te);return O.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(be){O.itemsListRef.style[be]=(0,r.default)(ae,"%",O.props.axis)}),!0}),z(L(O),"slideRight",function(D){O.moveTo(O.state.firstItem-(typeof D=="number"?D:1))}),z(L(O),"slideLeft",function(D){O.moveTo(O.state.firstItem+(typeof D=="number"?D:1))}),z(L(O),"moveTo",function(D){D=D<0?0:D,D=D>=O.state.lastPosition?O.state.lastPosition:D,O.setState({firstItem:D})}),O.state={selectedItem:P.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},O}return T(b,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(O){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==O.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(O){var D=O;return O>=this.state.lastPosition&&(D=this.state.lastPosition),O<this.state.firstItem+this.state.visibleItems&&(D=this.state.firstItem),O<this.state.firstItem&&(D=O),D}},{key:"renderItems",value:function(){var O=this;return this.props.children.map(function(D,te){var F=e.default.ITEM(!1,te===O.state.selectedItem),ee={key:te,ref:function(ue){return O.setThumbsRef(ue,te)},className:F,onClick:O.handleClickItem.bind(O,te,O.props.children[te]),onKeyDown:O.handleClickItem.bind(O,te,O.props.children[te]),"aria-label":"".concat(O.props.labels.item," ").concat(te+1),style:{width:O.props.thumbWidth}};return n.default.createElement("li",g({},ee,{role:"button",tabIndex:0}),D)})}},{key:"render",value:function(){var O=this;if(!this.props.children)return null;var D=n.Children.count(this.props.children)>1,te=this.state.showArrows&&this.state.firstItem>0,F=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,ee={},ie=-this.state.firstItem*(this.state.itemSize||0),ue=(0,r.default)(ie,"px",this.props.axis),Te=this.props.transitionTime+"ms";return ee={WebkitTransform:ue,MozTransform:ue,MsTransform:ue,OTransform:ue,transform:ue,msTransform:ue,WebkitTransitionDuration:Te,MozTransitionDuration:Te,MsTransitionDuration:Te,OTransitionDuration:Te,transitionDuration:Te,msTransitionDuration:Te},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!te),onClick:function(){return O.slideRight()},"aria-label":this.props.labels.leftArrow}),D?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:ee,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(ae){return O.setItemsListRef(ae)},style:ee},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!F),onClick:function(){return O.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),b}(n.Component);return ad.default=M,z(M,"displayName","Thumbs"),z(M,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),ad}var cd={},P1;function T9(){if(P1)return cd;P1=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.default=void 0;var n=function(){return document};return cd.default=n,cd}var Er={},O1;function yN(){if(O1)return Er;O1=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.setPosition=Er.getPosition=Er.isKeyboardEvent=Er.defaultStatusFormatter=Er.noop=void 0;var n=so(),e=t(Cw());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};Er.noop=r;var i=function(f,g){return"".concat(f," of ").concat(g)};Er.defaultStatusFormatter=i;var o=function(f){return f?f.hasOwnProperty("key"):!1};Er.isKeyboardEvent=o;var u=function(f,g){if(g.infiniteLoop&&++f,f===0)return 0;var _=n.Children.count(g.children);if(g.centerMode&&g.axis==="horizontal"){var v=-f*g.centerSlidePercentage,T=_-1;return f&&(f!==T||g.infiniteLoop)?v+=(100-g.centerSlidePercentage)/2:f===T&&(v+=100-g.centerSlidePercentage),v}return-f*100};Er.getPosition=u;var h=function(f,g){var _={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){_[v]=(0,e.default)(f,"%",g)}),_};return Er.setPosition=h,Er}var oi={},D1;function S9(){if(D1)return oi;D1=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.fadeAnimationHandler=oi.slideStopSwipingHandler=oi.slideSwipeAnimationHandler=oi.slideAnimationHandler=void 0;var n=so(),e=r(Cw()),t=yN();function r(_){return _&&_.__esModule?_:{default:_}}function i(_,v){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(_);v&&(w=w.filter(function(R){return Object.getOwnPropertyDescriptor(_,R).enumerable})),T.push.apply(T,w)}return T}function o(_){for(var v=1;v<arguments.length;v++){var T=arguments[v]!=null?arguments[v]:{};v%2?i(Object(T),!0).forEach(function(w){u(_,w,T[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(w){Object.defineProperty(_,w,Object.getOwnPropertyDescriptor(T,w))})}return _}function u(_,v,T){return v in _?Object.defineProperty(_,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[v]=T,_}var h=function(v,T){var w={},R=T.selectedItem,x=R,U=n.Children.count(v.children)-1,L=v.infiniteLoop&&(R<0||R>U);if(L)return x<0?v.centerMode&&v.centerSlidePercentage&&v.axis==="horizontal"?w.itemListStyle=(0,t.setPosition)(-(U+2)*v.centerSlidePercentage-(100-v.centerSlidePercentage)/2,v.axis):w.itemListStyle=(0,t.setPosition)(-(U+2)*100,v.axis):x>U&&(w.itemListStyle=(0,t.setPosition)(0,v.axis)),w;var j=(0,t.getPosition)(R,v),$=(0,e.default)(j,"%",v.axis),z=v.transitionTime+"ms";return w.itemListStyle={WebkitTransform:$,msTransform:$,OTransform:$,transform:$},T.swiping||(w.itemListStyle=o(o({},w.itemListStyle),{},{WebkitTransitionDuration:z,MozTransitionDuration:z,OTransitionDuration:z,transitionDuration:z,msTransitionDuration:z})),w};oi.slideAnimationHandler=h;var d=function(v,T,w,R){var x={},U=T.axis==="horizontal",L=n.Children.count(T.children),j=0,$=(0,t.getPosition)(w.selectedItem,T),z=T.infiniteLoop?(0,t.getPosition)(L-1,T)-100:(0,t.getPosition)(L-1,T),H=U?v.x:v.y,M=H;$===j&&H>0&&(M=0),$===z&&H<0&&(M=0);var C=$+100/(w.itemSize/M),I=Math.abs(H)>T.swipeScrollTolerance;return T.infiniteLoop&&I&&(w.selectedItem===0&&C>-100?C-=L*100:w.selectedItem===L-1&&C<-L*100&&(C+=L*100)),(!T.preventMovementUntilSwipeScrollTolerance||I||w.swipeMovementStarted)&&(w.swipeMovementStarted||R({swipeMovementStarted:!0}),x.itemListStyle=(0,t.setPosition)(C,T.axis)),I&&!w.cancelClick&&R({cancelClick:!0}),x};oi.slideSwipeAnimationHandler=d;var f=function(v,T){var w=(0,t.getPosition)(T.selectedItem,v),R=(0,t.setPosition)(w,v.axis);return{itemListStyle:R}};oi.slideStopSwipingHandler=f;var g=function(v,T){var w=v.transitionTime+"ms",R="ease-in-out",x={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:R,msTransitionTimingFunction:R,MozTransitionTimingFunction:R,WebkitTransitionTimingFunction:R,OTransitionTimingFunction:R};return T.swiping||(x=o(o({},x),{},{WebkitTransitionDuration:w,MozTransitionDuration:w,OTransitionDuration:w,transitionDuration:w,msTransitionDuration:w})),{slideStyle:x,selectedStyle:o(o({},x),{},{opacity:1,position:"relative"}),prevStyle:o({},x)}};return oi.fadeAnimationHandler=g,oi}var N1;function A9(){if(N1)return id;N1=1,Object.defineProperty(id,"__esModule",{value:!0}),id.default=void 0;var n=g(so()),e=d(fN()),t=d(pN()),r=d(gN()),i=d(T9()),o=d(mN()),u=yN(),h=S9();function d(P){return P&&P.__esModule?P:{default:P}}function f(){if(typeof WeakMap!="function")return null;var P=new WeakMap;return f=function(){return P},P}function g(P){if(P&&P.__esModule)return P;if(P===null||_(P)!=="object"&&typeof P!="function")return{default:P};var O=f();if(O&&O.has(P))return O.get(P);var D={},te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in P)if(Object.prototype.hasOwnProperty.call(P,F)){var ee=te?Object.getOwnPropertyDescriptor(P,F):null;ee&&(ee.get||ee.set)?Object.defineProperty(D,F,ee):D[F]=P[F]}return D.default=P,O&&O.set(P,D),D}function _(P){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(D){return typeof D}:_=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},_(P)}function v(){return v=Object.assign||function(P){for(var O=1;O<arguments.length;O++){var D=arguments[O];for(var te in D)Object.prototype.hasOwnProperty.call(D,te)&&(P[te]=D[te])}return P},v.apply(this,arguments)}function T(P,O){var D=Object.keys(P);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(P);O&&(te=te.filter(function(F){return Object.getOwnPropertyDescriptor(P,F).enumerable})),D.push.apply(D,te)}return D}function w(P){for(var O=1;O<arguments.length;O++){var D=arguments[O]!=null?arguments[O]:{};O%2?T(Object(D),!0).forEach(function(te){I(P,te,D[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(D)):T(Object(D)).forEach(function(te){Object.defineProperty(P,te,Object.getOwnPropertyDescriptor(D,te))})}return P}function R(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}function x(P,O){for(var D=0;D<O.length;D++){var te=O[D];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(P,te.key,te)}}function U(P,O,D){return O&&x(P.prototype,O),P}function L(P,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(O&&O.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),O&&j(P,O)}function j(P,O){return j=Object.setPrototypeOf||function(te,F){return te.__proto__=F,te},j(P,O)}function $(P){var O=M();return function(){var te=C(P),F;if(O){var ee=C(this).constructor;F=Reflect.construct(te,arguments,ee)}else F=te.apply(this,arguments);return z(this,F)}}function z(P,O){return O&&(_(O)==="object"||typeof O=="function")?O:H(P)}function H(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function C(P){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},C(P)}function I(P,O,D){return O in P?Object.defineProperty(P,O,{value:D,enumerable:!0,configurable:!0,writable:!0}):P[O]=D,P}var b=function(P){L(D,P);var O=$(D);function D(te){var F;R(this,D),F=O.call(this,te),I(H(F),"thumbsRef",void 0),I(H(F),"carouselWrapperRef",void 0),I(H(F),"listRef",void 0),I(H(F),"itemsRef",void 0),I(H(F),"timer",void 0),I(H(F),"animationHandler",void 0),I(H(F),"setThumbsRef",function(ie){F.thumbsRef=ie}),I(H(F),"setCarouselWrapperRef",function(ie){F.carouselWrapperRef=ie}),I(H(F),"setListRef",function(ie){F.listRef=ie}),I(H(F),"setItemsRef",function(ie,ue){F.itemsRef||(F.itemsRef=[]),F.itemsRef[ue]=ie}),I(H(F),"autoPlay",function(){n.Children.count(F.props.children)<=1||(F.clearAutoPlay(),F.props.autoPlay&&(F.timer=setTimeout(function(){F.increment()},F.props.interval)))}),I(H(F),"clearAutoPlay",function(){F.timer&&clearTimeout(F.timer)}),I(H(F),"resetAutoPlay",function(){F.clearAutoPlay(),F.autoPlay()}),I(H(F),"stopOnHover",function(){F.setState({isMouseEntered:!0},F.clearAutoPlay)}),I(H(F),"startOnLeave",function(){F.setState({isMouseEntered:!1},F.autoPlay)}),I(H(F),"isFocusWithinTheCarousel",function(){return F.carouselWrapperRef?!!((0,i.default)().activeElement===F.carouselWrapperRef||F.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),I(H(F),"navigateWithKeyboard",function(ie){if(F.isFocusWithinTheCarousel()){var ue=F.props.axis,Te=ue==="horizontal",q={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},ae=Te?q.ArrowRight:q.ArrowDown,be=Te?q.ArrowLeft:q.ArrowUp;ae===ie.keyCode?F.increment():be===ie.keyCode&&F.decrement()}}),I(H(F),"updateSizes",function(){if(!(!F.state.initialized||!F.itemsRef||F.itemsRef.length===0)){var ie=F.props.axis==="horizontal",ue=F.itemsRef[0];if(ue){var Te=ie?ue.clientWidth:ue.clientHeight;F.setState({itemSize:Te}),F.thumbsRef&&F.thumbsRef.updateSizes()}}}),I(H(F),"setMountState",function(){F.setState({hasMount:!0}),F.updateSizes()}),I(H(F),"handleClickItem",function(ie,ue){if(n.Children.count(F.props.children)!==0){if(F.state.cancelClick){F.setState({cancelClick:!1});return}F.props.onClickItem(ie,ue),ie!==F.state.selectedItem&&F.setState({selectedItem:ie})}}),I(H(F),"handleOnChange",function(ie,ue){n.Children.count(F.props.children)<=1||F.props.onChange(ie,ue)}),I(H(F),"handleClickThumb",function(ie,ue){F.props.onClickThumb(ie,ue),F.moveTo(ie)}),I(H(F),"onSwipeStart",function(ie){F.setState({swiping:!0}),F.props.onSwipeStart(ie)}),I(H(F),"onSwipeEnd",function(ie){F.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),F.props.onSwipeEnd(ie),F.clearAutoPlay(),F.state.autoPlay&&F.autoPlay()}),I(H(F),"onSwipeMove",function(ie,ue){F.props.onSwipeMove(ue);var Te=F.props.swipeAnimationHandler(ie,F.props,F.state,F.setState.bind(H(F)));return F.setState(w({},Te)),!!Object.keys(Te).length}),I(H(F),"decrement",function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem-(typeof ie=="number"?ie:1))}),I(H(F),"increment",function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem+(typeof ie=="number"?ie:1))}),I(H(F),"moveTo",function(ie){if(typeof ie=="number"){var ue=n.Children.count(F.props.children)-1;ie<0&&(ie=F.props.infiniteLoop?ue:0),ie>ue&&(ie=F.props.infiniteLoop?0:ue),F.selectItem({selectedItem:ie}),F.state.autoPlay&&F.state.isMouseEntered===!1&&F.resetAutoPlay()}}),I(H(F),"onClickNext",function(){F.increment(1)}),I(H(F),"onClickPrev",function(){F.decrement(1)}),I(H(F),"onSwipeForward",function(){F.increment(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),I(H(F),"onSwipeBackwards",function(){F.decrement(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),I(H(F),"changeItem",function(ie){return function(ue){(!(0,u.isKeyboardEvent)(ue)||ue.key==="Enter")&&F.moveTo(ie)}}),I(H(F),"selectItem",function(ie){F.setState(w({previousItem:F.state.selectedItem},ie),function(){F.setState(F.animationHandler(F.props,F.state))}),F.handleOnChange(ie.selectedItem,n.Children.toArray(F.props.children)[ie.selectedItem])}),I(H(F),"getInitialImage",function(){var ie=F.props.selectedItem,ue=F.itemsRef&&F.itemsRef[ie],Te=ue&&ue.getElementsByTagName("img")||[];return Te[0]}),I(H(F),"getVariableItemHeight",function(ie){var ue=F.itemsRef&&F.itemsRef[ie];if(F.state.hasMount&&ue&&ue.children.length){var Te=ue.children[0].getElementsByTagName("img")||[];if(Te.length>0){var q=Te[0];if(!q.complete){var ae=function ye(){F.forceUpdate(),q.removeEventListener("load",ye)};q.addEventListener("load",ae)}}var be=Te[0]||ue.children[0],ve=be.clientHeight;return ve>0?ve:null}return null});var ee={initialized:!1,previousItem:te.selectedItem,selectedItem:te.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:te.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return F.animationHandler=typeof te.animationHandler=="function"&&te.animationHandler||te.animationHandler==="fade"&&h.fadeAnimationHandler||h.slideAnimationHandler,F.state=w(w({},ee),F.animationHandler(te,ee)),F}return U(D,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(F,ee){!F.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!F.autoFocus&&this.props.autoFocus&&this.forceFocus(),ee.swiping&&!this.state.swiping&&this.setState(w({},this.props.stopSwipingHandler(this.props,this.state))),(F.selectedItem!==this.props.selectedItem||F.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),F.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var F=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var ee=F.getInitialImage();ee&&!ee.complete?ee.addEventListener("load",F.setMountState):F.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.addEventListener("mouseenter",this.stopOnHover),F.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.removeEventListener("mouseenter",this.stopOnHover),F.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var F=this.getInitialImage();F&&F.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var F;(F=this.carouselWrapperRef)===null||F===void 0||F.focus()}},{key:"renderItems",value:function(F){var ee=this;return this.props.children?n.Children.map(this.props.children,function(ie,ue){var Te=ue===ee.state.selectedItem,q=ue===ee.state.previousItem,ae=Te&&ee.state.selectedStyle||q&&ee.state.prevStyle||ee.state.slideStyle||{};ee.props.centerMode&&ee.props.axis==="horizontal"&&(ae=w(w({},ae),{},{minWidth:ee.props.centerSlidePercentage+"%"})),ee.state.swiping&&ee.state.swipeMovementStarted&&(ae=w(w({},ae),{},{pointerEvents:"none"}));var be={ref:function(ye){return ee.setItemsRef(ye,ue)},key:"itemKey"+ue+(F?"clone":""),className:t.default.ITEM(!0,ue===ee.state.selectedItem,ue===ee.state.previousItem),onClick:ee.handleClickItem.bind(ee,ue,ie),style:ae};return n.default.createElement("li",be,ee.props.renderItem(ie,{isSelected:ue===ee.state.selectedItem,isPrevious:ue===ee.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var F=this,ee=this.props,ie=ee.showIndicators,ue=ee.labels,Te=ee.renderIndicator,q=ee.children;return ie?n.default.createElement("ul",{className:"control-dots"},n.Children.map(q,function(ae,be){return Te&&Te(F.changeItem(be),be===F.state.selectedItem,be,ue.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var F=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var ee=this.props.swipeable&&n.Children.count(this.props.children)>1,ie=this.props.axis==="horizontal",ue=this.props.showArrows&&n.Children.count(this.props.children)>1,Te=ue&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,q=ue&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,ae=this.renderItems(!0),be=ae.shift(),ve=ae.pop(),ye={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Oe={};if(ie){if(ye.onSwipeLeft=this.onSwipeForward,ye.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var De=this.getVariableItemHeight(this.state.selectedItem);Oe.height=De||"auto"}}else ye.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ye.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ye.style=w(w({},ye.style),{},{height:this.state.itemSize}),Oe.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,Te,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:Oe},ee?n.default.createElement(e.default,v({tagName:"ul",innerRef:this.setListRef},ye,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&ve,this.renderItems(),this.props.infiniteLoop&&be):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(ze){return F.setListRef(ze)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&ve,this.renderItems(),this.props.infiniteLoop&&be)),this.props.renderArrowNext(this.onClickNext,q,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),D}(n.default.Component);return id.default=b,I(b,"displayName","Carousel"),I(b,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(O,D,te){return n.default.createElement("button",{type:"button","aria-label":te,className:t.default.ARROW_PREV(!D),onClick:O})},renderArrowNext:function(O,D,te){return n.default.createElement("button",{type:"button","aria-label":te,className:t.default.ARROW_NEXT(!D),onClick:O})},renderIndicator:function(O,D,te,F){return n.default.createElement("li",{className:t.default.DOT(D),onClick:O,onKeyDown:O,value:te,key:te,role:"button",tabIndex:0,"aria-label":"".concat(F," ").concat(te+1)})},renderItem:function(O){return O},renderThumbs:function(O){var D=n.Children.map(O,function(te){var F=te;if(te.type!=="img"&&(F=n.Children.toArray(te.props.children).find(function(ee){return ee.type==="img"})),!!F)return F});return D.filter(function(te){return te}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):D},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:h.slideSwipeAnimationHandler,stopSwipingHandler:h.slideStopSwipingHandler}),id}var k1={},V1;function R9(){return V1||(V1=1),k1}var M1;function I9(){return M1||(M1=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(A9()),t=R9(),r=i(gN());function i(o){return o&&o.__esModule?o:{default:o}}}(y0)),y0}var C9=I9();const x9="/Amazo-Clone-2025/assets/10001-sIt0uWKR.jpg",P9="/Amazo-Clone-2025/assets/imag1-yhNuh496.jpg",O9="/Amazo-Clone-2025/assets/image2-DbxT18Ss.jpg",D9="/Amazo-Clone-2025/assets/image3-DjhQL4wt.jpg",N9="/Amazo-Clone-2025/assets/image4-lGrFhA8K.jpg",k9=[x9,P9,O9,D9,N9],V9="Carusole-module__carsole__effct___RTEdQ",M9={carsole__effct:V9};function L9(){return N.jsxs("div",{children:[N.jsx(C9.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showStatus:!1,showThumbs:!1,children:k9.map((n,e)=>N.jsx("img",{src:n,alt:""}))}),N.jsx("div",{className:M9.carsole__effct})]})}const w0=[{title:"electronics",img:"https://m.media-amazon.com/images/I/71BGZ2RL9VL._AC_UL480_FMwebp_QL65_.jpg",desc:"shope now"},{title:"jewelery",img:"https://m.media-amazon.com/images/I/81YUtidOP5L._AC_SY535_.jpg",desc:"shope now"},{title:"men's clothing",img:"https://m.media-amazon.com/images/I/61ChVaDO1ML._AC_SY550_.jpg",desc:"shope now"},{title:"women's clothing",img:"https://m.media-amazon.com/images/I/815lLjrKzzL._AC_SY550_.jpg",desc:"shope now"}],U9="catagory-module__Catagory__container___qcjxb",j9="catagory-module__catagory___oRT27",_N={Catagory__container:U9,catagory:j9};function F9({data:n}){return N.jsx("div",{className:_N.catagory,children:N.jsxs(ui,{to:`/category/${n.title}`,children:[N.jsx("span",{children:N.jsx("h2",{children:n==null?void 0:n.title})}),N.jsx("img",{src:n.img,alt:""}),N.jsx("p",{children:"shop now"})]})})}function B9(){return N.jsx("section",{className:_N.Catagory__container,children:w0==null?void 0:w0.map(n=>N.jsx(F9,{data:n}))})}const uf={black:"#000",white:"#fff"},Au={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ru={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Iu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Cu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},xu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},hd={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},z9={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function wl(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}const q9="$$material";function wE(){return wE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wE.apply(null,arguments)}function H9(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function $9(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var G9=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag($9(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=H9(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Bn="-ms-",Pg="-moz-",rt="-webkit-",vN="comm",xw="rule",Pw="decl",K9="@import",EN="@keyframes",W9="@layer",Q9=Math.abs,Iy=String.fromCharCode,Y9=Object.assign;function X9(n,e){return Dn(n,0)^45?(((e<<2^Dn(n,0))<<2^Dn(n,1))<<2^Dn(n,2))<<2^Dn(n,3):0}function bN(n){return n.trim()}function J9(n,e){return(n=e.exec(n))?n[0]:n}function it(n,e,t){return n.replace(e,t)}function TE(n,e){return n.indexOf(e)}function Dn(n,e){return n.charCodeAt(e)|0}function cf(n,e,t){return n.slice(e,t)}function Ni(n){return n.length}function Ow(n){return n.length}function wm(n,e){return e.push(n),n}function Z9(n,e){return n.map(e).join("")}var Cy=1,yc=1,wN=0,hr=0,sn=0,Mc="";function xy(n,e,t,r,i,o,u){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:Cy,column:yc,length:u,return:""}}function dd(n,e){return Y9(xy("",null,null,"",null,null,0),n,{length:-n.length},e)}function eq(){return sn}function tq(){return sn=hr>0?Dn(Mc,--hr):0,yc--,sn===10&&(yc=1,Cy--),sn}function Ir(){return sn=hr<wN?Dn(Mc,hr++):0,yc++,sn===10&&(yc=1,Cy++),sn}function Hi(){return Dn(Mc,hr)}function Hm(){return hr}function Uf(n,e){return cf(Mc,n,e)}function hf(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function TN(n){return Cy=yc=1,wN=Ni(Mc=n),hr=0,[]}function SN(n){return Mc="",n}function $m(n){return bN(Uf(hr-1,SE(n===91?n+2:n===40?n+1:n)))}function nq(n){for(;(sn=Hi())&&sn<33;)Ir();return hf(n)>2||hf(sn)>3?"":" "}function rq(n,e){for(;--e&&Ir()&&!(sn<48||sn>102||sn>57&&sn<65||sn>70&&sn<97););return Uf(n,Hm()+(e<6&&Hi()==32&&Ir()==32))}function SE(n){for(;Ir();)switch(sn){case n:return hr;case 34:case 39:n!==34&&n!==39&&SE(sn);break;case 40:n===41&&SE(n);break;case 92:Ir();break}return hr}function iq(n,e){for(;Ir()&&n+sn!==57;)if(n+sn===84&&Hi()===47)break;return"/*"+Uf(e,hr-1)+"*"+Iy(n===47?n:Ir())}function sq(n){for(;!hf(Hi());)Ir();return Uf(n,hr)}function aq(n){return SN(Gm("",null,null,null,[""],n=TN(n),0,[0],n))}function Gm(n,e,t,r,i,o,u,h,d){for(var f=0,g=0,_=u,v=0,T=0,w=0,R=1,x=1,U=1,L=0,j="",$=i,z=o,H=r,M=j;x;)switch(w=L,L=Ir()){case 40:if(w!=108&&Dn(M,_-1)==58){TE(M+=it($m(L),"&","&\f"),"&\f")!=-1&&(U=-1);break}case 34:case 39:case 91:M+=$m(L);break;case 9:case 10:case 13:case 32:M+=nq(w);break;case 92:M+=rq(Hm()-1,7);continue;case 47:switch(Hi()){case 42:case 47:wm(oq(iq(Ir(),Hm()),e,t),d);break;default:M+="/"}break;case 123*R:h[f++]=Ni(M)*U;case 125*R:case 59:case 0:switch(L){case 0:case 125:x=0;case 59+g:U==-1&&(M=it(M,/\f/g,"")),T>0&&Ni(M)-_&&wm(T>32?U1(M+";",r,t,_-1):U1(it(M," ","")+";",r,t,_-2),d);break;case 59:M+=";";default:if(wm(H=L1(M,e,t,f,g,i,h,j,$=[],z=[],_),o),L===123)if(g===0)Gm(M,e,H,H,$,o,_,h,z);else switch(v===99&&Dn(M,3)===110?100:v){case 100:case 108:case 109:case 115:Gm(n,H,H,r&&wm(L1(n,H,H,0,0,i,h,j,i,$=[],_),z),i,z,_,h,r?$:z);break;default:Gm(M,H,H,H,[""],z,0,h,z)}}f=g=T=0,R=U=1,j=M="",_=u;break;case 58:_=1+Ni(M),T=w;default:if(R<1){if(L==123)--R;else if(L==125&&R++==0&&tq()==125)continue}switch(M+=Iy(L),L*R){case 38:U=g>0?1:(M+="\f",-1);break;case 44:h[f++]=(Ni(M)-1)*U,U=1;break;case 64:Hi()===45&&(M+=$m(Ir())),v=Hi(),g=_=Ni(j=M+=sq(Hm())),L++;break;case 45:w===45&&Ni(M)==2&&(R=0)}}return o}function L1(n,e,t,r,i,o,u,h,d,f,g){for(var _=i-1,v=i===0?o:[""],T=Ow(v),w=0,R=0,x=0;w<r;++w)for(var U=0,L=cf(n,_+1,_=Q9(R=u[w])),j=n;U<T;++U)(j=bN(R>0?v[U]+" "+L:it(L,/&\f/g,v[U])))&&(d[x++]=j);return xy(n,e,t,i===0?xw:h,d,f,g)}function oq(n,e,t){return xy(n,e,t,vN,Iy(eq()),cf(n,2,-2),0)}function U1(n,e,t,r){return xy(n,e,t,Pw,cf(n,0,r),cf(n,r+1,-1),r)}function Hu(n,e){for(var t="",r=Ow(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function lq(n,e,t,r){switch(n.type){case W9:if(n.children.length)break;case K9:case Pw:return n.return=n.return||n.value;case vN:return"";case EN:return n.return=n.value+"{"+Hu(n.children,r)+"}";case xw:n.value=n.props.join(",")}return Ni(t=Hu(n.children,r))?n.return=n.value+"{"+t+"}":""}function uq(n){var e=Ow(n);return function(t,r,i,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,i,o)||"";return u}}function cq(n){return function(e){e.root||(e=e.return)&&n(e)}}function AN(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var hq=function(e,t,r){for(var i=0,o=0;i=o,o=Hi(),i===38&&o===12&&(t[r]=1),!hf(o);)Ir();return Uf(e,hr)},dq=function(e,t){var r=-1,i=44;do switch(hf(i)){case 0:i===38&&Hi()===12&&(t[r]=1),e[r]+=hq(hr-1,t,r);break;case 2:e[r]+=$m(i);break;case 4:if(i===44){e[++r]=Hi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Iy(i)}while(i=Ir());return e},fq=function(e,t){return SN(dq(TN(e),t))},j1=new WeakMap,pq=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!j1.get(r))&&!i){j1.set(e,!0);for(var o=[],u=fq(t,o),h=r.props,d=0,f=0;d<u.length;d++)for(var g=0;g<h.length;g++,f++)e.props[f]=o[d]?u[d].replace(/&\f/g,h[g]):h[g]+" "+u[d]}}},mq=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function RN(n,e){switch(X9(n,e)){case 5103:return rt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return rt+n+Pg+n+Bn+n+n;case 6828:case 4268:return rt+n+Bn+n+n;case 6165:return rt+n+Bn+"flex-"+n+n;case 5187:return rt+n+it(n,/(\w+).+(:[^]+)/,rt+"box-$1$2"+Bn+"flex-$1$2")+n;case 5443:return rt+n+Bn+"flex-item-"+it(n,/flex-|-self/,"")+n;case 4675:return rt+n+Bn+"flex-line-pack"+it(n,/align-content|flex-|-self/,"")+n;case 5548:return rt+n+Bn+it(n,"shrink","negative")+n;case 5292:return rt+n+Bn+it(n,"basis","preferred-size")+n;case 6060:return rt+"box-"+it(n,"-grow","")+rt+n+Bn+it(n,"grow","positive")+n;case 4554:return rt+it(n,/([^-])(transform)/g,"$1"+rt+"$2")+n;case 6187:return it(it(it(n,/(zoom-|grab)/,rt+"$1"),/(image-set)/,rt+"$1"),n,"")+n;case 5495:case 3959:return it(n,/(image-set\([^]*)/,rt+"$1$`$1");case 4968:return it(it(n,/(.+:)(flex-)?(.*)/,rt+"box-pack:$3"+Bn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rt+n+n;case 4095:case 3583:case 4068:case 2532:return it(n,/(.+)-inline(.+)/,rt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ni(n)-1-e>6)switch(Dn(n,e+1)){case 109:if(Dn(n,e+4)!==45)break;case 102:return it(n,/(.+:)(.+)-([^]+)/,"$1"+rt+"$2-$3$1"+Pg+(Dn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~TE(n,"stretch")?RN(it(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Dn(n,e+1)!==115)break;case 6444:switch(Dn(n,Ni(n)-3-(~TE(n,"!important")&&10))){case 107:return it(n,":",":"+rt)+n;case 101:return it(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rt+(Dn(n,14)===45?"inline-":"")+"box$3$1"+rt+"$2$3$1"+Bn+"$2box$3")+n}break;case 5936:switch(Dn(n,e+11)){case 114:return rt+n+Bn+it(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return rt+n+Bn+it(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return rt+n+Bn+it(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return rt+n+Bn+n+n}return n}var gq=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case Pw:e.return=RN(e.value,e.length);break;case EN:return Hu([dd(e,{value:it(e.value,"@","@"+rt)})],i);case xw:if(e.length)return Z9(e.props,function(o){switch(J9(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Hu([dd(e,{props:[it(o,/:(read-\w+)/,":"+Pg+"$1")]})],i);case"::placeholder":return Hu([dd(e,{props:[it(o,/:(plac\w+)/,":"+rt+"input-$1")]}),dd(e,{props:[it(o,/:(plac\w+)/,":"+Pg+"$1")]}),dd(e,{props:[it(o,/:(plac\w+)/,Bn+"input-$1")]})],i)}return""})}},yq=[gq],_q=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(R){var x=R.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var i=e.stylisPlugins||yq,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(R){for(var x=R.getAttribute("data-emotion").split(" "),U=1;U<x.length;U++)o[x[U]]=!0;h.push(R)});var d,f=[pq,mq];{var g,_=[lq,cq(function(R){g.insert(R)})],v=uq(f.concat(i,_)),T=function(x){return Hu(aq(x),v)};d=function(x,U,L,j){g=L,T(x?x+"{"+U.styles+"}":U.styles),j&&(w.inserted[U.name]=!0)}}var w={key:t,sheet:new G9({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return w.sheet.hydrate(h),w},vq=!0;function Eq(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var IN=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||vq===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},bq=function(e,t,r){IN(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function wq(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Tq={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Sq=/[A-Z]|^ms/g,Aq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,CN=function(e){return e.charCodeAt(1)===45},F1=function(e){return e!=null&&typeof e!="boolean"},T0=AN(function(n){return CN(n)?n:n.replace(Sq,"-$&").toLowerCase()}),B1=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Aq,function(r,i,o){return ki={name:i,styles:o,next:ki},i})}return Tq[e]!==1&&!CN(e)&&typeof t=="number"&&t!==0?t+"px":t};function df(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return ki={name:i.name,styles:i.styles,next:ki},i.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)ki={name:u.name,styles:u.styles,next:ki},u=u.next;var h=o.styles+";";return h}return Rq(n,e,t)}case"function":{if(n!==void 0){var d=ki,f=t(n);return ki=d,df(n,e,f)}break}}var g=t;if(e==null)return g;var _=e[g];return _!==void 0?_:g}function Rq(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=df(n,e,t[i])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":F1(h)&&(r+=T0(o)+":"+B1(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var d=0;d<u.length;d++)F1(u[d])&&(r+=T0(o)+":"+B1(o,u[d])+";");else{var f=df(n,e,u);switch(o){case"animation":case"animationName":{r+=T0(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var z1=/label:\s*([^\s;{]+)\s*(;|$)/g,ki;function xN(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";ki=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=df(t,e,o);else{var u=o;i+=u[0]}for(var h=1;h<n.length;h++)if(i+=df(t,e,n[h]),r){var d=o;i+=d[h]}z1.lastIndex=0;for(var f="",g;(g=z1.exec(i))!==null;)f+="-"+g[1];var _=wq(i)+f;return{name:_,styles:i,next:ki}}var Iq=function(e){return e()},Cq=D0.useInsertionEffect?D0.useInsertionEffect:!1,xq=Cq||Iq,PN=W.createContext(typeof HTMLElement<"u"?_q({key:"css"}):null);PN.Provider;var Pq=function(e){return W.forwardRef(function(t,r){var i=W.useContext(PN);return e(t,i,r)})},Oq=W.createContext({}),Dq=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Nq=AN(function(n){return Dq.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),kq=Nq,Vq=function(e){return e!=="theme"},q1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?kq:Vq},H1=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Mq=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return IN(t,r,i),xq(function(){return bq(t,r,i)}),null},Lq=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var h=H1(e,t,r),d=h||q1(i),f=!d("as");return function(){var g=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)_.push.apply(_,g);else{var v=g[0];_.push(v[0]);for(var T=g.length,w=1;w<T;w++)_.push(g[w],v[w])}var R=Pq(function(x,U,L){var j=f&&x.as||i,$="",z=[],H=x;if(x.theme==null){H={};for(var M in x)H[M]=x[M];H.theme=W.useContext(Oq)}typeof x.className=="string"?$=Eq(U.registered,z,x.className):x.className!=null&&($=x.className+" ");var C=xN(_.concat(z),U.registered,H);$+=U.key+"-"+C.name,u!==void 0&&($+=" "+u);var I=f&&h===void 0?q1(j):d,b={};for(var P in x)f&&P==="as"||I(P)&&(b[P]=x[P]);return b.className=$,L&&(b.ref=L),W.createElement(W.Fragment,null,W.createElement(Mq,{cache:U,serialized:C,isStringTag:typeof j=="string"}),W.createElement(j,b))});return R.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",R.defaultProps=e.defaultProps,R.__emotion_real=R,R.__emotion_base=i,R.__emotion_styles=_,R.__emotion_forwardProp=h,Object.defineProperty(R,"toString",{value:function(){return"."+u}}),R.withComponent=function(x,U){var L=n(x,wE({},t,U,{shouldForwardProp:H1(R,U,!0)}));return L.apply(void 0,_)},R}},Uq=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],AE=Lq.bind(null);Uq.forEach(function(n){AE[n]=AE(n)});var jq=dN();const Dt=FE(jq);/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Fq(n,e){return AE(n,e)}function Bq(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const $1=[];function G1(n){return $1[0]=n,xN($1)}var S0={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1;function zq(){if(K1)return ht;K1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),T=Symbol.for("react.client.reference");function w(R){if(typeof R=="object"&&R!==null){var x=R.$$typeof;switch(x){case n:switch(R=R.type,R){case t:case i:case r:case d:case f:return R;default:switch(R=R&&R.$$typeof,R){case u:case h:case _:case g:return R;case o:return R;default:return x}}case e:return x}}}return ht.ContextConsumer=o,ht.ContextProvider=u,ht.Element=n,ht.ForwardRef=h,ht.Fragment=t,ht.Lazy=_,ht.Memo=g,ht.Portal=e,ht.Profiler=i,ht.StrictMode=r,ht.Suspense=d,ht.SuspenseList=f,ht.isContextConsumer=function(R){return w(R)===o},ht.isContextProvider=function(R){return w(R)===u},ht.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===n},ht.isForwardRef=function(R){return w(R)===h},ht.isFragment=function(R){return w(R)===t},ht.isLazy=function(R){return w(R)===_},ht.isMemo=function(R){return w(R)===g},ht.isPortal=function(R){return w(R)===e},ht.isProfiler=function(R){return w(R)===i},ht.isStrictMode=function(R){return w(R)===r},ht.isSuspense=function(R){return w(R)===d},ht.isSuspenseList=function(R){return w(R)===f},ht.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===t||R===i||R===r||R===d||R===f||R===v||typeof R=="object"&&R!==null&&(R.$$typeof===_||R.$$typeof===g||R.$$typeof===u||R.$$typeof===o||R.$$typeof===h||R.$$typeof===T||R.getModuleId!==void 0)},ht.typeOf=w,ht}var W1;function qq(){return W1||(W1=1,S0.exports=zq()),S0.exports}var ON=qq();function Is(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function DN(n){if(W.isValidElement(n)||ON.isValidElementType(n)||!Is(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=DN(n[t])}),e}function Cr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Is(n)&&Is(e)&&Object.keys(e).forEach(i=>{W.isValidElement(e[i])||ON.isValidElementType(e[i])?r[i]=e[i]:Is(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Is(n[i])?r[i]=Cr(n[i],e[i],t):t.clone?r[i]=Is(e[i])?DN(e[i]):e[i]:r[i]=e[i]}),r}const Hq=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function $q(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=Hq(e),u=Object.keys(o);function h(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function d(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function f(v,T){const w=u.indexOf(T);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(w!==-1&&typeof e[u[w]]=="number"?e[u[w]]:T)-r/100}${t})`}function g(v){return u.indexOf(v)+1<u.length?f(v,u[u.indexOf(v)+1]):h(v)}function _(v){const T=u.indexOf(v);return T===0?h(u[1]):T===u.length-1?d(u[T]):f(v,u[u.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:h,down:d,between:f,only:g,not:_,unit:t,...i}}function Gq(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var u,h;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((h=i.match(o))==null?void 0:h[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function Kq(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function Wq(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function Qq(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...h)=>e(n.breakpoints.up(...h),u),o.down=(...h)=>e(n.breakpoints.down(...h),u),o.between=(...h)=>e(n.breakpoints.between(...h),u),o.only=(...h)=>e(n.breakpoints.only(...h),u),o.not=(...h)=>{const d=e(n.breakpoints.not(...h),u);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const Yq={borderRadius:4};function Ld(n,e){return e?Cr(n,e,{clone:!1}):n}const Py={xs:0,sm:600,md:900,lg:1200,xl:1536},Q1={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Py[n]}px)`},Xq={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Py[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function js(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||Q1;return e.reduce((u,h,d)=>(u[o.up(o.keys[d])]=t(e[d]),u),{})}if(typeof e=="object"){const o=r.breakpoints||Q1;return Object.keys(e).reduce((u,h)=>{if(Kq(o.keys,h)){const d=Wq(r.containerQueries?r:Xq,h);d&&(u[d]=t(e[h],h))}else if(Object.keys(o.values||Py).includes(h)){const d=o.up(h);u[d]=t(e[h],h)}else{const d=h;u[d]=e[d]}return u},{})}return t(e)}function Jq(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function Zq(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function ro(n){if(typeof n!="string")throw new Error(wl(7));return n.charAt(0).toUpperCase()+n.slice(1)}function Oy(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function Og(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Oy(n,t)||r,e&&(i=e(i,r,n)),i}function Xt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=u=>{if(u[e]==null)return null;const h=u[e],d=u.theme,f=Oy(d,r)||{};return js(u,h,_=>{let v=Og(f,i,_);return _===v&&typeof _=="string"&&(v=Og(f,i,`${e}${_==="default"?"":ro(_)}`,_)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function eH(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const tH={m:"margin",p:"padding"},nH={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Y1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},rH=eH(n=>{if(n.length>2)if(Y1[n])n=Y1[n];else return[n];const[e,t]=n.split(""),r=tH[e],i=nH[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),Dw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Nw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Dw,...Nw];function jf(n,e,t,r){const i=Oy(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),h=i[u];return o>=0?h:typeof h=="number"?-h:`-${h}`}:typeof i=="function"?i:()=>{}}function kw(n){return jf(n,"spacing",8)}function Ff(n,e){return typeof e=="string"||e==null?e:n(e)}function iH(n,e){return t=>n.reduce((r,i)=>(r[i]=Ff(e,t),r),{})}function sH(n,e,t,r){if(!e.includes(t))return null;const i=rH(t),o=iH(i,r),u=n[t];return js(n,u,o)}function NN(n,e){const t=kw(n.theme);return Object.keys(n).map(r=>sH(n,e,r,t)).reduce(Ld,{})}function Bt(n){return NN(n,Dw)}Bt.propTypes={};Bt.filterProps=Dw;function zt(n){return NN(n,Nw)}zt.propTypes={};zt.filterProps=Nw;function kN(n=8,e=kw({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function Dy(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?Ld(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Wr(n){return typeof n!="number"?n:`${n}px solid`}function Zr(n,e){return Xt({prop:n,themeKey:"borders",transform:e})}const aH=Zr("border",Wr),oH=Zr("borderTop",Wr),lH=Zr("borderRight",Wr),uH=Zr("borderBottom",Wr),cH=Zr("borderLeft",Wr),hH=Zr("borderColor"),dH=Zr("borderTopColor"),fH=Zr("borderRightColor"),pH=Zr("borderBottomColor"),mH=Zr("borderLeftColor"),gH=Zr("outline",Wr),yH=Zr("outlineColor"),Ny=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=jf(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Ff(e,r)});return js(n,n.borderRadius,t)}return null};Ny.propTypes={};Ny.filterProps=["borderRadius"];Dy(aH,oH,lH,uH,cH,hH,dH,fH,pH,mH,Ny,gH,yH);const ky=n=>{if(n.gap!==void 0&&n.gap!==null){const e=jf(n.theme,"spacing",8),t=r=>({gap:Ff(e,r)});return js(n,n.gap,t)}return null};ky.propTypes={};ky.filterProps=["gap"];const Vy=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=jf(n.theme,"spacing",8),t=r=>({columnGap:Ff(e,r)});return js(n,n.columnGap,t)}return null};Vy.propTypes={};Vy.filterProps=["columnGap"];const My=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=jf(n.theme,"spacing",8),t=r=>({rowGap:Ff(e,r)});return js(n,n.rowGap,t)}return null};My.propTypes={};My.filterProps=["rowGap"];const _H=Xt({prop:"gridColumn"}),vH=Xt({prop:"gridRow"}),EH=Xt({prop:"gridAutoFlow"}),bH=Xt({prop:"gridAutoColumns"}),wH=Xt({prop:"gridAutoRows"}),TH=Xt({prop:"gridTemplateColumns"}),SH=Xt({prop:"gridTemplateRows"}),AH=Xt({prop:"gridTemplateAreas"}),RH=Xt({prop:"gridArea"});Dy(ky,Vy,My,_H,vH,EH,bH,wH,TH,SH,AH,RH);function $u(n,e){return e==="grey"?e:n}const IH=Xt({prop:"color",themeKey:"palette",transform:$u}),CH=Xt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:$u}),xH=Xt({prop:"backgroundColor",themeKey:"palette",transform:$u});Dy(IH,CH,xH);function Ar(n){return n<=1&&n!==0?`${n*100}%`:n}const PH=Xt({prop:"width",transform:Ar}),Vw=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,u,h,d;const r=((u=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:u[t])||Py[t];return r?((d=(h=n.theme)==null?void 0:h.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ar(t)}};return js(n,n.maxWidth,e)}return null};Vw.filterProps=["maxWidth"];const OH=Xt({prop:"minWidth",transform:Ar}),DH=Xt({prop:"height",transform:Ar}),NH=Xt({prop:"maxHeight",transform:Ar}),kH=Xt({prop:"minHeight",transform:Ar});Xt({prop:"size",cssProperty:"width",transform:Ar});Xt({prop:"size",cssProperty:"height",transform:Ar});const VH=Xt({prop:"boxSizing"});Dy(PH,Vw,OH,DH,NH,kH,VH);const Ly={border:{themeKey:"borders",transform:Wr},borderTop:{themeKey:"borders",transform:Wr},borderRight:{themeKey:"borders",transform:Wr},borderBottom:{themeKey:"borders",transform:Wr},borderLeft:{themeKey:"borders",transform:Wr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Wr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ny},color:{themeKey:"palette",transform:$u},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:$u},backgroundColor:{themeKey:"palette",transform:$u},p:{style:zt},pt:{style:zt},pr:{style:zt},pb:{style:zt},pl:{style:zt},px:{style:zt},py:{style:zt},padding:{style:zt},paddingTop:{style:zt},paddingRight:{style:zt},paddingBottom:{style:zt},paddingLeft:{style:zt},paddingX:{style:zt},paddingY:{style:zt},paddingInline:{style:zt},paddingInlineStart:{style:zt},paddingInlineEnd:{style:zt},paddingBlock:{style:zt},paddingBlockStart:{style:zt},paddingBlockEnd:{style:zt},m:{style:Bt},mt:{style:Bt},mr:{style:Bt},mb:{style:Bt},ml:{style:Bt},mx:{style:Bt},my:{style:Bt},margin:{style:Bt},marginTop:{style:Bt},marginRight:{style:Bt},marginBottom:{style:Bt},marginLeft:{style:Bt},marginX:{style:Bt},marginY:{style:Bt},marginInline:{style:Bt},marginInlineStart:{style:Bt},marginInlineEnd:{style:Bt},marginBlock:{style:Bt},marginBlockStart:{style:Bt},marginBlockEnd:{style:Bt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ky},rowGap:{style:My},columnGap:{style:Vy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ar},maxWidth:{style:Vw},minWidth:{transform:Ar},height:{transform:Ar},maxHeight:{transform:Ar},minHeight:{transform:Ar},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function MH(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function LH(n,e){return typeof n=="function"?n(e):n}function UH(){function n(t,r,i,o){const u={[t]:r,theme:i},h=o[t];if(!h)return{[t]:r};const{cssProperty:d=t,themeKey:f,transform:g,style:_}=h;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const v=Oy(i,f)||{};return _?_(u):js(u,r,w=>{let R=Og(v,g,w);return w===R&&typeof w=="string"&&(R=Og(v,g,`${t}${w==="default"?"":ro(w)}`,w)),d===!1?R:{[d]:R}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??Ly;function u(h){let d=h;if(typeof h=="function")d=h(i);else if(typeof h!="object")return h;if(!d)return null;const f=Jq(i.breakpoints),g=Object.keys(f);let _=f;return Object.keys(d).forEach(v=>{const T=LH(d[v],i);if(T!=null)if(typeof T=="object")if(o[v])_=Ld(_,n(v,T,i,o));else{const w=js({theme:i},T,R=>({[v]:R}));MH(w,T)?_[v]=e({sx:T,theme:i}):_=Ld(_,w)}else _=Ld(_,n(v,T,i,o))}),Gq(i,Zq(g,_))}return Array.isArray(r)?r.map(u):u(r)}return e}const _c=UH();_c.filterProps=["sx"];function jH(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function VN(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...u}=n,h=$q(t),d=kN(i);let f=Cr({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...Yq,...o}},u);return f=Qq(f),f.applyStyles=jH,f=e.reduce((g,_)=>Cr(g,_),f),f.unstable_sxConfig={...Ly,...u==null?void 0:u.unstable_sxConfig},f.unstable_sx=function(_){return _c({sx:_,theme:this})},f}const X1=n=>n,FH=()=>{let n=X1;return{configure(e){n=e},generate(e){return n(e)},reset(){n=X1}}},BH=FH();function MN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=MN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Ud(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=MN(n))&&(r&&(r+=" "),r+=e);return r}const zH={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Mw(n,e,t="Mui"){const r=zH[e];return r?`${t}-${r}`:`${BH.generate(n)}-${e}`}function LN(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Mw(n,i,t)}),r}function UN(n){const{variants:e,...t}=n,r={variants:e,style:G1(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=G1(i.style))}),r}const qH=VN();function A0(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function HH(n){return n?(e,t)=>t[n]:null}function $H(n,e,t){n.theme=WH(n.theme)?t:n.theme[e]||n.theme}function Km(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>Km(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return jN(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function jN(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!u.props(r))continue}else for(const h in u.props)if(n[h]!==u.props[h]&&((i=n.ownerState)==null?void 0:i[h])!==u.props[h])continue e;typeof u.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(u.style(r))):t.push(u.style)}return t}function GH(n={}){const{themeId:e,defaultTheme:t=qH,rootShouldForwardProp:r=A0,slotShouldForwardProp:i=A0}=n;function o(h){$H(h,e,t)}return(h,d={})=>{Bq(h,z=>z.filter(H=>H!==_c));const{name:f,slot:g,skipVariantsResolver:_,skipSx:v,overridesResolver:T=HH(YH(g)),...w}=d,R=_!==void 0?_:g&&g!=="Root"&&g!=="root"||!1,x=v||!1;let U=A0;g==="Root"||g==="root"?U=r:g?U=i:QH(h)&&(U=void 0);const L=Fq(h,{shouldForwardProp:U,label:KH(),...w}),j=z=>{if(typeof z=="function"&&z.__emotion_real!==z)return function(M){return Km(M,z)};if(Is(z)){const H=UN(z);return H.variants?function(C){return Km(C,H)}:H.style}return z},$=(...z)=>{const H=[],M=z.map(j),C=[];if(H.push(o),f&&T&&C.push(function(O){var ee,ie;const te=(ie=(ee=O.theme.components)==null?void 0:ee[f])==null?void 0:ie.styleOverrides;if(!te)return null;const F={};for(const ue in te)F[ue]=Km(O,te[ue]);return T(O,F)}),f&&!R&&C.push(function(O){var F,ee;const D=O.theme,te=(ee=(F=D==null?void 0:D.components)==null?void 0:F[f])==null?void 0:ee.variants;return te?jN(O,te):null}),x||C.push(_c),Array.isArray(M[0])){const P=M.shift(),O=new Array(H.length).fill(""),D=new Array(C.length).fill("");let te;te=[...O,...P,...D],te.raw=[...O,...P.raw,...D],H.unshift(te)}const I=[...H,...M,...C],b=L(...I);return h.muiName&&(b.muiName=h.muiName),b};return L.withConfig&&($.withConfig=L.withConfig),$}}function KH(n,e){return void 0}function WH(n){for(const e in n)return!1;return!0}function QH(n){return typeof n=="string"&&n.charCodeAt(0)>96}function YH(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function RE(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],u=e[i];if(!u)t[i]=o||{};else if(!o)t[i]=u;else{t[i]={...u};for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)){const d=h;t[i][d]=RE(o[d],u[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}function FN(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function Lw(n,e=0,t=1){return FN(n,e,t)}function XH(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function io(n){if(n.type)return n;if(n.charAt(0)==="#")return io(XH(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(wl(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(wl(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const JH=n=>{const e=io(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Td=(n,e)=>{try{return JH(n)}catch{return n}};function Uy(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function BN(n){n=io(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),u=(f,g=(f+t/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let h="rgb";const d=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(h+="a",d.push(e[3])),Uy({type:h,values:d})}function IE(n){n=io(n);let e=n.type==="hsl"||n.type==="hsla"?io(BN(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function ZH(n,e){const t=IE(n),r=IE(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function e8(n,e){return n=io(n),e=Lw(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Uy(n)}function Tm(n,e,t){try{return e8(n,e)}catch{return n}}function Uw(n,e){if(n=io(n),e=Lw(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Uy(n)}function ft(n,e,t){try{return Uw(n,e)}catch{return n}}function jw(n,e){if(n=io(n),e=Lw(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Uy(n)}function pt(n,e,t){try{return jw(n,e)}catch{return n}}function t8(n,e=.15){return IE(n)>.5?Uw(n,e):jw(n,e)}function Sm(n,e,t){try{return t8(n,e)}catch{return n}}function n8(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let J1=0;function r8(n){const[e,t]=W.useState(n),r=n||e;return W.useEffect(()=>{e==null&&(J1+=1,t(`mui-${J1}`))},[e]),r}const i8={...D0},Z1=i8.useId;function zN(n){if(Z1!==void 0){const e=Z1();return n??e}return r8(n)}function s8({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=W.useRef(n!==void 0),[o,u]=W.useState(e),h=i?n:o,d=W.useCallback(f=>{i||u(f)},[]);return[h,d]}function a8(...n){return W.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{n8(t,e)})},n)}function eC(n){try{return n.matches(":focus-visible")}catch{}return!1}const o8={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function qN(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let u="",h=!0;for(let d=0;d<o.length;d+=1){const f=o[d];f&&(u+=(h===!0?"":" ")+e(f),h=!1,t&&t[f]&&(u+=" "+t[f]))}r[i]=u}return r}const l8=W.createContext(),u8=()=>W.useContext(l8)??!1,c8=W.createContext(void 0);function h8(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?RE(i.defaultProps,r):!i.styleOverrides&&!i.variants?RE(i,r):r}function d8({props:n,name:e}){const t=W.useContext(c8);return h8({props:n,name:e,theme:{components:t}})}const tC={theme:void 0};function f8(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(tC.theme=i.theme,o=UN(n(tC)),e=o,t=i.theme),o}}function p8(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const nC=(n,e,t,r=[])=>{let i=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},m8=(n,e,t)=>{function r(i,o=[],u=[]){Object.entries(i).forEach(([h,d])=>{(!t||t&&!t([...o,h]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,h],Array.isArray(d)?[...u,h]:u):e([...o,h],d,u))})}r(n)},g8=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function R0(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},u={};return m8(n,(h,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(h,d))){const g=`--${t?`${t}-`:""}${h.join("-")}`,_=g8(h,d);Object.assign(i,{[g]:_}),nC(o,h,`var(${g})`,f),nC(u,h,`var(${g}, ${_})`,f)}},h=>h[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function y8(n,e={}){const{getSelector:t=x,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:u,defaultColorScheme:h="light",...d}=n,{vars:f,css:g,varsWithDefaults:_}=R0(d,e);let v=_;const T={},{[h]:w,...R}=o;if(Object.entries(R||{}).forEach(([j,$])=>{const{vars:z,css:H,varsWithDefaults:M}=R0($,e);v=Cr(v,M),T[j]={css:H,vars:z}}),w){const{css:j,vars:$,varsWithDefaults:z}=R0(w,e);v=Cr(v,z),T[h]={css:j,vars:$}}function x(j,$){var H,M;let z=i;if(i==="class"&&(z=".%s"),i==="data"&&(z="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(z=`[${i}="%s"]`),j){if(z==="media")return n.defaultColorScheme===j?":root":{[`@media (prefers-color-scheme: ${((M=(H=o[j])==null?void 0:H.palette)==null?void 0:M.mode)||j})`]:{":root":$}};if(z)return n.defaultColorScheme===j?`:root, ${z.replace("%s",String(j))}`:z.replace("%s",String(j))}return":root"}return{vars:v,generateThemeVars:()=>{let j={...f};return Object.entries(T).forEach(([,{vars:$}])=>{j=Cr(j,$)}),j},generateStyleSheets:()=>{var C,I;const j=[],$=n.defaultColorScheme||"light";function z(b,P){Object.keys(P).length&&j.push(typeof b=="string"?{[b]:{...P}}:b)}z(t(void 0,{...g}),g);const{[$]:H,...M}=T;if(H){const{css:b}=H,P=(I=(C=o[$])==null?void 0:C.palette)==null?void 0:I.mode,O=!r&&P?{colorScheme:P,...b}:{...b};z(t($,{...O}),O)}return Object.entries(M).forEach(([b,{css:P}])=>{var te,F;const O=(F=(te=o[b])==null?void 0:te.palette)==null?void 0:F.mode,D=!r&&O?{colorScheme:O,...P}:{...P};z(t(b,{...D}),D)}),j}}}function _8(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function HN(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:uf.white,default:uf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const v8=HN();function $N(){return{text:{primary:uf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:uf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const rC=$N();function iC(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=jw(n.main,i):e==="dark"&&(n.dark=Uw(n.main,o)))}function E8(n="light"){return n==="dark"?{main:Iu[200],light:Iu[50],dark:Iu[400]}:{main:Iu[700],light:Iu[400],dark:Iu[800]}}function b8(n="light"){return n==="dark"?{main:Ru[200],light:Ru[50],dark:Ru[400]}:{main:Ru[500],light:Ru[300],dark:Ru[700]}}function w8(n="light"){return n==="dark"?{main:Au[500],light:Au[300],dark:Au[700]}:{main:Au[700],light:Au[400],dark:Au[800]}}function T8(n="light"){return n==="dark"?{main:Cu[400],light:Cu[300],dark:Cu[700]}:{main:Cu[700],light:Cu[500],dark:Cu[900]}}function S8(n="light"){return n==="dark"?{main:xu[400],light:xu[300],dark:xu[700]}:{main:xu[800],light:xu[500],dark:xu[900]}}function A8(n="light"){return n==="dark"?{main:hd[400],light:hd[300],dark:hd[700]}:{main:"#ed6c02",light:hd[500],dark:hd[900]}}function Fw(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||E8(e),u=n.secondary||b8(e),h=n.error||w8(e),d=n.info||T8(e),f=n.success||S8(e),g=n.warning||A8(e);function _(R){return ZH(R,rC.text.primary)>=t?rC.text.primary:v8.text.primary}const v=({color:R,name:x,mainShade:U=500,lightShade:L=300,darkShade:j=700})=>{if(R={...R},!R.main&&R[U]&&(R.main=R[U]),!R.hasOwnProperty("main"))throw new Error(wl(11,x?` (${x})`:"",U));if(typeof R.main!="string")throw new Error(wl(12,x?` (${x})`:"",JSON.stringify(R.main)));return iC(R,"light",L,r),iC(R,"dark",j,r),R.contrastText||(R.contrastText=_(R.main)),R};let T;return e==="light"?T=HN():e==="dark"&&(T=$N()),Cr({common:{...uf},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:h,name:"error"}),warning:v({color:g,name:"warning"}),info:v({color:d,name:"info"}),success:v({color:f,name:"success"}),grey:z9,contrastThreshold:t,getContrastText:_,augmentColor:v,tonalOffset:r,...T},i)}function R8(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function I8(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function C8(n){return Math.round(n*1e5)/1e5}const sC={textTransform:"uppercase"},aC='"Roboto", "Helvetica", "Arial", sans-serif';function x8(n,e){const{fontFamily:t=aC,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:d=16,allVariants:f,pxToRem:g,..._}=typeof e=="function"?e(n):e,v=r/14,T=g||(x=>`${x/d*v}rem`),w=(x,U,L,j,$)=>({fontFamily:t,fontWeight:x,fontSize:T(U),lineHeight:L,...t===aC?{letterSpacing:`${C8(j/U)}em`}:{},...$,...f}),R={h1:w(i,96,1.167,-1.5),h2:w(i,60,1.2,-.5),h3:w(o,48,1.167,0),h4:w(o,34,1.235,.25),h5:w(o,24,1.334,0),h6:w(u,20,1.6,.15),subtitle1:w(o,16,1.75,.15),subtitle2:w(u,14,1.57,.1),body1:w(o,16,1.5,.15),body2:w(o,14,1.43,.15),button:w(u,14,1.75,.4,sC),caption:w(o,12,1.66,.4),overline:w(o,12,2.66,1,sC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Cr({htmlFontSize:d,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:h,...R},_,{clone:!1})}const P8=.2,O8=.14,D8=.12;function bt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${P8})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${O8})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${D8})`].join(",")}const N8=["none",bt(0,2,1,-1,0,1,1,0,0,1,3,0),bt(0,3,1,-2,0,2,2,0,0,1,5,0),bt(0,3,3,-2,0,3,4,0,0,1,8,0),bt(0,2,4,-1,0,4,5,0,0,1,10,0),bt(0,3,5,-1,0,5,8,0,0,1,14,0),bt(0,3,5,-1,0,6,10,0,0,1,18,0),bt(0,4,5,-2,0,7,10,1,0,2,16,1),bt(0,5,5,-3,0,8,10,1,0,3,14,2),bt(0,5,6,-3,0,9,12,1,0,3,16,2),bt(0,6,6,-3,0,10,14,1,0,4,18,3),bt(0,6,7,-4,0,11,15,1,0,4,20,3),bt(0,7,8,-4,0,12,17,2,0,5,22,4),bt(0,7,8,-4,0,13,19,2,0,5,24,4),bt(0,7,9,-4,0,14,21,2,0,5,26,4),bt(0,8,9,-5,0,15,22,2,0,6,28,5),bt(0,8,10,-5,0,16,24,2,0,6,30,5),bt(0,8,11,-5,0,17,26,2,0,6,32,5),bt(0,9,11,-5,0,18,28,2,0,7,34,6),bt(0,9,12,-6,0,19,29,2,0,7,36,6),bt(0,10,13,-6,0,20,31,3,0,8,38,7),bt(0,10,13,-6,0,21,33,3,0,8,40,7),bt(0,10,14,-6,0,22,35,3,0,8,42,7),bt(0,11,14,-7,0,23,36,3,0,9,44,8),bt(0,11,15,-7,0,24,38,3,0,9,46,8)],k8={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},V8={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function oC(n){return`${Math.round(n)}ms`}function M8(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function L8(n){const e={...k8,...n.easing},t={...V8,...n.duration};return{getAutoHeightDuration:M8,create:(i=["all"],o={})=>{const{duration:u=t.standard,easing:h=e.easeInOut,delay:d=0,...f}=o;return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof u=="string"?u:oC(u)} ${h} ${typeof d=="string"?d:oC(d)}`).join(",")},...n,easing:e,duration:t}}const U8={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function j8(n){return Is(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function GN(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[u,h]=i[o];!j8(h)||u.startsWith("unstable_")?delete r[u]:Is(h)&&(r[u]={...h},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function CE(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:u={},typography:h={},shape:d,...f}=n;if(n.vars)throw new Error(wl(20));const g=Fw(o),_=VN(n);let v=Cr(_,{mixins:I8(_.breakpoints,r),palette:g,shadows:N8.slice(),typography:x8(g,h),transitions:L8(u),zIndex:{...U8}});return v=Cr(v,f),v=e.reduce((T,w)=>Cr(T,w),v),v.unstable_sxConfig={...Ly,...f==null?void 0:f.unstable_sxConfig},v.unstable_sx=function(w){return _c({sx:w,theme:this})},v.toRuntimeSource=GN,v}function F8(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const B8=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=F8(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function KN(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function WN(n){return n==="dark"?B8:[]}function z8(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=Fw(e);return{palette:o,opacity:{...KN(o.mode),...t},overlays:r||WN(o.mode),...i}}function q8(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const H8=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],$8=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return H8(n.cssVarPrefix).forEach(h=>{u[h]=t[h],delete t[h]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function G8(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function oe(n,e,t){!n[e]&&t&&(n[e]=t)}function Sd(n){return typeof n!="string"||!n.startsWith("hsl")?n:BN(n)}function Ss(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Td(Sd(n[e])))}function K8(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const xi=n=>{try{return n()}catch{}},W8=(n="mui")=>p8(n);function I0(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=z8({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...u}=CE({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...KN(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||WN(i)},u}function Q8(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=q8,colorSchemeSelector:h=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...f}=n,g=Object.keys(t)[0],_=r||(t.light&&g!=="light"?"light":g),v=W8(o),{[_]:T,light:w,dark:R,...x}=t,U={...x};let L=T;if((_==="dark"&&!("dark"in t)||_==="light"&&!("light"in t))&&(L=!0),!L)throw new Error(wl(21,_));const j=I0(U,L,f,_);w&&!U.light&&I0(U,w,void 0,"light"),R&&!U.dark&&I0(U,R,void 0,"dark");let $={defaultColorScheme:_,...j,cssVarPrefix:o,colorSchemeSelector:h,rootSelector:d,getCssVar:v,colorSchemes:U,font:{...R8(j.typography),...j.font},spacing:K8(f.spacing)};Object.keys($.colorSchemes).forEach(I=>{const b=$.colorSchemes[I].palette,P=O=>{const D=O.split("-"),te=D[1],F=D[2];return v(O,b[te][F])};if(b.mode==="light"&&(oe(b.common,"background","#fff"),oe(b.common,"onBackground","#000")),b.mode==="dark"&&(oe(b.common,"background","#000"),oe(b.common,"onBackground","#fff")),G8(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){oe(b.Alert,"errorColor",ft(b.error.light,.6)),oe(b.Alert,"infoColor",ft(b.info.light,.6)),oe(b.Alert,"successColor",ft(b.success.light,.6)),oe(b.Alert,"warningColor",ft(b.warning.light,.6)),oe(b.Alert,"errorFilledBg",P("palette-error-main")),oe(b.Alert,"infoFilledBg",P("palette-info-main")),oe(b.Alert,"successFilledBg",P("palette-success-main")),oe(b.Alert,"warningFilledBg",P("palette-warning-main")),oe(b.Alert,"errorFilledColor",xi(()=>b.getContrastText(b.error.main))),oe(b.Alert,"infoFilledColor",xi(()=>b.getContrastText(b.info.main))),oe(b.Alert,"successFilledColor",xi(()=>b.getContrastText(b.success.main))),oe(b.Alert,"warningFilledColor",xi(()=>b.getContrastText(b.warning.main))),oe(b.Alert,"errorStandardBg",pt(b.error.light,.9)),oe(b.Alert,"infoStandardBg",pt(b.info.light,.9)),oe(b.Alert,"successStandardBg",pt(b.success.light,.9)),oe(b.Alert,"warningStandardBg",pt(b.warning.light,.9)),oe(b.Alert,"errorIconColor",P("palette-error-main")),oe(b.Alert,"infoIconColor",P("palette-info-main")),oe(b.Alert,"successIconColor",P("palette-success-main")),oe(b.Alert,"warningIconColor",P("palette-warning-main")),oe(b.AppBar,"defaultBg",P("palette-grey-100")),oe(b.Avatar,"defaultBg",P("palette-grey-400")),oe(b.Button,"inheritContainedBg",P("palette-grey-300")),oe(b.Button,"inheritContainedHoverBg",P("palette-grey-A100")),oe(b.Chip,"defaultBorder",P("palette-grey-400")),oe(b.Chip,"defaultAvatarColor",P("palette-grey-700")),oe(b.Chip,"defaultIconColor",P("palette-grey-700")),oe(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),oe(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),oe(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),oe(b.LinearProgress,"primaryBg",pt(b.primary.main,.62)),oe(b.LinearProgress,"secondaryBg",pt(b.secondary.main,.62)),oe(b.LinearProgress,"errorBg",pt(b.error.main,.62)),oe(b.LinearProgress,"infoBg",pt(b.info.main,.62)),oe(b.LinearProgress,"successBg",pt(b.success.main,.62)),oe(b.LinearProgress,"warningBg",pt(b.warning.main,.62)),oe(b.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.11)`),oe(b.Slider,"primaryTrack",pt(b.primary.main,.62)),oe(b.Slider,"secondaryTrack",pt(b.secondary.main,.62)),oe(b.Slider,"errorTrack",pt(b.error.main,.62)),oe(b.Slider,"infoTrack",pt(b.info.main,.62)),oe(b.Slider,"successTrack",pt(b.success.main,.62)),oe(b.Slider,"warningTrack",pt(b.warning.main,.62));const O=Sm(b.background.default,.8);oe(b.SnackbarContent,"bg",O),oe(b.SnackbarContent,"color",xi(()=>b.getContrastText(O))),oe(b.SpeedDialAction,"fabHoverBg",Sm(b.background.paper,.15)),oe(b.StepConnector,"border",P("palette-grey-400")),oe(b.StepContent,"border",P("palette-grey-400")),oe(b.Switch,"defaultColor",P("palette-common-white")),oe(b.Switch,"defaultDisabledColor",P("palette-grey-100")),oe(b.Switch,"primaryDisabledColor",pt(b.primary.main,.62)),oe(b.Switch,"secondaryDisabledColor",pt(b.secondary.main,.62)),oe(b.Switch,"errorDisabledColor",pt(b.error.main,.62)),oe(b.Switch,"infoDisabledColor",pt(b.info.main,.62)),oe(b.Switch,"successDisabledColor",pt(b.success.main,.62)),oe(b.Switch,"warningDisabledColor",pt(b.warning.main,.62)),oe(b.TableCell,"border",pt(Tm(b.divider,1),.88)),oe(b.Tooltip,"bg",Tm(b.grey[700],.92))}if(b.mode==="dark"){oe(b.Alert,"errorColor",pt(b.error.light,.6)),oe(b.Alert,"infoColor",pt(b.info.light,.6)),oe(b.Alert,"successColor",pt(b.success.light,.6)),oe(b.Alert,"warningColor",pt(b.warning.light,.6)),oe(b.Alert,"errorFilledBg",P("palette-error-dark")),oe(b.Alert,"infoFilledBg",P("palette-info-dark")),oe(b.Alert,"successFilledBg",P("palette-success-dark")),oe(b.Alert,"warningFilledBg",P("palette-warning-dark")),oe(b.Alert,"errorFilledColor",xi(()=>b.getContrastText(b.error.dark))),oe(b.Alert,"infoFilledColor",xi(()=>b.getContrastText(b.info.dark))),oe(b.Alert,"successFilledColor",xi(()=>b.getContrastText(b.success.dark))),oe(b.Alert,"warningFilledColor",xi(()=>b.getContrastText(b.warning.dark))),oe(b.Alert,"errorStandardBg",ft(b.error.light,.9)),oe(b.Alert,"infoStandardBg",ft(b.info.light,.9)),oe(b.Alert,"successStandardBg",ft(b.success.light,.9)),oe(b.Alert,"warningStandardBg",ft(b.warning.light,.9)),oe(b.Alert,"errorIconColor",P("palette-error-main")),oe(b.Alert,"infoIconColor",P("palette-info-main")),oe(b.Alert,"successIconColor",P("palette-success-main")),oe(b.Alert,"warningIconColor",P("palette-warning-main")),oe(b.AppBar,"defaultBg",P("palette-grey-900")),oe(b.AppBar,"darkBg",P("palette-background-paper")),oe(b.AppBar,"darkColor",P("palette-text-primary")),oe(b.Avatar,"defaultBg",P("palette-grey-600")),oe(b.Button,"inheritContainedBg",P("palette-grey-800")),oe(b.Button,"inheritContainedHoverBg",P("palette-grey-700")),oe(b.Chip,"defaultBorder",P("palette-grey-700")),oe(b.Chip,"defaultAvatarColor",P("palette-grey-300")),oe(b.Chip,"defaultIconColor",P("palette-grey-300")),oe(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),oe(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),oe(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),oe(b.LinearProgress,"primaryBg",ft(b.primary.main,.5)),oe(b.LinearProgress,"secondaryBg",ft(b.secondary.main,.5)),oe(b.LinearProgress,"errorBg",ft(b.error.main,.5)),oe(b.LinearProgress,"infoBg",ft(b.info.main,.5)),oe(b.LinearProgress,"successBg",ft(b.success.main,.5)),oe(b.LinearProgress,"warningBg",ft(b.warning.main,.5)),oe(b.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.13)`),oe(b.Slider,"primaryTrack",ft(b.primary.main,.5)),oe(b.Slider,"secondaryTrack",ft(b.secondary.main,.5)),oe(b.Slider,"errorTrack",ft(b.error.main,.5)),oe(b.Slider,"infoTrack",ft(b.info.main,.5)),oe(b.Slider,"successTrack",ft(b.success.main,.5)),oe(b.Slider,"warningTrack",ft(b.warning.main,.5));const O=Sm(b.background.default,.98);oe(b.SnackbarContent,"bg",O),oe(b.SnackbarContent,"color",xi(()=>b.getContrastText(O))),oe(b.SpeedDialAction,"fabHoverBg",Sm(b.background.paper,.15)),oe(b.StepConnector,"border",P("palette-grey-600")),oe(b.StepContent,"border",P("palette-grey-600")),oe(b.Switch,"defaultColor",P("palette-grey-300")),oe(b.Switch,"defaultDisabledColor",P("palette-grey-600")),oe(b.Switch,"primaryDisabledColor",ft(b.primary.main,.55)),oe(b.Switch,"secondaryDisabledColor",ft(b.secondary.main,.55)),oe(b.Switch,"errorDisabledColor",ft(b.error.main,.55)),oe(b.Switch,"infoDisabledColor",ft(b.info.main,.55)),oe(b.Switch,"successDisabledColor",ft(b.success.main,.55)),oe(b.Switch,"warningDisabledColor",ft(b.warning.main,.55)),oe(b.TableCell,"border",ft(Tm(b.divider,1),.68)),oe(b.Tooltip,"bg",Tm(b.grey[700],.92))}Ss(b.background,"default"),Ss(b.background,"paper"),Ss(b.common,"background"),Ss(b.common,"onBackground"),Ss(b,"divider"),Object.keys(b).forEach(O=>{const D=b[O];O!=="tonalOffset"&&D&&typeof D=="object"&&(D.main&&oe(b[O],"mainChannel",Td(Sd(D.main))),D.light&&oe(b[O],"lightChannel",Td(Sd(D.light))),D.dark&&oe(b[O],"darkChannel",Td(Sd(D.dark))),D.contrastText&&oe(b[O],"contrastTextChannel",Td(Sd(D.contrastText))),O==="text"&&(Ss(b[O],"primary"),Ss(b[O],"secondary")),O==="action"&&(D.active&&Ss(b[O],"active"),D.selected&&Ss(b[O],"selected")))})}),$=e.reduce((I,b)=>Cr(I,b),$);const z={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:$8($)},{vars:H,generateThemeVars:M,generateStyleSheets:C}=y8($,z);return $.vars=H,Object.entries($.colorSchemes[$.defaultColorScheme]).forEach(([I,b])=>{$[I]=b}),$.generateThemeVars=M,$.generateStyleSheets=C,$.generateSpacing=function(){return kN(f.spacing,kw(this))},$.getColorSchemeSelector=_8(h),$.spacing=$.generateSpacing(),$.shouldSkipGeneratingVar=u,$.unstable_sxConfig={...Ly,...f==null?void 0:f.unstable_sxConfig},$.unstable_sx=function(b){return _c({sx:b,theme:this})},$.toRuntimeSource=GN,$}function lC(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:Fw({...t===!0?{}:t.palette,mode:e})})}function Y8(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...u}=n,h=o||"light",d=i==null?void 0:i[h],f={...i,...t?{[h]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return CE(n,...e);let g=t;"palette"in n||f[h]&&(f[h]!==!0?g=f[h].palette:h==="dark"&&(g={mode:"dark"}));const _=CE({...n,palette:g},...e);return _.defaultColorScheme=h,_.colorSchemes=f,_.palette.mode==="light"&&(_.colorSchemes.light={...f.light!==!0&&f.light,palette:_.palette},lC(_,"dark",f.dark)),_.palette.mode==="dark"&&(_.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:_.palette},lC(_,"light",f.light)),_}return!t&&!("light"in f)&&h==="light"&&(f.light=!0),Q8({...u,colorSchemes:f,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const X8=Y8();function QN(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const J8=n=>QN(n)&&n!=="classes",Bf=GH({themeId:q9,defaultTheme:X8,rootShouldForwardProp:J8}),Bw=f8;function YN(n){return d8(n)}function Z8(n){return Mw("MuiSvgIcon",n)}LN("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const e7=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${ro(e)}`,`fontSize${ro(t)}`]};return qN(i,Z8,r)},t7=Bf("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${ro(t.color)}`],e[`fontSize${ro(t.fontSize)}`]]}})(Bw(({theme:n})=>{var e,t,r,i,o,u,h,d,f,g,_,v,T,w;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:R=>!R.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:d.call(h,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((g=(f=n.typography)==null?void 0:f.pxToRem)==null?void 0:g.call(f,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,R])=>R&&R.main).map(([R])=>{var x,U;return{props:{color:R},style:{color:(U=(x=(n.vars??n).palette)==null?void 0:x[R])==null?void 0:U.main}}}),{props:{color:"action"},style:{color:(v=(_=(n.vars??n).palette)==null?void 0:_.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(w=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:w.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),xE=W.forwardRef(function(e,t){const r=YN({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:u="inherit",component:h="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:g=!1,titleAccess:_,viewBox:v="0 0 24 24",...T}=r,w=W.isValidElement(i)&&i.type==="svg",R={...r,color:u,component:h,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:v,hasSvgAsChild:w},x={};g||(x.viewBox=v);const U=e7(R);return N.jsxs(t7,{as:h,className:Ud(U.root,o),focusable:"false",color:f,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:t,...x,...T,...w&&i.props,ownerState:R,children:[w?i.props.children:i,_?N.jsx("title",{children:_}):null]})});xE.muiName="SvgIcon";function XN(n,e){function t(r,i){return N.jsx(xE,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=xE.muiName,W.memo(W.forwardRef(t))}const n7=XN(N.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),r7=XN(N.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function i7(n){return Mw("MuiRating",n)}const fd=LN("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function s7(n){const e=n.toString().split(".")[1];return e?e.length:0}function C0(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(s7(e)))}const a7=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:u}=n,h={root:["root",`size${ro(t)}`,i&&"disabled",u&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return qN(h,i7,e)},o7=Bf("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${fd.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${ro(t.size)}`],t.readOnly&&e.readOnly]}})(Bw(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${fd.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${fd.focusVisible} .${fd.iconActive}`]:{outline:"1px solid #999"},[`& .${fd.visuallyHidden}`]:o8,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),JN=Bf("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),l7=Bf("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(Bw(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),u7=Bf("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>QN(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function c7(n){const{value:e,...t}=n;return N.jsx("span",{...t})}function uC(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:u,hover:h,icon:d,IconContainerComponent:f,isActive:g,itemValue:_,labelProps:v,name:T,onBlur:w,onChange:R,onClick:x,onFocus:U,readOnly:L,ownerState:j,ratingValue:$,ratingValueRounded:z}=n,H=u?_===$:_<=$,M=_<=h,C=_<=i,I=_===z,b=`${T}-${zN()}`,P=N.jsx(l7,{as:f,value:_,className:Ud(e.icon,H?e.iconFilled:e.iconEmpty,M&&e.iconHover,C&&e.iconFocus,g&&e.iconActive),ownerState:{...j,iconEmpty:!H,iconFilled:H,iconHover:M,iconFocus:C,iconActive:g},children:r&&!H?r:d});return L?N.jsx("span",{...v,children:P}):N.jsxs(W.Fragment,{children:[N.jsxs(JN,{ownerState:{...j,emptyValueFocused:void 0},htmlFor:b,...v,children:[P,N.jsx("span",{className:e.visuallyHidden,children:o(_)})]}),N.jsx("input",{className:e.visuallyHidden,onFocus:U,onBlur:w,onChange:R,onClick:x,disabled:t,value:_,id:b,type:"radio",name:T,checked:I})]})}const h7=N.jsx(n7,{fontSize:"inherit"}),d7=N.jsx(r7,{fontSize:"inherit"});function f7(n){return`${n||"0"} Star${n!==1?"s":""}`}const p7=W.forwardRef(function(e,t){const r=YN({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:u=null,disabled:h=!1,emptyIcon:d=d7,emptyLabelText:f="Empty",getLabelText:g=f7,highlightSelectedOnly:_=!1,icon:v=h7,IconContainerComponent:T=c7,max:w=5,name:R,onChange:x,onChangeActive:U,onMouseLeave:L,onMouseMove:j,precision:$=1,readOnly:z=!1,size:H="medium",value:M,...C}=r,I=zN(R),[b,P]=s8({controlled:M,default:u,name:"Rating"}),O=C0(b,$),D=u8(),[{hover:te,focus:F},ee]=W.useState({hover:-1,focus:-1});let ie=O;te!==-1&&(ie=te),F!==-1&&(ie=F);const[ue,Te]=W.useState(!1),q=W.useRef(),ae=a8(q,t),be=Je=>{j&&j(Je);const at=q.current,{right:Jt,left:dr,width:Vn}=at.getBoundingClientRect();let Or;D?Or=(Jt-Je.clientX)/Vn:Or=(Je.clientX-dr)/Vn;let Mn=C0(w*Or+$/2,$);Mn=FN(Mn,$,w),ee(nr=>nr.hover===Mn&&nr.focus===Mn?nr:{hover:Mn,focus:Mn}),Te(!1),U&&te!==Mn&&U(Je,Mn)},ve=Je=>{L&&L(Je);const at=-1;ee({hover:at,focus:at}),U&&te!==at&&U(Je,at)},ye=Je=>{let at=Je.target.value===""?null:parseFloat(Je.target.value);te!==-1&&(at=te),P(at),x&&x(Je,at)},Oe=Je=>{Je.clientX===0&&Je.clientY===0||(ee({hover:-1,focus:-1}),P(null),x&&parseFloat(Je.target.value)===O&&x(Je,null))},De=Je=>{eC(Je.target)&&Te(!0);const at=parseFloat(Je.target.value);ee(Jt=>({hover:Jt.hover,focus:at}))},Ct=Je=>{if(te!==-1)return;eC(Je.target)||Te(!1);const at=-1;ee(Jt=>({hover:Jt.hover,focus:at}))},[ze,_t]=W.useState(!1),$e={...r,component:i,defaultValue:u,disabled:h,emptyIcon:d,emptyLabelText:f,emptyValueFocused:ze,focusVisible:ue,getLabelText:g,icon:v,IconContainerComponent:T,max:w,precision:$,readOnly:z,size:H},Et=a7($e);return N.jsxs(o7,{as:i,ref:ae,onMouseMove:be,onMouseLeave:ve,className:Ud(Et.root,o,z&&"MuiRating-readOnly"),ownerState:$e,role:z?"img":null,"aria-label":z?g(ie):null,...C,children:[Array.from(new Array(w)).map((Je,at)=>{const Jt=at+1,dr={classes:Et,disabled:h,emptyIcon:d,focus:F,getLabelText:g,highlightSelectedOnly:_,hover:te,icon:v,IconContainerComponent:T,name:I,onBlur:Ct,onChange:ye,onClick:Oe,onFocus:De,ratingValue:ie,ratingValueRounded:O,readOnly:z,ownerState:$e},Vn=Jt===Math.ceil(ie)&&(te!==-1||F!==-1);if($<1){const Or=Array.from(new Array(1/$));return N.jsx(u7,{className:Ud(Et.decimal,Vn&&Et.iconActive),ownerState:$e,iconActive:Vn,children:Or.map((Mn,nr)=>{const ei=C0(Jt-1+(nr+1)*$,$);return N.jsx(uC,{...dr,isActive:!1,itemValue:ei,labelProps:{style:Or.length-1===nr?{}:{width:ei===ie?`${(nr+1)*$*100}%`:"0%",overflow:"hidden",position:"absolute"}}},ei)})},Jt)}return N.jsx(uC,{...dr,isActive:Vn,itemValue:Jt},Jt)}),!z&&!h&&N.jsxs(JN,{className:Ud(Et.label,Et.labelEmptyValue),ownerState:$e,children:[N.jsx("input",{className:Et.visuallyHidden,value:"",id:`${I}-empty`,type:"radio",name:I,checked:O==null,onFocus:()=>_t(!0),onBlur:()=>_t(!1),onChange:ye}),N.jsx("span",{className:Et.visuallyHidden,children:f})]})]})});var Wm={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var m7=Wm.exports,cC;function g7(){return cC||(cC=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(m7,function(){var e,t,r="2.0.6",i={},o={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},h={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function d(f,g){this._input=f,this._value=g}return e=function(f){var g,_,v,T;if(e.isNumeral(f))g=f.value();else if(f===0||typeof f>"u")g=0;else if(f===null||t.isNaN(f))g=null;else if(typeof f=="string")if(h.zeroFormat&&f===h.zeroFormat)g=0;else if(h.nullFormat&&f===h.nullFormat||!f.replace(/[^0-9]+/g,"").length)g=null;else{for(_ in i)if(T=typeof i[_].regexps.unformat=="function"?i[_].regexps.unformat():i[_].regexps.unformat,T&&f.match(T)){v=i[_].unformat;break}v=v||e._.stringToNumber,g=v(f)}else g=Number(f)||null;return new d(f,g)},e.version=r,e.isNumeral=function(f){return f instanceof d},e._=t={numberToFormat:function(f,g,_){var v=o[e.options.currentLocale],T=!1,w=!1,R=0,x="",U=1e12,L=1e9,j=1e6,$=1e3,z="",H=!1,M,C,I,b,P,O,D;if(f=f||0,C=Math.abs(f),e._.includes(g,"(")?(T=!0,g=g.replace(/[\(|\)]/g,"")):(e._.includes(g,"+")||e._.includes(g,"-"))&&(P=e._.includes(g,"+")?g.indexOf("+"):f<0?g.indexOf("-"):-1,g=g.replace(/[\+|\-]/g,"")),e._.includes(g,"a")&&(M=g.match(/a(k|m|b|t)?/),M=M?M[1]:!1,e._.includes(g," a")&&(x=" "),g=g.replace(new RegExp(x+"a[kmbt]?"),""),C>=U&&!M||M==="t"?(x+=v.abbreviations.trillion,f=f/U):C<U&&C>=L&&!M||M==="b"?(x+=v.abbreviations.billion,f=f/L):C<L&&C>=j&&!M||M==="m"?(x+=v.abbreviations.million,f=f/j):(C<j&&C>=$&&!M||M==="k")&&(x+=v.abbreviations.thousand,f=f/$)),e._.includes(g,"[.]")&&(w=!0,g=g.replace("[.]",".")),I=f.toString().split(".")[0],b=g.split(".")[1],O=g.indexOf(","),R=(g.split(".")[0].split(",")[0].match(/0/g)||[]).length,b?(e._.includes(b,"[")?(b=b.replace("]",""),b=b.split("["),z=e._.toFixed(f,b[0].length+b[1].length,_,b[1].length)):z=e._.toFixed(f,b.length,_),I=z.split(".")[0],e._.includes(z,".")?z=v.delimiters.decimal+z.split(".")[1]:z="",w&&Number(z.slice(1))===0&&(z="")):I=e._.toFixed(f,0,_),x&&!M&&Number(I)>=1e3&&x!==v.abbreviations.trillion)switch(I=String(Number(I)/1e3),x){case v.abbreviations.thousand:x=v.abbreviations.million;break;case v.abbreviations.million:x=v.abbreviations.billion;break;case v.abbreviations.billion:x=v.abbreviations.trillion;break}if(e._.includes(I,"-")&&(I=I.slice(1),H=!0),I.length<R)for(var te=R-I.length;te>0;te--)I="0"+I;return O>-1&&(I=I.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v.delimiters.thousands)),g.indexOf(".")===0&&(I=""),D=I+z+(x||""),T?D=(T&&H?"(":"")+D+(T&&H?")":""):P>=0?D=P===0?(H?"-":"+")+D:D+(H?"-":"+"):H&&(D="-"+D),D},stringToNumber:function(f){var g=o[h.currentLocale],_=f,v={thousand:3,million:6,billion:9,trillion:12},T,w,R;if(h.zeroFormat&&f===h.zeroFormat)w=0;else if(h.nullFormat&&f===h.nullFormat||!f.replace(/[^0-9]+/g,"").length)w=null;else{w=1,g.delimiters.decimal!=="."&&(f=f.replace(/\./g,"").replace(g.delimiters.decimal,"."));for(T in v)if(R=new RegExp("[^a-zA-Z]"+g.abbreviations[T]+"(?:\\)|(\\"+g.currency.symbol+")?(?:\\))?)?$"),_.match(R)){w*=Math.pow(10,v[T]);break}w*=(f.split("-").length+Math.min(f.split("(").length-1,f.split(")").length-1))%2?1:-1,f=f.replace(/[^0-9\.]+/g,""),w*=Number(f)}return w},isNaN:function(f){return typeof f=="number"&&isNaN(f)},includes:function(f,g){return f.indexOf(g)!==-1},insert:function(f,g,_){return f.slice(0,_)+g+f.slice(_)},reduce:function(f,g){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof g!="function")throw new TypeError(g+" is not a function");var _=Object(f),v=_.length>>>0,T=0,w;if(arguments.length===3)w=arguments[2];else{for(;T<v&&!(T in _);)T++;if(T>=v)throw new TypeError("Reduce of empty array with no initial value");w=_[T++]}for(;T<v;T++)T in _&&(w=g(w,_[T],T,_));return w},multiplier:function(f){var g=f.toString().split(".");return g.length<2?1:Math.pow(10,g[1].length)},correctionFactor:function(){var f=Array.prototype.slice.call(arguments);return f.reduce(function(g,_){var v=t.multiplier(_);return g>v?g:v},1)},toFixed:function(f,g,_,v){var T=f.toString().split("."),w=g-(v||0),R,x,U,L;return T.length===2?R=Math.min(Math.max(T[1].length,w),g):R=w,U=Math.pow(10,R),L=(_(f+"e+"+R)/U).toFixed(R),v>g-R&&(x=new RegExp("\\.?0{1,"+(v-(g-R))+"}$"),L=L.replace(x,"")),L}},e.options=h,e.formats=i,e.locales=o,e.locale=function(f){return f&&(h.currentLocale=f.toLowerCase()),h.currentLocale},e.localeData=function(f){if(!f)return o[h.currentLocale];if(f=f.toLowerCase(),!o[f])throw new Error("Unknown locale : "+f);return o[f]},e.reset=function(){for(var f in u)h[f]=u[f]},e.zeroFormat=function(f){h.zeroFormat=typeof f=="string"?f:null},e.nullFormat=function(f){h.nullFormat=typeof f=="string"?f:null},e.defaultFormat=function(f){h.defaultFormat=typeof f=="string"?f:"0.0"},e.register=function(f,g,_){if(g=g.toLowerCase(),this[f+"s"][g])throw new TypeError(g+" "+f+" already registered.");return this[f+"s"][g]=_,_},e.validate=function(f,g){var _,v,T,w,R,x,U,L;if(typeof f!="string"&&(f+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",f)),f=f.trim(),f.match(/^\d+$/))return!0;if(f==="")return!1;try{U=e.localeData(g)}catch{U=e.localeData(e.locale())}return T=U.currency.symbol,R=U.abbreviations,_=U.delimiters.decimal,U.delimiters.thousands==="."?v="\\.":v=U.delimiters.thousands,L=f.match(/^[^\d]+/),L!==null&&(f=f.substr(1),L[0]!==T)||(L=f.match(/[^\d]+$/),L!==null&&(f=f.slice(0,-1),L[0]!==R.thousand&&L[0]!==R.million&&L[0]!==R.billion&&L[0]!==R.trillion))?!1:(x=new RegExp(v+"{2}"),f.match(/[^\d.,]/g)?!1:(w=f.split(_),w.length>2?!1:w.length<2?!!w[0].match(/^\d+.*\d$/)&&!w[0].match(x):w[0].length===1?!!w[0].match(/^\d+$/)&&!w[0].match(x)&&!!w[1].match(/^\d+$/):!!w[0].match(/^\d+.*\d$/)&&!w[0].match(x)&&!!w[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(f,g){var _=this._value,v=f||h.defaultFormat,T,w,R;if(g=g||Math.round,_===0&&h.zeroFormat!==null)w=h.zeroFormat;else if(_===null&&h.nullFormat!==null)w=h.nullFormat;else{for(T in i)if(v.match(i[T].regexps.format)){R=i[T].format;break}R=R||e._.numberToFormat,w=R(_,v,g)}return w},value:function(){return this._value},input:function(){return this._input},set:function(f){return this._value=Number(f),this},add:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,T,w,R){return v+Math.round(g*T)}return this._value=t.reduce([this._value,f],_,0)/g,this},subtract:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,T,w,R){return v-Math.round(g*T)}return this._value=t.reduce([f],_,Math.round(this._value*g))/g,this},multiply:function(f){function g(_,v,T,w){var R=t.correctionFactor(_,v);return Math.round(_*R)*Math.round(v*R)/Math.round(R*R)}return this._value=t.reduce([this._value,f],g,1),this},divide:function(f){function g(_,v,T,w){var R=t.correctionFactor(_,v);return Math.round(_*R)/Math.round(v*R)}return this._value=t.reduce([this._value,f],g),this},difference:function(f){return Math.abs(e(this._value).subtract(f).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(f){var g=f%10;return~~(f%100/10)===1?"th":g===1?"st":g===2?"nd":g===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(f,g,_){var v=e._.includes(g," BPS")?" ":"",T;return f=f*1e4,g=g.replace(/\s?BPS/,""),T=e._.numberToFormat(f,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"BPS"),T=T.join("")):T=T+v+"BPS",T},unformat:function(f){return+(e._.stringToNumber(f)*1e-4).toFixed(15)}})}(),function(){var f={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},g={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},_=f.suffixes.concat(g.suffixes.filter(function(T){return f.suffixes.indexOf(T)<0})),v=_.join("|");v="("+v.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(v)},format:function(T,w,R){var x,U=e._.includes(w,"ib")?g:f,L=e._.includes(w," b")||e._.includes(w," ib")?" ":"",j,$,z;for(w=w.replace(/\s?i?b/,""),j=0;j<=U.suffixes.length;j++)if($=Math.pow(U.base,j),z=Math.pow(U.base,j+1),T===null||T===0||T>=$&&T<z){L+=U.suffixes[j],$>0&&(T=T/$);break}return x=e._.numberToFormat(T,w,R),x+L},unformat:function(T){var w=e._.stringToNumber(T),R,x;if(w){for(R=f.suffixes.length-1;R>=0;R--){if(e._.includes(T,f.suffixes[R])){x=Math.pow(f.base,R);break}if(e._.includes(T,g.suffixes[R])){x=Math.pow(g.base,R);break}}w*=x||1}return w}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],T={before:g.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:g.match(/([\+|\-|\)|\s|\$]*)$/)[0]},w,R,x;for(g=g.replace(/\s?\$\s?/,""),w=e._.numberToFormat(f,g,_),f>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):f<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),x=0;x<T.before.length;x++)switch(R=T.before[x],R){case"$":w=e._.insert(w,v.currency.symbol,x);break;case" ":w=e._.insert(w," ",x+v.currency.symbol.length-1);break}for(x=T.after.length-1;x>=0;x--)switch(R=T.after[x],R){case"$":w=x===T.after.length-1?w+v.currency.symbol:e._.insert(w,v.currency.symbol,-(T.after.length-(1+x)));break;case" ":w=x===T.after.length-1?w+" ":e._.insert(w," ",-(T.after.length-(1+x)+v.currency.symbol.length-1));break}return w}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(f,g,_){var v,T=typeof f=="number"&&!e._.isNaN(f)?f.toExponential():"0e+0",w=T.split("e");return g=g.replace(/e[\+|\-]{1}0/,""),v=e._.numberToFormat(Number(w[0]),g,_),v+"e"+w[1]},unformat:function(f){var g=e._.includes(f,"e+")?f.split("e+"):f.split("e-"),_=Number(g[0]),v=Number(g[1]);v=e._.includes(f,"e-")?v*=-1:v;function T(w,R,x,U){var L=e._.correctionFactor(w,R),j=w*L*(R*L)/(L*L);return j}return e._.reduce([_,Math.pow(10,v)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],T,w=e._.includes(g," o")?" ":"";return g=g.replace(/\s?o/,""),w+=v.ordinal(f),T=e._.numberToFormat(f,g,_),T+w}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(f,g,_){var v=e._.includes(g," %")?" ":"",T;return e.options.scalePercentBy100&&(f=f*100),g=g.replace(/\s?\%/,""),T=e._.numberToFormat(f,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"%"),T=T.join("")):T=T+v+"%",T},unformat:function(f){var g=e._.stringToNumber(f);return e.options.scalePercentBy100?g*.01:g}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(f,g,_){var v=Math.floor(f/60/60),T=Math.floor((f-v*60*60)/60),w=Math.round(f-v*60*60-T*60);return v+":"+(T<10?"0"+T:T)+":"+(w<10?"0"+w:w)},unformat:function(f){var g=f.split(":"),_=0;return g.length===3?(_=_+Number(g[0])*60*60,_=_+Number(g[1])*60,_=_+Number(g[2])):g.length===2&&(_=_+Number(g[0])*60,_=_+Number(g[1])),Number(_)}})}(),e})}(Wm)),Wm.exports}var y7=g7();const _7=FE(y7);function zw({amount:n}){const e=_7(n).format("$0,0.00");return N.jsx("div",{children:e})}const v7="product-module__card__container___rP0Uq",E7="product-module__button___37bhW",b7="product-module__rating___Noal7",w7="product-module__Product_container___X2Xk5",T7="product-module__product__flexed___7-w6P",Vu={card__container:v7,button:E7,rating:b7,Product_container:w7,product__flexed:T7};function Lc({data:n,flex:e,renderDesc:t,renderAdd:r}){const{image:i,title:o,rating:u,id:h,price:d,description:f}=n,{rate:g,count:_}=u||{},[v,T]=W.useContext(Fs);console.log("Current state:",v);const w={image:i,title:o,rating:u,id:h,price:d,description:f,rate:g,count:_},R=()=>{console.log("Adding to cart:",w),T({type:Qr.ADD_TO_BASKET,item:w})};return N.jsxs("div",{className:`${Vu.card__container} ${e?Vu.product__flexed:""}`,children:[N.jsx(ui,{to:`products/${h}`,children:N.jsx("img",{src:i,alt:o,className:Vu.img_container})}),N.jsxs("div",{children:[N.jsx("h4",{children:o}),t&&N.jsx("div",{style:{maxWidth:"750px"},children:f}),N.jsxs("div",{className:Vu.rating,children:[N.jsx(p7,{value:g,precision:.1,readOnly:!0}),N.jsxs("small",{children:[_," reviews"]})]}),N.jsx("div",{children:N.jsx(zw,{amount:d})}),r&&N.jsx("button",{className:Vu.button,onClick:R,children:"Add to Cart"})]})]})}function ZN(n,e){return function(){return n.apply(e,arguments)}}const{toString:S7}=Object.prototype,{getPrototypeOf:qw}=Object,jy=(n=>e=>{const t=S7.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),di=n=>(n=n.toLowerCase(),e=>jy(e)===n),Fy=n=>e=>typeof e===n,{isArray:Uc}=Array,ff=Fy("undefined");function A7(n){return n!==null&&!ff(n)&&n.constructor!==null&&!ff(n.constructor)&&xr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const ek=di("ArrayBuffer");function R7(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&ek(n.buffer),e}const I7=Fy("string"),xr=Fy("function"),tk=Fy("number"),By=n=>n!==null&&typeof n=="object",C7=n=>n===!0||n===!1,Qm=n=>{if(jy(n)!=="object")return!1;const e=qw(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},x7=di("Date"),P7=di("File"),O7=di("Blob"),D7=di("FileList"),N7=n=>By(n)&&xr(n.pipe),k7=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||xr(n.append)&&((e=jy(n))==="formdata"||e==="object"&&xr(n.toString)&&n.toString()==="[object FormData]"))},V7=di("URLSearchParams"),[M7,L7,U7,j7]=["ReadableStream","Request","Response","Headers"].map(di),F7=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Uc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,n[h],h,n)}}function nk(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const al=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rk=n=>!ff(n)&&n!==al;function PE(){const{caseless:n}=rk(this)&&this||{},e={},t=(r,i)=>{const o=n&&nk(e,i)||i;Qm(e[o])&&Qm(r)?e[o]=PE(e[o],r):Qm(r)?e[o]=PE({},r):Uc(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&zf(arguments[r],t);return e}const B7=(n,e,t,{allOwnKeys:r}={})=>(zf(e,(i,o)=>{t&&xr(i)?n[o]=ZN(i,t):n[o]=i},{allOwnKeys:r}),n),z7=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),q7=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},H7=(n,e,t,r)=>{let i,o,u;const h={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)u=i[o],(!r||r(u,n,e))&&!h[u]&&(e[u]=n[u],h[u]=!0);n=t!==!1&&qw(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},$7=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},G7=n=>{if(!n)return null;if(Uc(n))return n;let e=n.length;if(!tk(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},K7=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&qw(Uint8Array)),W7=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},Q7=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},Y7=di("HTMLFormElement"),X7=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),hC=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),J7=di("RegExp"),ik=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};zf(t,(i,o)=>{let u;(u=e(i,o,n))!==!1&&(r[o]=u||i)}),Object.defineProperties(n,r)},Z7=n=>{ik(n,(e,t)=>{if(xr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(xr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},e$=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return Uc(n)?r(n):r(String(n).split(e)),t},t$=()=>{},n$=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function r$(n){return!!(n&&xr(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const i$=n=>{const e=new Array(10),t=(r,i)=>{if(By(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Uc(r)?[]:{};return zf(r,(u,h)=>{const d=t(u,i+1);!ff(d)&&(o[h]=d)}),e[i]=void 0,o}}return r};return t(n,0)},s$=di("AsyncFunction"),a$=n=>n&&(By(n)||xr(n))&&xr(n.then)&&xr(n.catch),sk=((n,e)=>n?setImmediate:e?((t,r)=>(al.addEventListener("message",({source:i,data:o})=>{i===al&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),al.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",xr(al.postMessage)),o$=typeof queueMicrotask<"u"?queueMicrotask.bind(al):typeof process<"u"&&process.nextTick||sk,se={isArray:Uc,isArrayBuffer:ek,isBuffer:A7,isFormData:k7,isArrayBufferView:R7,isString:I7,isNumber:tk,isBoolean:C7,isObject:By,isPlainObject:Qm,isReadableStream:M7,isRequest:L7,isResponse:U7,isHeaders:j7,isUndefined:ff,isDate:x7,isFile:P7,isBlob:O7,isRegExp:J7,isFunction:xr,isStream:N7,isURLSearchParams:V7,isTypedArray:K7,isFileList:D7,forEach:zf,merge:PE,extend:B7,trim:F7,stripBOM:z7,inherits:q7,toFlatObject:H7,kindOf:jy,kindOfTest:di,endsWith:$7,toArray:G7,forEachEntry:W7,matchAll:Q7,isHTMLForm:Y7,hasOwnProperty:hC,hasOwnProp:hC,reduceDescriptors:ik,freezeMethods:Z7,toObjectSet:e$,toCamelCase:X7,noop:t$,toFiniteNumber:n$,findKey:nk,global:al,isContextDefined:rk,isSpecCompliantForm:r$,toJSONObject:i$,isAsyncFn:s$,isThenable:a$,setImmediate:sk,asap:o$};function Ve(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}se.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const ak=Ve.prototype,ok={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{ok[n]={value:n}});Object.defineProperties(Ve,ok);Object.defineProperty(ak,"isAxiosError",{value:!0});Ve.from=(n,e,t,r,i,o)=>{const u=Object.create(ak);return se.toFlatObject(n,u,function(d){return d!==Error.prototype},h=>h!=="isAxiosError"),Ve.call(u,n.message,e,t,r,i),u.cause=n,u.name=n.name,o&&Object.assign(u,o),u};const l$=null;function OE(n){return se.isPlainObject(n)||se.isArray(n)}function lk(n){return se.endsWith(n,"[]")?n.slice(0,-2):n}function dC(n,e,t){return n?n.concat(e).map(function(i,o){return i=lk(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function u$(n){return se.isArray(n)&&!n.some(OE)}const c$=se.toFlatObject(se,{},null,function(e){return/^is[A-Z]/.test(e)});function zy(n,e,t){if(!se.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=se.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,x){return!se.isUndefined(x[R])});const r=t.metaTokens,i=t.visitor||g,o=t.dots,u=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(e);if(!se.isFunction(i))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(se.isDate(w))return w.toISOString();if(!d&&se.isBlob(w))throw new Ve("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(w)||se.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,R,x){let U=w;if(w&&!x&&typeof w=="object"){if(se.endsWith(R,"{}"))R=r?R:R.slice(0,-2),w=JSON.stringify(w);else if(se.isArray(w)&&u$(w)||(se.isFileList(w)||se.endsWith(R,"[]"))&&(U=se.toArray(w)))return R=lk(R),U.forEach(function(j,$){!(se.isUndefined(j)||j===null)&&e.append(u===!0?dC([R],$,o):u===null?R:R+"[]",f(j))}),!1}return OE(w)?!0:(e.append(dC(x,R,o),f(w)),!1)}const _=[],v=Object.assign(c$,{defaultVisitor:g,convertValue:f,isVisitable:OE});function T(w,R){if(!se.isUndefined(w)){if(_.indexOf(w)!==-1)throw Error("Circular reference detected in "+R.join("."));_.push(w),se.forEach(w,function(U,L){(!(se.isUndefined(U)||U===null)&&i.call(e,U,se.isString(L)?L.trim():L,R,v))===!0&&T(U,R?R.concat(L):[L])}),_.pop()}}if(!se.isObject(n))throw new TypeError("data must be an object");return T(n),e}function fC(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Hw(n,e){this._pairs=[],n&&zy(n,this,e)}const uk=Hw.prototype;uk.append=function(e,t){this._pairs.push([e,t])};uk.toString=function(e){const t=e?function(r){return e.call(this,r,fC)}:fC;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function h$(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ck(n,e,t){if(!e)return n;const r=t&&t.encode||h$;se.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=se.isURLSearchParams(e)?e.toString():new Hw(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class pC{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){se.forEach(this.handlers,function(r){r!==null&&e(r)})}}const hk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},d$=typeof URLSearchParams<"u"?URLSearchParams:Hw,f$=typeof FormData<"u"?FormData:null,p$=typeof Blob<"u"?Blob:null,m$={isBrowser:!0,classes:{URLSearchParams:d$,FormData:f$,Blob:p$},protocols:["http","https","file","blob","url","data"]},$w=typeof window<"u"&&typeof document<"u",DE=typeof navigator=="object"&&navigator||void 0,g$=$w&&(!DE||["ReactNative","NativeScript","NS"].indexOf(DE.product)<0),y$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_$=$w&&window.location.href||"http://localhost",v$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$w,hasStandardBrowserEnv:g$,hasStandardBrowserWebWorkerEnv:y$,navigator:DE,origin:_$},Symbol.toStringTag,{value:"Module"})),qn={...v$,...m$};function E$(n,e){return zy(n,new qn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return qn.isNode&&se.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function b$(n){return se.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function w$(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function dk(n){function e(t,r,i,o){let u=t[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),d=o>=t.length;return u=!u&&se.isArray(i)?i.length:u,d?(se.hasOwnProp(i,u)?i[u]=[i[u],r]:i[u]=r,!h):((!i[u]||!se.isObject(i[u]))&&(i[u]=[]),e(t,r,i[u],o)&&se.isArray(i[u])&&(i[u]=w$(i[u])),!h)}if(se.isFormData(n)&&se.isFunction(n.entries)){const t={};return se.forEachEntry(n,(r,i)=>{e(b$(r),i,t,0)}),t}return null}function T$(n,e,t){if(se.isString(n))try{return(e||JSON.parse)(n),se.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const qf={transitional:hk,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=se.isObject(e);if(o&&se.isHTMLForm(e)&&(e=new FormData(e)),se.isFormData(e))return i?JSON.stringify(dk(e)):e;if(se.isArrayBuffer(e)||se.isBuffer(e)||se.isStream(e)||se.isFile(e)||se.isBlob(e)||se.isReadableStream(e))return e;if(se.isArrayBufferView(e))return e.buffer;if(se.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return E$(e,this.formSerializer).toString();if((h=se.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return zy(h?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),T$(e)):e}],transformResponse:[function(e){const t=this.transitional||qf.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(se.isResponse(e)||se.isReadableStream(e))return e;if(e&&se.isString(e)&&(r&&!this.responseType||i)){const u=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Ve.from(h,Ve.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qn.classes.FormData,Blob:qn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],n=>{qf.headers[n]={}});const S$=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),A$=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(u){i=u.indexOf(":"),t=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!t||e[t]&&S$[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},mC=Symbol("internals");function pd(n){return n&&String(n).trim().toLowerCase()}function Ym(n){return n===!1||n==null?n:se.isArray(n)?n.map(Ym):String(n)}function R$(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const I$=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function x0(n,e,t,r,i){if(se.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!se.isString(e)){if(se.isString(r))return e.indexOf(r)!==-1;if(se.isRegExp(r))return r.test(e)}}function C$(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function x$(n,e){const t=se.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,u){return this[r].call(this,e,i,o,u)},configurable:!0})})}let cr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(h,d,f){const g=pd(d);if(!g)throw new Error("header name must be a non-empty string");const _=se.findKey(i,g);(!_||i[_]===void 0||f===!0||f===void 0&&i[_]!==!1)&&(i[_||d]=Ym(h))}const u=(h,d)=>se.forEach(h,(f,g)=>o(f,g,d));if(se.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(se.isString(e)&&(e=e.trim())&&!I$(e))u(A$(e),t);else if(se.isHeaders(e))for(const[h,d]of e.entries())o(d,h,r);else e!=null&&o(t,e,r);return this}get(e,t){if(e=pd(e),e){const r=se.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return R$(i);if(se.isFunction(t))return t.call(this,i,r);if(se.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=pd(e),e){const r=se.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||x0(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(u){if(u=pd(u),u){const h=se.findKey(r,u);h&&(!t||x0(r,r[h],h,t))&&(delete r[h],i=!0)}}return se.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||x0(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return se.forEach(this,(i,o)=>{const u=se.findKey(r,o);if(u){t[u]=Ym(i),delete t[o];return}const h=e?C$(o):String(o).trim();h!==o&&delete t[o],t[h]=Ym(i),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return se.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&se.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[mC]=this[mC]={accessors:{}}).accessors,i=this.prototype;function o(u){const h=pd(u);r[h]||(x$(i,u),r[h]=!0)}return se.isArray(e)?e.forEach(o):o(e),this}};cr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(cr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});se.freezeMethods(cr);function P0(n,e){const t=this||qf,r=e||t,i=cr.from(r.headers);let o=r.data;return se.forEach(n,function(h){o=h.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function fk(n){return!!(n&&n.__CANCEL__)}function jc(n,e,t){Ve.call(this,n??"canceled",Ve.ERR_CANCELED,e,t),this.name="CanceledError"}se.inherits(jc,Ve,{__CANCEL__:!0});function pk(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ve("Request failed with status code "+t.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function P$(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function O$(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,u;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),g=r[o];u||(u=f),t[i]=d,r[i]=f;let _=o,v=0;for(;_!==i;)v+=t[_++],_=_%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),f-u<e)return;const T=g&&f-g;return T?Math.round(v*1e3/T):void 0}}function D$(n,e){let t=0,r=1e3/e,i,o;const u=(f,g=Date.now())=>{t=g,i=null,o&&(clearTimeout(o),o=null),n.apply(null,f)};return[(...f)=>{const g=Date.now(),_=g-t;_>=r?u(f,g):(i=f,o||(o=setTimeout(()=>{o=null,u(i)},r-_)))},()=>i&&u(i)]}const Dg=(n,e,t=3)=>{let r=0;const i=O$(50,250);return D$(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,d=u-r,f=i(d),g=u<=h;r=u;const _={loaded:u,total:h,progress:h?u/h:void 0,bytes:d,rate:f||void 0,estimated:f&&h&&g?(h-u)/f:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(_)},t)},gC=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},yC=n=>(...e)=>se.asap(()=>n(...e)),N$=qn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,qn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(qn.origin),qn.navigator&&/(msie|trident)/i.test(qn.navigator.userAgent)):()=>!0,k$=qn.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const u=[n+"="+encodeURIComponent(e)];se.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),se.isString(r)&&u.push("path="+r),se.isString(i)&&u.push("domain="+i),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function V$(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function M$(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function mk(n,e,t){let r=!V$(e);return n&&r||t==!1?M$(n,e):e}const _C=n=>n instanceof cr?{...n}:n;function Tl(n,e){e=e||{};const t={};function r(f,g,_,v){return se.isPlainObject(f)&&se.isPlainObject(g)?se.merge.call({caseless:v},f,g):se.isPlainObject(g)?se.merge({},g):se.isArray(g)?g.slice():g}function i(f,g,_,v){if(se.isUndefined(g)){if(!se.isUndefined(f))return r(void 0,f,_,v)}else return r(f,g,_,v)}function o(f,g){if(!se.isUndefined(g))return r(void 0,g)}function u(f,g){if(se.isUndefined(g)){if(!se.isUndefined(f))return r(void 0,f)}else return r(void 0,g)}function h(f,g,_){if(_ in e)return r(f,g);if(_ in n)return r(void 0,f)}const d={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(f,g,_)=>i(_C(f),_C(g),_,!0)};return se.forEach(Object.keys(Object.assign({},n,e)),function(g){const _=d[g]||i,v=_(n[g],e[g],g);se.isUndefined(v)&&_!==h||(t[g]=v)}),t}const gk=n=>{const e=Tl({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:u,auth:h}=e;e.headers=u=cr.from(u),e.url=ck(mk(e.baseURL,e.url),n.params,n.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let d;if(se.isFormData(t)){if(qn.hasStandardBrowserEnv||qn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[f,...g]=d?d.split(";").map(_=>_.trim()).filter(Boolean):[];u.setContentType([f||"multipart/form-data",...g].join("; "))}}if(qn.hasStandardBrowserEnv&&(r&&se.isFunction(r)&&(r=r(e)),r||r!==!1&&N$(e.url))){const f=i&&o&&k$.read(o);f&&u.set(i,f)}return e},L$=typeof XMLHttpRequest<"u",U$=L$&&function(n){return new Promise(function(t,r){const i=gk(n);let o=i.data;const u=cr.from(i.headers).normalize();let{responseType:h,onUploadProgress:d,onDownloadProgress:f}=i,g,_,v,T,w;function R(){T&&T(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function U(){if(!x)return;const j=cr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),z={data:!h||h==="text"||h==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:j,config:n,request:x};pk(function(M){t(M),R()},function(M){r(M),R()},z),x=null}"onloadend"in x?x.onloadend=U:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(U)},x.onabort=function(){x&&(r(new Ve("Request aborted",Ve.ECONNABORTED,n,x)),x=null)},x.onerror=function(){r(new Ve("Network Error",Ve.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let $=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const z=i.transitional||hk;i.timeoutErrorMessage&&($=i.timeoutErrorMessage),r(new Ve($,z.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,n,x)),x=null},o===void 0&&u.setContentType(null),"setRequestHeader"in x&&se.forEach(u.toJSON(),function($,z){x.setRequestHeader(z,$)}),se.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),h&&h!=="json"&&(x.responseType=i.responseType),f&&([v,w]=Dg(f,!0),x.addEventListener("progress",v)),d&&x.upload&&([_,T]=Dg(d),x.upload.addEventListener("progress",_),x.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(g=j=>{x&&(r(!j||j.type?new jc(null,n,x):j),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const L=P$(i.url);if(L&&qn.protocols.indexOf(L)===-1){r(new Ve("Unsupported protocol "+L+":",Ve.ERR_BAD_REQUEST,n));return}x.send(o||null)})},j$=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(f){if(!i){i=!0,h();const g=f instanceof Error?f:this.reason;r.abort(g instanceof Ve?g:new jc(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new Ve(`timeout ${e} of ms exceeded`,Ve.ETIMEDOUT))},e);const h=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),n=null)};n.forEach(f=>f.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>se.asap(h),d}},F$=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},B$=async function*(n,e){for await(const t of z$(n))yield*F$(t,e)},z$=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},vC=(n,e,t,r)=>{const i=B$(n,e);let o=0,u,h=d=>{u||(u=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:g}=await i.next();if(f){h(),d.close();return}let _=g.byteLength;if(t){let v=o+=_;t(v)}d.enqueue(new Uint8Array(g))}catch(f){throw h(f),f}},cancel(d){return h(d),i.return()}},{highWaterMark:2})},qy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",yk=qy&&typeof ReadableStream=="function",q$=qy&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),_k=(n,...e)=>{try{return!!n(...e)}catch{return!1}},H$=yk&&_k(()=>{let n=!1;const e=new Request(qn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),EC=64*1024,NE=yk&&_k(()=>se.isReadableStream(new Response("").body)),Ng={stream:NE&&(n=>n.body)};qy&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ng[e]&&(Ng[e]=se.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Ve(`Response type '${e}' is not supported`,Ve.ERR_NOT_SUPPORT,r)})})})(new Response);const $$=async n=>{if(n==null)return 0;if(se.isBlob(n))return n.size;if(se.isSpecCompliantForm(n))return(await new Request(qn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(se.isArrayBufferView(n)||se.isArrayBuffer(n))return n.byteLength;if(se.isURLSearchParams(n)&&(n=n+""),se.isString(n))return(await q$(n)).byteLength},G$=async(n,e)=>{const t=se.toFiniteNumber(n.getContentLength());return t??$$(e)},K$=qy&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:u,onDownloadProgress:h,onUploadProgress:d,responseType:f,headers:g,withCredentials:_="same-origin",fetchOptions:v}=gk(n);f=f?(f+"").toLowerCase():"text";let T=j$([i,o&&o.toAbortSignal()],u),w;const R=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let x;try{if(d&&H$&&t!=="get"&&t!=="head"&&(x=await G$(g,r))!==0){let z=new Request(e,{method:"POST",body:r,duplex:"half"}),H;if(se.isFormData(r)&&(H=z.headers.get("content-type"))&&g.setContentType(H),z.body){const[M,C]=gC(x,Dg(yC(d)));r=vC(z.body,EC,M,C)}}se.isString(_)||(_=_?"include":"omit");const U="credentials"in Request.prototype;w=new Request(e,{...v,signal:T,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:U?_:void 0});let L=await fetch(w);const j=NE&&(f==="stream"||f==="response");if(NE&&(h||j&&R)){const z={};["status","statusText","headers"].forEach(I=>{z[I]=L[I]});const H=se.toFiniteNumber(L.headers.get("content-length")),[M,C]=h&&gC(H,Dg(yC(h),!0))||[];L=new Response(vC(L.body,EC,M,()=>{C&&C(),R&&R()}),z)}f=f||"text";let $=await Ng[se.findKey(Ng,f)||"text"](L,n);return!j&&R&&R(),await new Promise((z,H)=>{pk(z,H,{data:$,headers:cr.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:w})})}catch(U){throw R&&R(),U&&U.name==="TypeError"&&/fetch/i.test(U.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,n,w),{cause:U.cause||U}):Ve.from(U,U&&U.code,n,w)}}),kE={http:l$,xhr:U$,fetch:K$};se.forEach(kE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const bC=n=>`- ${n}`,W$=n=>se.isFunction(n)||n===null||n===!1,vk={getAdapter:n=>{n=se.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let u;if(r=t,!W$(t)&&(r=kE[(u=String(t)).toLowerCase()],r===void 0))throw new Ve(`Unknown adapter '${u}'`);if(r)break;i[u||"#"+o]=r}if(!r){const o=Object.entries(i).map(([h,d])=>`adapter ${h} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(bC).join(`
`):" "+bC(o[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:kE};function O0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new jc(null,n)}function wC(n){return O0(n),n.headers=cr.from(n.headers),n.data=P0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),vk.getAdapter(n.adapter||qf.adapter)(n).then(function(r){return O0(n),r.data=P0.call(n,n.transformResponse,r),r.headers=cr.from(r.headers),r},function(r){return fk(r)||(O0(n),r&&r.response&&(r.response.data=P0.call(n,n.transformResponse,r.response),r.response.headers=cr.from(r.response.headers))),Promise.reject(r)})}const Ek="1.8.1",Hy={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Hy[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const TC={};Hy.transitional=function(e,t,r){function i(o,u){return"[Axios v"+Ek+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new Ve(i(u," has been removed"+(t?" in "+t:"")),Ve.ERR_DEPRECATED);return t&&!TC[u]&&(TC[u]=!0,console.warn(i(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,h):!0}};Hy.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Q$(n,e,t){if(typeof n!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],u=e[o];if(u){const h=n[o],d=h===void 0||u(h,o,n);if(d!==!0)throw new Ve("option "+o+" must be "+d,Ve.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ve("Unknown option "+o,Ve.ERR_BAD_OPTION)}}const Xm={assertOptions:Q$,validators:Hy},Pi=Xm.validators;let cl=class{constructor(e){this.defaults=e,this.interceptors={request:new pC,response:new pC}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Tl(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&Xm.assertOptions(r,{silentJSONParsing:Pi.transitional(Pi.boolean),forcedJSONParsing:Pi.transitional(Pi.boolean),clarifyTimeoutError:Pi.transitional(Pi.boolean)},!1),i!=null&&(se.isFunction(i)?t.paramsSerializer={serialize:i}:Xm.assertOptions(i,{encode:Pi.function,serialize:Pi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Xm.assertOptions(t,{baseUrl:Pi.spelling("baseURL"),withXsrfToken:Pi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&se.merge(o.common,o[t.method]);o&&se.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),t.headers=cr.concat(u,o);const h=[];let d=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(d=d&&R.synchronous,h.unshift(R.fulfilled,R.rejected))});const f=[];this.interceptors.response.forEach(function(R){f.push(R.fulfilled,R.rejected)});let g,_=0,v;if(!d){const w=[wC.bind(this),void 0];for(w.unshift.apply(w,h),w.push.apply(w,f),v=w.length,g=Promise.resolve(t);_<v;)g=g.then(w[_++],w[_++]);return g}v=h.length;let T=t;for(_=0;_<v;){const w=h[_++],R=h[_++];try{T=w(T)}catch(x){R.call(this,x);break}}try{g=wC.call(this,T)}catch(w){return Promise.reject(w)}for(_=0,v=f.length;_<v;)g=g.then(f[_++],f[_++]);return g}getUri(e){e=Tl(this.defaults,e);const t=mk(e.baseURL,e.url,e.allowAbsoluteUrls);return ck(t,e.params,e.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(e){cl.prototype[e]=function(t,r){return this.request(Tl(r||{},{method:e,url:t,data:(r||{}).data}))}});se.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,h){return this.request(Tl(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}cl.prototype[e]=t(),cl.prototype[e+"Form"]=t(!0)});let Y$=class bk{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(i);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new jc(o,u,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new bk(function(i){e=i}),cancel:e}}};function X$(n){return function(t){return n.apply(null,t)}}function J$(n){return se.isObject(n)&&n.isAxiosError===!0}const VE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(VE).forEach(([n,e])=>{VE[e]=n});function wk(n){const e=new cl(n),t=ZN(cl.prototype.request,e);return se.extend(t,cl.prototype,e,{allOwnKeys:!0}),se.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return wk(Tl(n,i))},t}const It=wk(qf);It.Axios=cl;It.CanceledError=jc;It.CancelToken=Y$;It.isCancel=fk;It.VERSION=Ek;It.toFormData=zy;It.AxiosError=Ve;It.Cancel=It.CanceledError;It.all=function(e){return Promise.all(e)};It.spread=X$;It.isAxiosError=J$;It.mergeConfig=Tl;It.AxiosHeaders=cr;It.formToJSON=n=>dk(se.isHTMLForm(n)?new FormData(n):n);It.getAdapter=vk.getAdapter;It.HttpStatusCode=VE;It.default=It;const{Axios:FK,AxiosError:BK,CanceledError:zK,isCancel:qK,CancelToken:HK,VERSION:$K,all:GK,Cancel:KK,isAxiosError:WK,spread:QK,toFormData:YK,AxiosHeaders:XK,HttpStatusCode:JK,formToJSON:ZK,getAdapter:eW,mergeConfig:tW}=It;var Z$={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Tk(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return Z$[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Lu(n){var e=Tk(n);return"".concat(e.value).concat(e.unit)}var ME=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,u=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(u,0),r},kg;(function(n){n.maroon="#800000",n.red="#FF0000",n.orange="#FFA500",n.yellow="#FFFF00",n.olive="#808000",n.green="#008000",n.purple="#800080",n.fuchsia="#FF00FF",n.lime="#00FF00",n.teal="#008080",n.aqua="#00FFFF",n.blue="#0000FF",n.navy="#000080",n.black="#000000",n.gray="#808080",n.silver="#C0C0C0",n.white="#FFFFFF"})(kg||(kg={}));var eG=function(n,e){if(n.includes("/"))return n.replace("rgb(","rgba(");var t=n.substring(n.startsWith("rgba(")?5:4,n.length-1).trim(),r=t.split(",");return r.length===4?n.replace("rgb(","rgba("):r.length===3?"rgba(".concat(t,", ").concat(e,")"):"rgba(".concat(t," / ").concat(e,")")},tG=function(n,e){if(n.startsWith("rgb"))return eG(n,e);if(Object.keys(kg).includes(n)&&(n=kg[n]),n[0]==="#"&&(n=n.slice(1)),n.length===3){var t="";n.split("").forEach(function(i){t+=i,t+=i}),n=t}var r=(n.match(/.{2}/g)||[]).map(function(i){return parseInt(i,16)}).join(", ");return"rgba(".concat(r,", ").concat(e,")")},Vg=function(){return Vg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Vg.apply(this,arguments)},nG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},rG=ME("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function LE(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.size,g=f===void 0?35:f,_=nG(n,["loading","color","speedMultiplier","cssOverride","size"]),v=Vg({background:"transparent !important",width:Lu(g),height:Lu(g),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(rG," ").concat(.75/u,"s 0s infinite linear"),animationFillMode:"both"},d);return t?W.createElement("span",Vg({style:v},_)):null}var Mg=function(){return Mg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Mg.apply(this,arguments)},iG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function sG(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.size,g=f===void 0?50:f,_=iG(n,["loading","color","speedMultiplier","cssOverride","size"]),v=Tk(g),T=v.value,w=v.unit,R=Mg({display:"inherit",position:"relative",width:Lu(g),height:Lu(g),transform:"rotate(165deg)"},d),x=T/5,U=(T-x)/2,L=U-x,j=tG(i,.75),$=ME("HashLoader","0% {width: ".concat(x,"px; box-shadow: ").concat(U,"px ").concat(-L,"px ").concat(j,", ").concat(-U,"px ").concat(L,"px ").concat(j,`}
    35% {width: `).concat(Lu(g),"; box-shadow: 0 ").concat(-L,"px ").concat(j,", 0 ").concat(L,"px ").concat(j,`}
    70% {width: `).concat(x,"px; box-shadow: ").concat(-U,"px ").concat(-L,"px ").concat(j,", ").concat(U,"px ").concat(L,"px ").concat(j,`}
    100% {box-shadow: `).concat(U,"px ").concat(-L,"px ").concat(j,", ").concat(-U,"px ").concat(L,"px ").concat(j,"}"),"before"),z=ME("HashLoader","0% {height: ".concat(x,"px; box-shadow: ").concat(L,"px ").concat(U,"px ").concat(i,", ").concat(-L,"px ").concat(-U,"px ").concat(i,`}
    35% {height: `).concat(Lu(g),"; box-shadow: ").concat(L,"px 0 ").concat(i,", ").concat(-L,"px 0 ").concat(i,`}
    70% {height: `).concat(x,"px; box-shadow: ").concat(L,"px ").concat(-U,"px ").concat(i,", ").concat(-L,"px ").concat(U,"px ").concat(i,`}
    100% {box-shadow: `).concat(L,"px ").concat(U,"px ").concat(i,", ").concat(-L,"px ").concat(-U,"px ").concat(i,"}"),"after"),H=function(M){return{position:"absolute",top:"50%",left:"50%",display:"block",width:"".concat(T/5).concat(w),height:"".concat(T/5).concat(w),borderRadius:"".concat(T/10).concat(w),transform:"translate(-50%, -50%)",animationFillMode:"none",animation:"".concat(M===1?$:z," ").concat(2/u,"s infinite")}};return t?W.createElement("span",Mg({style:R},_),W.createElement("span",{style:H(1)}),W.createElement("span",{style:H(2)})):null}function Gw(){return N.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:N.jsx(sG,{color:"orange"})})}function aG(){const[n,e]=W.useState([]),[t,r]=W.useState(!1);return W.useEffect(()=>{r(!0),It.get("https://fakestoreapi.com/products").then(i=>{console.log(i);const o=i.data;e(o),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),N.jsx(N.Fragment,{children:t?N.jsx(Gw,{}):N.jsx("section",{className:Vu.Product_container,children:n==null?void 0:n.map((i,o)=>N.jsx(Lc,{data:i,renderAdd:!0},o))})})}const oG="footer-module__footer__container___x7xHL",lG="footer-module__back_to_top___yY679",uG="footer-module__footer_links___bwHOr",cG="footer-module__footer_column___-RwYb",hG="footer-module__footer_bottom_container___jLJ7w",dG="footer-module__footer_logo___NlVQP",fG="footer-module__language_country___-K30k",pG="footer-module__language_dropdown___l501o",mG="footer-module__country_dropdown___P5lo5",gG="footer-module__footer_bottom___-lNCG",br={footer__container:oG,back_to_top:lG,footer_links:uG,footer_column:cG,footer_bottom_container:hG,footer_logo:dG,language_country:fG,language_dropdown:pG,country_dropdown:mG,footer_bottom:gG};function yG(){const n=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})};return N.jsxs("section",{className:br.footer__container,children:[N.jsx("div",{className:br.back_to_top,children:N.jsx("p",{onClick:n,children:"Back to top"})}),N.jsxs("div",{className:br.footer_links,children:[N.jsxs("div",{className:br.footer_column,children:[N.jsx("h4",{children:"Get to Know Us"}),N.jsxs("ul",{children:[N.jsx("li",{children:N.jsx("a",{href:"#",children:"Careers"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Amazon Newsletter"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"About Amazon"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Accessibility"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Sustainability"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Press Center"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Investor Relations"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Amazon Devices"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Amazon Science"})})]})]}),N.jsxs("div",{className:br.footer_column,children:[N.jsx("h4",{children:"Make Money with Us"}),N.jsxs("ul",{children:[N.jsx("li",{children:N.jsx("a",{href:"#",children:"Sell on Amazon"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Sell apps on Amazon"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Supply to Amazon"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Protect & Build Your Brand"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Become an Affiliate"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Become a Delivery Driver"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Start a Package Delivery Business"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Advertise Your Products"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Self-Publish with Us"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Become an Amazon Hub Partner"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"See More Ways to Make Money"})})]})]}),N.jsxs("div",{className:br.footer_column,children:[N.jsx("h4",{children:"Amazon Payment Products"}),N.jsxs("ul",{children:[N.jsx("li",{children:N.jsx("a",{href:"",children:"Amazon Visa"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Amazon Store Card"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Amazon Secured Card"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Amazon Business Card"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Shop with Points"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Reload Your Balance"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Gift Cards"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Amazon Currency Converter"})})]})]}),N.jsxs("div",{className:br.footer_column,children:[N.jsx("h4",{children:"Let Us Help You"}),N.jsxs("ul",{children:[N.jsx("li",{children:N.jsx("a",{href:"#",children:"Amazon and COVID-19"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Your Account"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Your Orders"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Shipping Rates & Policies"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Amazon Prime"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Returns & Replacements"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Manage Your Content and Devices"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Recalls and Product Safety Alerts"})}),N.jsx("li",{children:N.jsx("a",{href:"",children:"Registry & Gift List"})}),N.jsx("li",{children:N.jsx("a",{href:"#",children:"Help"})})]})]})]}),N.jsxs("div",{className:br.footer_bottom_container,children:[N.jsx("div",{className:br.footer_logo,children:N.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"Amazon Logo"})}),N.jsxs("div",{className:br.language_country,children:[N.jsxs("div",{className:br.language_dropdown,children:[N.jsx("img",{src:"",alt:""}),N.jsx("select",{name:"",id:"",children:N.jsx("option",{value:"",children:" English "})})]}),N.jsxs("div",{className:br.country_dropdown,children:[N.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/1024px-Flag_of_the_United_States.svg.png",alt:""}),N.jsx("select",{name:"",id:"",children:N.jsx("option",{value:"",children:" United States"})})]})]})]}),N.jsxs("div",{className:br.footer_bottom,children:[N.jsx("p",{children:"Conditions of Use | Privacy Notice | Your Ads Privacy Choices"}),N.jsx("p",{children:" 1996-2025, Amazon.com, Inc. or its affiliates"})]})]})}function Fc({children:n}){return N.jsxs("div",{children:[N.jsx(y9,{}),n,N.jsx(yG,{})]})}function _G(){return N.jsxs(Fc,{children:[N.jsx(L9,{}),N.jsx(B9,{}),N.jsx(aG,{})]})}const vG="payment-module__payment_header___4v7kr",EG="payment-module__payment___UCiGL",bG="payment-module__flex___4Pc0x",wG="payment-module__payment_card_container___Fy6-M",TG="payment-module__payment_details___8bZXQ",SG="payment-module__payment_price___w7DKM",AG="payment-module__loading___lsid-",As={payment_header:vG,payment:EG,flex:bG,payment_card_container:wG,payment_details:TG,payment_price:SG,loading:AG};function SC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function AC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SC(Object(t),!0).forEach(function(r){Sk(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):SC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Jm(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jm=function(e){return typeof e}:Jm=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(n)}function Sk(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ak(n,e){return RG(n)||IG(n,e)||CG(n,e)||xG()}function RG(n){if(Array.isArray(n))return n}function IG(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,o=!1,u,h;try{for(t=t.call(n);!(i=(u=t.next()).done)&&(r.push(u.value),!(e&&r.length===e));i=!0);}catch(d){o=!0,h=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw h}}return r}}function CG(n,e){if(n){if(typeof n=="string")return RC(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return RC(n,e)}}function RC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function xG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wr=function(e,t,r){var i=!!r,o=Ke.useRef(r);Ke.useEffect(function(){o.current=r},[r]),Ke.useEffect(function(){if(!i||!e)return function(){};var u=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,u),function(){e.off(t,u)}},[i,t,e,o])},UE=function(e){var t=Ke.useRef(e);return Ke.useEffect(function(){t.current=e},[e]),t.current},vc=function(e){return e!==null&&Jm(e)==="object"},PG=function(e){return vc(e)&&typeof e.then=="function"},OG=function(e){return vc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},IC="[object Object]",DG=function n(e,t){if(!vc(e)||!vc(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===IC,u=Object.prototype.toString.call(t)===IC;if(o!==u)return!1;if(!o&&!r)return e===t;var h=Object.keys(e),d=Object.keys(t);if(h.length!==d.length)return!1;for(var f={},g=0;g<h.length;g+=1)f[h[g]]=!0;for(var _=0;_<d.length;_+=1)f[d[_]]=!0;var v=Object.keys(f);if(v.length!==h.length)return!1;var T=e,w=t,R=function(U){return n(T[U],w[U])};return v.every(R)},Rk=function(e,t,r){return vc(e)?Object.keys(e).reduce(function(i,o){var u=!vc(t)||!DG(e[o],t[o]);return r.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):u?AC(AC({},i||{}),{},Sk({},o,e[o])):i},null):null},Ik="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",CC=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ik;if(e===null||OG(e))return e;throw new Error(t)},NG=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ik;if(PG(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return CC(i,t)})};var r=CC(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},kG=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.1.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.1.0",url:"https://stripe.com/docs/stripe-js/react"}))},$y=Ke.createContext(null);$y.displayName="ElementsContext";var Ck=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},xk=function(e){var t=e.stripe,r=e.options,i=e.children,o=Ke.useMemo(function(){return NG(t)},[t]),u=Ke.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),h=Ak(u,2),d=h[0],f=h[1];Ke.useEffect(function(){var v=!0,T=function(R){f(function(x){return x.stripe?x:{stripe:R,elements:R.elements(r)}})};return o.tag==="async"&&!d.stripe?o.stripePromise.then(function(w){w&&v&&T(w)}):o.tag==="sync"&&!d.stripe&&T(o.stripe),function(){v=!1}},[o,d,r]);var g=UE(t);Ke.useEffect(function(){g!==null&&g!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,t]);var _=UE(r);return Ke.useEffect(function(){if(d.elements){var v=Rk(r,_,["clientSecret","fonts"]);v&&d.elements.update(v)}},[r,_,d.elements]),Ke.useEffect(function(){kG(d.stripe)},[d.stripe]),Ke.createElement($y.Provider,{value:d},i)};xk.propTypes={stripe:Dt.any,options:Dt.object};var VG=function(e){var t=Ke.useContext($y);return Ck(t,e)},MG=function(){var e=VG("calls useElements()"),t=e.elements;return t};Dt.func.isRequired;var Pk=Ke.createContext(null);Pk.displayName="CheckoutSdkContext";var LG=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},UG=Ke.createContext(null);UG.displayName="CheckoutContext";Dt.any,Dt.shape({clientSecret:Dt.string.isRequired,elementsOptions:Dt.object}).isRequired;var jE=function(e){var t=Ke.useContext(Pk),r=Ke.useContext($y);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?LG(t,e):Ck(r,e)},jG=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},an=function(e,t){var r="".concat(jG(e),"Element"),i=function(d){var f=d.id,g=d.className,_=d.options,v=_===void 0?{}:_,T=d.onBlur,w=d.onFocus,R=d.onReady,x=d.onChange,U=d.onEscape,L=d.onClick,j=d.onLoadError,$=d.onLoaderStart,z=d.onNetworksChange,H=d.onConfirm,M=d.onCancel,C=d.onShippingAddressChange,I=d.onShippingRateChange,b=jE("mounts <".concat(r,">")),P="elements"in b?b.elements:null,O="checkoutSdk"in b?b.checkoutSdk:null,D=Ke.useState(null),te=Ak(D,2),F=te[0],ee=te[1],ie=Ke.useRef(null),ue=Ke.useRef(null);wr(F,"blur",T),wr(F,"focus",w),wr(F,"escape",U),wr(F,"click",L),wr(F,"loaderror",j),wr(F,"loaderstart",$),wr(F,"networkschange",z),wr(F,"confirm",H),wr(F,"cancel",M),wr(F,"shippingaddresschange",C),wr(F,"shippingratechange",I),wr(F,"change",x);var Te;R&&(e==="expressCheckout"?Te=R:Te=function(){R(F)}),wr(F,"ready",Te),Ke.useLayoutEffect(function(){if(ie.current===null&&ue.current!==null&&(P||O)){var ae=null;O?ae=O.createElement(e,v):P&&(ae=P.create(e,v)),ie.current=ae,ee(ae),ae&&ae.mount(ue.current)}},[P,O,v]);var q=UE(v);return Ke.useEffect(function(){if(ie.current){var ae=Rk(v,q,["paymentRequest"]);ae&&"update"in ie.current&&ie.current.update(ae)}},[v,q]),Ke.useLayoutEffect(function(){return function(){if(ie.current&&typeof ie.current.destroy=="function")try{ie.current.destroy(),ie.current=null}catch{}}},[]),Ke.createElement("div",{id:f,className:g,ref:ue})},o=function(d){jE("mounts <".concat(r,">"));var f=d.id,g=d.className;return Ke.createElement("div",{id:f,className:g})},u=t?o:i;return u.propTypes={id:Dt.string,className:Dt.string,onChange:Dt.func,onBlur:Dt.func,onFocus:Dt.func,onReady:Dt.func,onEscape:Dt.func,onClick:Dt.func,onLoadError:Dt.func,onLoaderStart:Dt.func,onNetworksChange:Dt.func,onConfirm:Dt.func,onCancel:Dt.func,onShippingAddressChange:Dt.func,onShippingRateChange:Dt.func,options:Dt.object},u.displayName=r,u.__elementType=e,u},on=typeof window>"u",FG=Ke.createContext(null);FG.displayName="EmbeddedCheckoutProviderContext";var BG=function(){var e=jE("calls useStripe()"),t=e.stripe;return t};an("auBankAccount",on);var xC=an("card",on);an("cardNumber",on);an("cardExpiry",on);an("cardCvc",on);an("fpxBank",on);an("iban",on);an("idealBank",on);an("p24Bank",on);an("epsBank",on);an("payment",on);an("expressCheckout",on);an("currencySelector",on);an("paymentRequestButton",on);an("linkAuthentication",on);an("address",on);an("shippingAddress",on);an("paymentMethodMessaging",on);an("affirmMessage",on);an("afterpayClearpayMessage",on);const zG=It.create({baseURL:"https://api-meg555guhq-uc.a.run.app/"});function qG(){const[{basket:n,user:e},t]=W.useContext(Fs),r=n==null?void 0:n.reduce((w,R)=>R.amount+w,0),i=n.reduce((w,R)=>R.price*R.amount+w,0),[o,u]=W.useState(null),[h,d]=W.useState(!1),f=BG(),g=MG(),_=Ug(),v=w=>{var R,x;console.log(w),(R=w==null?void 0:w.error)!=null&&R.message?u((x=w==null?void 0:w.error)==null?void 0:x.message):u(null)},T=async w=>{var R;w.preventDefault();try{d(!0);const U=(R=(await zG({method:"POST",url:`/payment/creat?total=${i*100}`})).data)==null?void 0:R.clienSecret,{paymentIntent:L}=await f.confirmCardPayment(U,{payment_method:{card:g.getElement(xC)}});await hN.collection("users").doc(e.uid).collection("orders").doc(L.id).set({basket:n,amount:L.amount,created:L.created}),t({type:Qr.EMPTY_BASKET}),d(!1),_("/orders",{state:{msg:"you have placed new orders"}})}catch(x){console.log(x),d(!1)}};return N.jsxs(Fc,{children:[N.jsxs("div",{className:As.payment_header,children:["Checkout (",r," )items"]}),N.jsxs("section",{className:As.payment,children:[N.jsxs("div",{className:As.flex,children:[N.jsx("h3",{children:"Delivery Address"}),N.jsxs("div",{children:[N.jsx("div",{children:e==null?void 0:e.email}),N.jsx("div",{children:"7710 Maple avenue"}),N.jsx("div",{children:"Takoma Park, MD"})]})]}),N.jsx("hr",{}),N.jsxs("div",{className:As.flex,children:[N.jsx("h3",{children:"Review itrem and deliver info. "}),N.jsx("div",{children:n==null?void 0:n.map((w,R)=>N.jsx(Lc,{data:w,flex:!0},R))})]}),N.jsx("hr",{}),N.jsxs("div",{className:As.flex,children:[N.jsx("h3",{children:"payment methods"}),N.jsx("div",{className:As.payment_card_container,children:N.jsx("div",{className:As.payment_details,children:N.jsxs("form",{onSubmit:T,children:[o&&N.jsx("small",{style:{color:"red"},children:o}),N.jsx(xC,{onChange:v}),N.jsxs("div",{className:As.payment_price,children:[N.jsx("div",{children:N.jsxs("span",{style:{display:"flex",gap:"10px"},children:[N.jsx("p",{children:"Total Order |"})," ",N.jsx(zw,{amount:i})]})}),N.jsx("button",{type:"submit",children:h?N.jsxs("div",{className:As.loading,children:[N.jsx(LE,{color:"gray",size:35}),N.jsx("p",{children:"please wait ..."})]}):"Pay Now"})]})]})})})]})]})]})}const HG="order-module__container___Ztq55",$G="order-module__Orders__container___97VnS",PC={container:HG,Orders__container:$G};function GG(){const[{user:n},e]=W.useContext(Fs),[t,r]=W.useState([]);return W.useEffect(()=>{n?hN.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{var o;console.log(i),r((o=i==null?void 0:i.docs)==null?void 0:o.map(u=>({id:u.id,data:u.data()})))}):r([])},[]),N.jsx(Fc,{children:N.jsx("section",{className:PC.container,children:N.jsxs("div",{className:PC.Orders__container,children:[N.jsx("h2",{children:"Your Orders"}),t.length==0&&N.jsx("p",{style:{padding:"20px"},children:"You don't have orders yet."}),N.jsx("div",{children:t==null?void 0:t.map((i,o)=>{var u,h;return N.jsxs("div",{children:[N.jsx("hr",{}),N.jsxs("p",{children:["Order ID: ",i==null?void 0:i.id]}),(h=(u=i==null?void 0:i.data)==null?void 0:u.basket)==null?void 0:h.map(d=>N.jsx(Lc,{flex:!0,data:d},d.id))]},o)})})]})})})}const KG="cart-module__container___qBR-R",WG="cart-module__cart_product___2Lqad",QG="cart-module__btn_container___QdRMj",YG="cart-module__btn___uzIZ3",XG="cart-module__cart__container___-34My",JG="cart-module__subtotal___dqgDh",Ko={container:KG,cart_product:WG,btn_container:QG,btn:YG,cart__container:XG,subtotal:JG};function ZG(n){return Ec({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function eK(n){return Ec({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}function tK(){const[{basket:n,user:e},t]=W.useContext(Fs),r=n.reduce((u,h)=>h.price*h.amount+u,0),i=u=>{t({type:Qr.ADD_TO_BASKET,item:u})},o=u=>{t({type:Qr.REMOVE_FROM_BASKET,id:u})};return N.jsx(Fc,{children:N.jsxs("section",{className:Ko.container,children:[N.jsxs("div",{className:Ko.cart__container,children:[N.jsx("h2",{children:"hello"}),N.jsx("h3",{children:"Your shopping basket"}),N.jsx("hr",{}),(n==null?void 0:n.length)===0?N.jsx("p",{children:"Opps ! No items in your cart"}):n==null?void 0:n.map((u,h)=>N.jsxs("section",{className:Ko.cart_product,children:[N.jsx(Lc,{data:u,flex:!0,renderDesc:!0,renderAdd:!1},h),N.jsxs("div",{className:Ko.btn_container,children:[N.jsx("button",{className:Ko.btn,onClick:()=>i(u),children:N.jsx(eK,{size:30})}),N.jsx("span",{children:u.amount}),N.jsx("button",{className:Ko.btn,onClick:()=>o(u.id),children:N.jsx(ZG,{size:30})})]})]}))]}),(n==null?void 0:n.length)!==0&&N.jsxs("div",{className:Ko.subtotal,children:[N.jsxs("div",{children:[N.jsxs("p",{children:["subtotal(",n==null?void 0:n.length,"items)"]}),N.jsx(zw,{amount:r})]}),N.jsxs("span",{children:[N.jsx("input",{type:"checkbox"}),N.jsx("small",{children:"this ordr contains a gift"})]}),N.jsx(ui,{to:"/payment",children:"Continue to CheckOut"})]})]})})}const nK="signUp-module__login___-qyZs",rK="signUp-module__login__container___tXdp-",iK="signUp-module__btn__sin___n3I8a",sK="signUp-module__btn__creat___2WZV6",Am={login:nK,login__container:rK,btn__sin:iK,btn__creat:sK};function aK(){var T,w;const[n,e]=W.useState(""),[t,r]=W.useState(""),[i,o]=W.useState(""),[{user:u},h]=W.useContext(Fs),d=Ug(),f=ao();console.log(f);const[g,_]=W.useState({signin:!1,signup:!1}),v=async R=>{R.preventDefault(),console.log(R.target.name),R.target.name=="signin"?(_({...g,signin:!0}),Jx(xg,n,t).then(x=>{var U;console.log(x),h({type:Qr.SET_USER,user:x.user}),_({...g,signin:!1}),d(((U=f==null?void 0:f.state)==null?void 0:U.redirect)||"/")}).catch(x=>{o(x.message),_({...g,signin:!1})})):(_({...g,signup:!0}),Xx(xg,n,t).then(x=>{var U;console.log(x),h({type:Qr.SET_USER,user:x.user}),_({...g,signup:!1}),d(((U=f==null?void 0:f.state)==null?void 0:U.redirect)||"/")}).catch(x=>{o(x.message),_({...g,signup:!1})}))};return N.jsxs("section",{className:Am.login,children:[N.jsx("div",{children:N.jsx(ui,{to:"/",children:N.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG12.png",alt:"Amazon logo"})})}),N.jsxs("div",{className:Am.login__container,children:[N.jsx("h1",{children:"Sign in"})," ",N.jsx("br",{}),((T=f==null?void 0:f.state)==null?void 0:T.msg)&&N.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontweight:"bold"},children:(w=f==null?void 0:f.state)==null?void 0:w.msg}),N.jsxs("form",{action:"",children:[N.jsxs("div",{children:[N.jsx("label",{htmlFor:"email",children:"E-mail"}),N.jsx("br",{}),N.jsx("input",{value:n,onChange:R=>e(R.target.value),type:"email",id:"email"})]}),N.jsx("br",{}),N.jsxs("div",{children:[N.jsx("label",{htmlFor:"password",children:"Password"}),N.jsx("br",{}),N.jsx("input",{value:t,onChange:R=>r(R.target.value),type:"password",id:"password"})]}),N.jsx("br",{}),N.jsx("button",{type:"submit",name:"signin",onClick:v,className:Am.btn__sin,children:g.signin?N.jsx(LE,{color:"light blue",size:25}):"Sign in"}),N.jsx("br",{}),N.jsx("br",{})]}),N.jsxs("p",{children:["By signing-in you agree to the AMAZON,",N.jsx("br",{}),"FAKE CLONE Conditions of Use & sale. ",N.jsx("br",{}),"please see our Privacy Notice,our Cookies Notice and our interest-Based Ads Notice.",N.jsx("br",{})]}),N.jsx("br",{}),N.jsx("button",{type:"submit",name:"signup",onClick:v,className:Am.btn__creat,children:g.signup?N.jsx(LE,{color:"orange",size:25}):"Creat your amazon Account"}),i&&N.jsx("small",{style:{paddingTop:"5px",color:"red"},children:i})]})]})}const oK="results-module__product_container___b-sfj",lK={product_container:oK},Ok="https://fakestoreapi.com";function uK(){const[n,e]=W.useState([]),{categoryName:t}=HC(),[r,i]=W.useState(!1);return console.log(t),W.useEffect(()=>{i(!0),It.get(`${Ok}/products/category/${t}`).then(o=>{console.log(o),e(o.data),i(!1)}).catch(o=>{console.log(o),i(!1)})},[t]),N.jsx(Fc,{children:N.jsxs("section",{children:[N.jsx("h1",{style:{padding:"30px"},children:"Results"}),N.jsxs("p",{style:{padding:"30px"},children:["Category/",t]}),N.jsx("hr",{}),r?N.jsx(Gw,{}):N.jsx("div",{className:lK.product_container,children:n==null?void 0:n.map((o,u)=>N.jsx(Lc,{data:o,renderAdd:!0},u))})]})})}function cK(){const{productId:n}=HC();console.log(n);const[e,t]=W.useState([]),[r,i]=W.useState(!1);return W.useEffect(()=>{i(!0),It.get(`${Ok}/products/${n}`).then(o=>{console.log(o),t(o.data),i(!1)}).catch(o=>{console.log(o),i(!1)})},[]),N.jsx(Fc,{children:r?N.jsx(Gw,{}):N.jsx(Lc,{data:e,flex:!0,renderDesc:!0,renderAdd:!0})})}var Dk="https://js.stripe.com",hK="".concat(Dk,"/v3"),dK=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,fK=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var pK=function(e){return dK.test(e)||fK.test(e)},mK=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Dk,'"]')),t=0;t<e.length;t++){var r=e[t];if(pK(r.src))return r}return null},OC=function(e){var t="",r=document.createElement("script");r.src="".concat(hK).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},gK=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.7.0",startTime:t})},md=null,Rm=null,Im=null,yK=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},_K=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},vK=function(e){return md!==null?md:(md=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=mK();if(!(i&&e)){if(!i)i=OC(e);else if(i&&Im!==null&&Rm!==null){var o;i.removeEventListener("load",Im),i.removeEventListener("error",Rm),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=OC(e)}}Im=_K(t,r),Rm=yK(r),i.addEventListener("load",Im),i.addEventListener("error",Rm)}catch(u){r(u);return}}),md.catch(function(t){return md=null,Promise.reject(t)}))},EK=function(e,t,r){if(e===null)return null;var i=e.apply(void 0,t);return gK(i,r),i},gd,Nk=!1,kk=function(){return gd||(gd=vK(null).catch(function(e){return gd=null,Promise.reject(e)}),gd)};Promise.resolve().then(function(){return kk()}).catch(function(n){Nk||console.warn(n)});var bK=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Nk=!0;var i=Date.now();return kk().then(function(o){return EK(o,t,i)})};const DC=({children:n,msg:e,redirect:t})=>{const r=Ug(),[{user:i},o]=W.useContext(Fs);return W.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[i]),n},wK=bK("pk_test_51Qw8qSGIelc13XlJ25lf02BsBHKDyF1ohYGN5YPaALeSqkvKJscTcEkkTJkJ0e46AvsPk4Wb6n8JwWp89UU7I8Ie00jxCstUlX");function TK(){return N.jsx(YM,{children:N.jsxs(RM,{children:[N.jsx(Na,{path:"/",element:N.jsx(_G,{})}),N.jsx(Na,{path:"/auth",element:N.jsx(aK,{})}),N.jsx(Na,{path:"/payment",element:N.jsx(DC,{msg:"you must sign in to pay",redirect:"/payment",children:N.jsx(xk,{stripe:wK,children:N.jsx(qG,{})})})}),N.jsx(Na,{path:"/orders",element:N.jsx(DC,{msg:"you must sign in to accesse you orders",redirect:"/orders",children:N.jsx(GG,{})})}),N.jsx(Na,{path:"/category/:categoryName",element:N.jsx(uK,{})}),N.jsx(Na,{path:"/products/:productId",element:N.jsx(cK,{})}),N.jsx(Na,{path:"/cart",element:N.jsx(tK,{})})]})})}function SK(){const[n,e]=W.useState(0),[{user:t},r]=W.useContext(Fs);return W.useEffect(()=>{xg.onAuthStateChanged(i=>{r(i?{type:Qr.SET_USER,user:i}:{type:Qr.SET_USER,user:null})})},[]),N.jsx(N.Fragment,{children:N.jsx(TK,{basename:"/Amazo-Clone-2025"})})}mV.createRoot(document.getElementById("root")).render(N.jsx(W.StrictMode,{children:N.jsx(lL,{reducer:oL,initialState:aL,children:N.jsx(SK,{})})}));
